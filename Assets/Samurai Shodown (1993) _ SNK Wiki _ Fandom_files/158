!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(12),a=n(13),o=n(14),i=n(15);e.exports=function(e){return r(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(18);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(6).default,a=n(5);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(17);function a(){return"undefined"!=typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,n){var a=r(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r;e.exports=(r=n(19),function(e){var t=r,n=t.lib,a=n.WordArray,o=n.Hasher,i=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,a=0;a<64;)t(r)&&(a<8&&(s[a]=n(e.pow(r,.5))),u[a]=n(e.pow(r,1/3)),a++),r++}();var c=[],d=i.SHA256=o.extend({_doReset:function(){this._hash=new a.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],o=n[2],i=n[3],s=n[4],d=n[5],l=n[6],p=n[7],f=0;f<64;f++){if(f<16)c[f]=0|e[t+f];else{var h=c[f-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=c[f-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[f]=g+c[f-7]+y+c[f-16]}var w=r&a^r&o^a&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&l)+u[f]+c[f];p=l,l=d,d=s,s=i+b|0,i=o,o=a,a=r,r=b+(m+w)|0}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+i|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+l|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,a=8*t.sigBytes;return n[a>>>5]|=128<<24-a%32,n[14+(a+64>>>9<<4)]=e.floor(r/4294967296),n[15+(a+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(d),t.HmacSHA256=o._createHmacHelper(d)}(Math),r.SHA256)},function(e,t,n){var r=n(9);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){!function(e,t){"use strict";e=e||"docReady",t=t||window;var n=[],r=!1,a=!1;function o(){if(!r){r=!0;for(var e=0;e<n.length;e++)n[e].fn.call(window,n[e].ctx);n=[]}}function i(){"complete"===document.readyState&&o()}t[e]=function(e,t){if("function"!=typeof e)throw new TypeError("callback for docReady(fn) must be a function");r?setTimeout((function(){e(t)}),1):(n.push({fn:e,ctx:t}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(o,1):a||(document.addEventListener?(document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",o,!1)):(document.attachEvent("onreadystatechange",i),window.attachEvent("onload",o)),a=!0))}}("docReady",window)},function(e,t,n){var r=n(4);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r;e.exports=r=r||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},a=r.lib={},o=a.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,a=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<a;o++){var i=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=i<<24-(r+o)%4*8}else for(o=0;o<a;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],a=function(t){t=t;var n=987654321,r=4294967295;return function(){var a=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return a/=4294967296,(a+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=a(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new i.init(r,t)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var o=t[a>>>2]>>>24-a%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],a=0;a<n;a++){var o=t[a>>>2]>>>24-a%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,a=n.sigBytes,o=this.blockSize,s=a/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,c=e.min(4*u,a);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(r,d);var l=r.splice(0,u);n.sigBytes-=c}return new i.init(l,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(a.Hasher=l.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math)},function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),o=(n(16),n(1)),i=n.n(o),s=n(2),u=n.n(s),c=n(5),d=n.n(c),l=n(10),p=n.n(l),f=n(7),h=n.n(f),g=n(8),v=n.n(g),y=n(4),w=n.n(y),m=n(0),b=n.n(m),_=n(11),S=n.n(_),A=n(6),x=n.n(A),P=document,T=(parent,window,function(e,t){var n=P.createElement("img");return n.height=1,n.width=1,n.style.display="none",n.src=e,n.onload=t,n.alt="",P.body.appendChild(n)}),E=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=P.createElement("script");return n.type="text/javascript",n.src=e,n.async=t,P.body.appendChild(n)},C=function(e,t,n){return(parseInt(function(e){for(var t="_au_"+e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}(e))||0)+t<n},O=function(e,t){document.cookie="_au_"+e+"="+t+"; domain="+function(e){var t=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n=e.split("."),r=n[n.length-1];(r.length>4||"com"===r||"org"===r||"net"===r)&&(t=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i);var a=e.match(t);return a?a[0]:e}(document.location.hostname)+"; path=/; max-age=31536000"},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var j=function(){function e(t){i()(this,e),this.pixels=t,this.parameters={sku:"",orderId:"",qty:"",revenue:"",ltv:""}}return u()(e,[{key:"dropPixel",value:function(e,t){var n=this.pixels[e]||[],r=this.parameters;t&&Object.keys(t).forEach((function(e){return r[e]=t[e],!1})),n.forEach((function(e){var t=e,n="img";return"string"!=typeof e&&(t=e[0],(n=e[1])||(n="img")),t=(t=(t=(t=(t=(t=t.replace(/\[\[SKU\]\]/g,r.sku)).replace(/\[\[ORDERID\]\]/g,r.orderId)).replace(/\[\[QTY\]\]/g,r.qty)).replace(/\[\[REVENUE\]\]/g,r.revenue)).replace(/\[\[LTV\]\]/g,r.ltv)).replace(/\[\[ITEMS\]\]/g,(r.items||[]).map((function(e){return e.id||""})).join(",")),"img"===n?T(t):"script"===n?E(t):"iframe"===n&&function(e){var t=P.createElement("iframe");return t.width=1,t.height=1,t.style.display="none",t.src=e,P.body.appendChild(t)}(t)}))}}]),e}(),I=window.auvars[window.auvars.p].t,L=(window.auvars[window.auvars.p].p,function(){function e(){i()(this,e),window.aupixels?this.pixels=window.aupixels.ec||{}:this.pixels={},this.ECPixels=new j(this.pixels),this.pageLoadRun=[],window.Adgt||(window.Adgt={}),window.Adgt.VarWatch=function(e,t,n){var r=e[t];return function(){if(e[t]!=r){var a=r;r=e[t],n(a,r)}}},window.Adgt.VarHandler=function(e,t){window.au.push({category:"DispatchEvent",eventName:"ProductMetaUpdated"}),clearInterval(window.Adgt.variantInterval)},window.Adgt.SetVarInterval=function(e,t){window.Adgt.variantInterval=setInterval(window.Adgt.VarWatch(e,t,window.Adgt.VarHandler),100)},window.Adgt.Store=this}return u()(e,[{key:"pathIncludes",value:function(e){return-1!==window.location.pathname.indexOf(e)}},{key:"updatePixels",value:function(){var e=this;this.pixels=window.aupixels.ec||{},this.ECPixels=new j(this.pixels),this.pageLoadRun.forEach((function(t){var n={};"add"===t||"view"===t?n={sku:e.product.id}:"checkout"===t?n={qty:e.qty,revenue:e.revenue}:"transaction"===t&&(n={qty:e.transaction.items.length||e.qty,revenue:e.transaction.revenue||e.revenue,orderId:e.transaction.id}),e.ECPixels.dropPixel(t,n)})),this.pageLoadRun=[]}},{key:"appendPageLoadPixelCheck",value:function(e){this.pageLoadRun.filter((function(t){return t===e})).length||this.pageLoadRun.push(e)}},{key:"setClassProducts",value:function(e){this.products=e,this.qty=e.length,this.revenue=e.reduce((function(e,t){return e+parseFloat(t.price)}),0)}},{key:"sendAddProductEventToGA",value:function(e){this.product=e;try{this.gaAddProduct(e),ga("".concat("auPassiveTagger",".ec:setAction"),"add"),ga("".concat("auPassiveTagger",".send"),"event","UX","click","add to cart"),this.ECPixels.dropPixel("add",{sku:e.id,revenue:e.price.toFixed(2)})}catch(e){console.error(e)}}},{key:"sendViewProductEventToGA",value:function(e){this.product=e;try{ga("".concat("auPassiveTagger",".ec:addImpression"),{id:e.id,name:e.name,price:e.price,brand:e.brand}),ga("".concat("auPassiveTagger",".ec:setAction"),"detail"),ga("".concat("auPassiveTagger",".send"),"pageview"),this.ECPixels.dropPixel("view",{sku:e.id})}catch(e){console.error(e)}}},{key:"sendAllProductsInCartToGA",value:function(e,t){this.setClassProducts(e);try{for(var n=0;n<e.length;n++){var r=e[n];this.gaAddProduct(r)}return t(),!0}catch(e){return!1}}},{key:"sendCheckoutEventToGA",value:function(){try{ga("".concat("auPassiveTagger",".ec:setAction"),"checkout",{step:1}),ga("".concat("auPassiveTagger",".send"),"event",{eventCategory:"Checkout",eventAction:"checkout",hitCallback:function(){}}),this.ECPixels.dropPixel("checkout",{qty:this.qty,revenue:this.revenue})}catch(e){console.error(e)}}},{key:"sendAllProductsInTransactionToGA",value:function(e,t){this.setClassProducts(e);try{for(var n=0;n<e.length;n++){var r=e[n];this.gaAddProduct(r)}return t(),!0}catch(e){return!1}}},{key:"gaAddProduct",value:function(e){ga("".concat("auPassiveTagger",".ec:addProduct"),{id:e.id,name:e.name,brand:e.brand,price:e.price,quantity:e.quantity||1})}},{key:"sendTransactionEventToGA",value:function(e){this.transaction=e;try{ga("".concat("auPassiveTagger",".ec:setAction"),"purchase",{id:e.id,affiliation:e.affiliation,revenue:e.revenue,tax:e.tax,shipping:e.shipping}),ga("".concat("auPassiveTagger",".send"),"pageview"),this.ECPixels.dropPixel("transaction",{qty:(e.items||[]).length||this.qty,revenue:e.revenue||this.revenue,orderId:e.id,items:e.items||[],ltv:e.ltv||""})}catch(e){console.error(e)}}},{key:"profilerServiceRequest",value:function(e){window.au.push({category:"sendUserBehaviour",action:JSON.stringify(e)})}},{key:"sendErrorToSentry",value:function(){return!1}}]),e}());var q=function(e){h()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;return i()(this,n),(e=t.call(this)).brand=window.Shopify.shop,e}return u()(n,[{key:"captureProduct",value:function(e){try{var t=window.ShopifyAnalytics.meta.selectedVariantId,n=window.ShopifyAnalytics.meta.product.variants[0];return e?n=window.ShopifyAnalytics.meta.product.variants.find((function(t){return t.public_title===e})):t&&(n=window.ShopifyAnalytics.meta.product.variants.find((function(e){return e.id.toString()===t.toString()}))),n||((n=window.ShopifyAnalytics.meta.product.variants[0]).id=window.ShopifyAnalytics.meta.product.id),{id:"".concat(n.id,"-").concat(I),name:n.name,price:parseInt(n.price,10)/100,brand:this.brand}}catch(e){return console.error(e),null}}},{key:"sendProductEvents",value:function(){var e=this,t=this.captureProduct();if(t){this.sendViewProductEventToGA(t),this.appendPageLoadPixelCheck("view");var n=document.querySelector('button[name="add"]')||document.querySelector("form#add-item-form button")||document.querySelector("button.shopify_add_to_cart")||document.querySelector('input[name="add"]')||document.querySelector(".ProductForm__AddToCart")||document.querySelector("#AddToCart")||document.querySelector('.product-add input[type="submit"]');n&&window.au.push({category:"ListenerAttacher",input:n,method:function(){e.sendAddProductEventToGA(t),window.au.push({category:"behavior",action:"purchase-intent"});var n={event:"addToCart",data:t};e.profilerServiceRequest(n)}})}}},{key:"captureCart",value:function(){try{for(var e=document.querySelector("#order-summary").querySelectorAll("tr.product"),t=[],n=0;n<e.length;n++){var r=e[n],a=r.dataset.productId,o=r.querySelector(".product__description__name").textContent,i=parseFloat(r.querySelector(".product__price").textContent.replace(/[^0-9.]/g,"")),s=parseInt(r.querySelector(".product__quantity").textContent.replace(/\s+/g,""),10),u={id:"".concat(a,"-").concat(I),name:o,brand:this.brand,price:i,quantity:s};t.push(u)}return t}catch(e){return console.error(e),null}}},{key:"calculateRevenue",value:function(e){for(var t=0,n=0;n<e.length;n++)t+=parseFloat(e[n].price);return t}},{key:"captureTransaction",value:function(){try{var e=window.Shopify.checkout,t=window.Shopify.shop,n=e.order_id,r=parseFloat(e.subtotal_price),a=0;try{a=parseFloat(e.total_tax)}catch(e){console.error(e)}var o=0;if(e.shipping_rate)try{o=parseFloat(e.shipping_rate)}catch(t){try{o=parseFloat(e.shipping_rate.price)}catch(e){console.error(e)}}var i=this.formatProductsInTransaction(e.line_items);return{id:"".concat(n,"-").concat(I),affiliation:t,revenue:r,tax:a,shipping:o,items:i}}catch(e){return console.error(e),null}}},{key:"formatProductsInTransaction",value:function(e){for(var t=e,n=[],r=0;r<t.length;r++){var a=t[r],o={id:a.product_id,name:a.title,brand:this.brand,price:parseFloat(a.price),quantity:a.quantity};n.push(o)}return n}},{key:"initialize",value:function(){var e=this,t=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta&&window.ShopifyAnalytics.meta.product,n=window.Shopify.Checkout&&window.Shopify.Checkout.page&&"thank_you"!==window.Shopify.Checkout.page,r=window.Shopify.checkout,a=document.querySelectorAll("div.quickadd");if(a.length>0)for(var o=function(t){var n=a[t],r=n.querySelector("button").dataset.cartAdd,o=n.querySelector('[class$="item__title"]').textContent;if(n.querySelector(".js-option-value")){var i=n.querySelector(".js-option-value").textContent.split(": ");o+=i[i.length-1]}var s={id:r,name:o,price:parseFloat(n.querySelector(".product-price__price").textContent.replace(/[^0-9.]/g,"")),brand:e.brand};window.au.push({category:"ListenerAttacher",input:n,method:function(){e.sendAddProductEventToGA(s);var t={event:"addToCart",data:s};window.au.push({category:"behavior",action:"purchase-intent"}),e.profilerServiceRequest(t)}})},i=0;i<a.length;i++)o(i);if(t){this.sendProductEvents();var s=document.querySelectorAll(".swatch-element");if(s.length>0){window.addEventListener("ProductMetaUpdated",(function(){e.sendProductEvents()}));for(var u=0;u<s.length;u++){var c=s[u];window.au.push({category:"ListenerAttacher",input:c,method:function(){window.Adgt.SetVarInterval(window.ShopifyAnalytics.meta,"selectedVariantId")}})}}}if(n){var d=this.captureCart();d&&(window.au.push({category:"behavior",action:"purchase-intent"}),this.appendPageLoadPixelCheck("checkout"),this.sendAllProductsInCartToGA(d,(function(){return e.sendCheckoutEventToGA()})))}if(r&&-1!==window.location.pathname.indexOf("thank_you")){var l=this.captureTransaction();if(l){var p=l.items;window.au.push({category:"behavior",action:"purchase-complete"}),this.appendPageLoadPixelCheck("transaction"),this.sendAllProductsInTransactionToGA(p,(function(){return e.sendTransactionEventToGA(l)}))}else this.transaction={id:"null-".concat(I),affiliation:this.brand,revenue:0,tax:0,shipping:0,items:[]},this.appendPageLoadPixelCheck("transaction")}}}]),n}(L),R=function(){function e(t,n){i()(this,e),this.partnerId=t,this.taggerId=n,this.LAST_SEEN_TCF_KEY="last_seen_iab_tcf",this.LAST_SEEN_CUSTOM_KEY="last_seen_iab_custom",this.COOKIE_TTL=2592e6}return u()(e,[{key:"SendToQueue",value:function(e){return C(this.LAST_SEEN_CUSTOM_KEY,this.COOKIE_TTL,1*new Date)&&(window.au.push({category:"sendConsent",consented:e,consentType:"custom"}),O(this.LAST_SEEN_CUSTOM_KEY,1*new Date)),ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:e?"user_consent":"user_nonconsent",eventAction:window.location.hostname,eventLabel:this.taggerId}),!0}},{key:"sendRequest",value:function(e){O(this.LAST_SEEN_TCF_KEY,1*new Date),window.au.push({category:"sendConsent",consented:e.vendor.consents[561]||!1,consentType:"gdpr",consentString:e.tcString})}},{key:"WmgConsentListeners",value:function(){var e=this;document.querySelectorAll("div.overlay, .ppclose, .ppclose2").forEach((function(t){t.addEventListener("click",(function(){return e.SendToQueue(!0)})),t.addEventListener("touchend",(function(){return e.SendToQueue(!0)}))}))}},{key:"UproxxConsentListeners",value:function(){var e=this;document.querySelectorAll(".qc-cmp-button").forEach((function(t){var n=!0;t.textContent.toLowerCase().includes("do not")&&(n=!1),t.addEventListener("click",(function(){return e.SendToQueue(n)})),t.addEventListener("touchend",(function(){return e.SendToQueue(n)}))}))}},{key:"addConsentListeners",value:function(){var e=this;"14"===String(this.partnerId)&&this.WmgConsentListeners(),"24"===String(this.partnerId)&&this.UproxxConsentListeners();try{__tcfapi("addEventListener",2,(function(t,n){n&&("tcloaded"===t.eventStatus&&C(e.LAST_SEEN_TCF_KEY,e.COOKIE_TTL,1*new Date)&&e.sendRequest(t),"useractioncomplete"===t.eventStatus&&e.sendRequest(t))}))}catch(e){return!1}return!1}}]),e}();function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=window,D=document,V={"og:title":"title","og:description":"description","og:image":"image","og:url":"url","og:type":"type","og:name":"name","og:locale":"locale"},U={keywords:"keywords"},B=function(){function e(t){var n=this;i()(this,e),b()(this,"writeDecoratorRecord",(function(e){if(!(n.randNum>=n.decoratorTarget))return null;var t=n.getAttributes(e),r=n.getTags(e),a=H(H({},t),{},{tags:r.join(),tagger_id:n.auvars.t,partner_id:n.auvars.p}),o=new XMLHttpRequest,i="".concat("https://p.ad.gt","/api/v1/dec");return o.open("POST",i,!0),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(a)),o})),b()(this,"setupGA",(function(){var e,t,r,a,o;N.ga||(t=D,r="script","ga",(e=N).GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(r),o=t.getElementsByTagName(r)[0],a.async=1,a.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(a,o)),ga("create","UA-87198801-1","auto","auPassiveTagger"),ga("".concat("auPassiveTagger",".require"),"ecommerce"),ga("".concat("auPassiveTagger",".require"),"ec"),ga("".concat("auPassiveTagger",".set"),"anonymizeIp",!0),ga("".concat("auPassiveTagger",".set"),"dimension1",n.auvars.a),ga("".concat("auPassiveTagger",".set"),"dimension2","none"),ga("".concat("auPassiveTagger",".set"),"dimension3",n.auvars.p),ga("".concat("auPassiveTagger",".set"),"dimension4",n.u.hostname),ga("".concat("auPassiveTagger",".set"),"dimension5",n.u.pathname),ga("".concat("auPassiveTagger",".set"),"dimension6","Passive Tagger"),ga("".concat("auPassiveTagger",".set"),"dimension7",n.auvars.t),(n.randNum>=.9||["158"].includes(n.auvars.p.toString())&&n.randNum>=.7||["220"].includes(n.auvars.p.toString()))&&ga("".concat("auPassiveTagger",".send"),"pageview")})),b()(this,"ListenerIterator",(function(e,t){Array.prototype.forEach.call(n.d.querySelectorAll(e),(function(e){n.ListenerAttacher({input:e,method:t})}))})),b()(this,"ListenerAttacher",(function(e){var t=e.input,n=e.method;null!=t&&(t.addEventListener?t.addEventListener("mousedown",n):t.attachEvent&&t.attachEvent("mousedown",n))})),b()(this,"GlobalListenerHandler",(function(e){n.GlobalHandlers[e.type].forEach((function(t){if(e.target.matches(t.selector))t.method(e);else for(var n=e.target,r=!1;n.parentElement&&!r;)(r=(n=n.parentElement).matches(t.selector))&&t.method(H(H({},e),{},{target:n}))}))})),b()(this,"GlobalListenerAttacher",(function(e,t,r){"string"==typeof e&&(e=[e]),e.forEach((function(e){n.GlobalHandlers[e]=n.GlobalHandlers[e]||[],n.GlobalHandlers[e].push({selector:t,method:r}),document.addEventListener?(document.removeEventListener(e,window.au.l),document.addEventListener(e,window.au.l)):document.attachEvent&&(document.detachEvent(e,window.au.l),document.attachEvent(e,window.au.l))}))})),b()(this,"sendOffsiteClick",(function(e){var t=e.url;T("".concat("https://a.ad.gt","/api/v1/off-site-click/").concat(n.auvars.p,"?tagger_id=").concat(n.auvars.t,"&url=").concat(t))})),b()(this,"clickHandler",(function(e){var t=e.currentTarget.getAttribute("href");null!==t&&n.include_internal_links.includes(window.location.hostname)&&window.au.push({category:"sendSPAPageView",url:t})})),b()(this,"sendUserBehaviour",(function(e){var t={click_url:e.action,tagger_id:n.auvars.t,audigent_id:n.auvars.a,partner_id:n.auvars.p},r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/ubh");r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(t))})),b()(this,"behavior",(function(e){var t=encodeURIComponent("".concat(n.u.protocol,"//").concat(n.u.hostname).concat(n.u.pathname,"__audigent-behavior-").concat(e.action).concat(n.u.search).concat(n.u.hash));n.sendOffsiteClick({url:t}),n.sendGAEvent({eventCategory:"audigent-behavior",eventAction:e.action,eventLabel:n.auvars.t})})),b()(this,"sendEvent",(function(e){var t=e.event,r=e.events,a=e.type;if(!(t=t||r)){if(!a)return null;delete(t=H({},e)).category,delete t.partnerId}var o={tagger_id:n.auvars.t,partner_id:n.auvars.p,audigent_id:n.auvars.a,events:Array.isArray(t)?t:[t]},i=new XMLHttpRequest,s="".concat("https://p.ad.gt","/api/v1/event");return i.open("POST",s,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(o)),""})),b()(this,"sendGAEvent",(function(e){var t=e.eventCategory,n=e.eventAction,r=e.eventLabel,a=e.skipSQS;ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:t,eventAction:n,eventLabel:r}),a||window.au.push({category:"sendEvent",event:{type:t,eventAction:n,eventLabel:r}})})),b()(this,"sendConsent",(function(e){var t={audigent_id:n.auvars.a,tagger_id:n.auvars.t,partner_id:n.auvars.p,consented:e.consented,consent_type:e.consentType,consent_string:e.consentString},r=new XMLHttpRequest,a="".concat("https://p.ad.gt","/api/v1/con");return r.open("POST",a,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(t)),""})),b()(this,"otpTrack",(function(){var e=window.au_seg;if(e&&e.segments){var t=e.segments.filter((function(e){return e.match(/AU_SEG_(AGE|GENDER)/gi)}));n.randNum>=.9&&(n.sendGAEvent({eventCategory:"otpTracker",eventAction:t.join("|"),eventLabel:n.u.hostname,skipSQS:!0}),n.segCapture())}if(n.randNum>=.99||["134"].includes(n.auvars.p.toString())&&n.randNum>=.7){var r=n.u.hostname,a=new XMLHttpRequest,o=n.auvars.a,i=n.auvars.p.toString(),s=n.auvars.t,u="".concat("https://seg.ad.gt","/api/v1/demo?au_id=").concat(o,"&partner_id=").concat(i,"&tagger_id=").concat(s);a.open("get",u,!0),a.setRequestHeader("Content-type","application/json"),a.addEventListener("load",(function(){var e=JSON.parse(this.responseText).segments||[];e.length&&window.au.push({category:"sendGAEvent",eventCategory:"otpTester",eventAction:e.join("|"),eventLabel:r,skipSQS:!0})})),a.send()}})),b()(this,"pixels",(function(){var e="".concat("https://pixels.ad.gt","/api/v1/getpixels?tagger_id=").concat(n.auvars.t,"&url=").concat(encodeURIComponent(n.u.href),"&code='none'");E(e,!0)})),b()(this,"setupConsentHandler",(function(){n.consentHandler.addConsentListeners()})),b()(this,"sendSPAPageView",(function(e){var t=e.url;if(t){t.startsWith("//")&&(t="http://"+t),!t.startsWith("/")&&t.includes("://")||(t=n.d.location.protocol+"//"+n.d.location.host+(t.startsWith("/")?"":"/")+t);try{var r=new URL(t);r.host===n.d.location.host&&(n.sendOffsiteClick(r.href),ga("".concat("auPassiveTagger",".send"),"pageview",r.pathname+r.hash))}catch(e){}}})),b()(this,"beopEvent",(function(e){var t=e.partnerId||n.auvars.p;n.sendEvent({event:H(H({},e.data||{}),{},{partner_id:t,type:"beop"})})})),b()(this,"trackEvent",(function(e){return!1})),b()(this,"DispatchEvent",(function(e){var t=function(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=!1,n=!1,r=void 0,a=document.createEvent("CustomEvent");return a.initCustomEvent(e,t,n,r),a}(e.eventName);window.dispatchEvent(t)})),b()(this,"optout",(function(){T("".concat("https://ids.ad.gt","/api/v1/optout?au_id=").concat(n.auvars.a))}));var r=(t||{}).decoratorTarget;this.w=N,this.u=N.location,this.d=D,this.udTags=[],this.udAttributes=[],this.auvars=N.auvars[N.auvars.p],this.GlobalHandlers={},this.randNum=Math.random(),this.decoratorTarget=r||.995,this.consentHandler=new R(this.auvars.p,this.auvars.t),this.docReady=this.docReady.bind(this),this.facebook=this.facebook.bind(this)}return u()(e,[{key:"valueOf",value:function(){return null}},{key:"docReady",value:function(){var e=this;if(this.setupTaggerId(),this.getHadron(),this.sendPageView(),this.pixels(),this.facebook(),this.setupGA(),this.setupConsentHandler(),this.ListenerIterator("a",this.clickHandler),this.include_internal_links=[],N.addEventListener("hashchange",(function(){e.sendSPAPageView({url:e.u.href}),e.pixels()})),this.otpTrack(),window.Shopify){var t=new q;t.initialize(),window.addEventListener("aupixels",(function(){t.updatePixels()}))}}},{key:"observeDom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{childList:!0},r=window.MutationObserver||window.WebKitMutationObserver;if(e&&1===e.nodeType){if(r){var a=new r(t);return a.observe(e,n),a}window.addEventListener&&(e.addEventListener("DOMNodeInserted",t,!1),e.addEventListener("DOMNodeRemoved",t,!1))}}},{key:"facebook",value:function(){return!["57","95","269","273","305","314","317","376","381","462"].includes(this.auvars.p)&&(e=window,t=document,n="script",e.fbq||(r=e.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},e._fbq||(e._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(a=t.createElement(n)).async=!0,a.src="https://connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(a,o)),fbq("init","1853083501571805"),fbq("trackSingle","1853083501571805","PageView",{partner_id:this.auvars.p,tagger_id:this.auvars.t}),!0);var e,t,n,r,a,o}},{key:"push",value:function(e,t,n){return"string"==typeof e?(console.warn('[Audigent] deprecated use of "push": please use .push( object )'),(this[e]||function(){return!1}).call(this,n)):e&&"object"===x()(e)?"fn"in e?(this[e.fn]||function(){return!1}).call(this,e.args):(this[e.category]||function(){return!1}).call(this,e):(console.warn("[Audigent] could not execute the required command: please check your syntax"),!1)}},{key:"getHadron",value:function(){!0===(this.w.hadron||{loaded:!1}).loaded?this.auvars.h=this.w.hadron.id:this.auvars.h=null}},{key:"getTaggerComponents",value:function(){return null}},{key:"setupTaggerId",value:function(){var e=this.getTaggerComponents();if(Array.isArray(e)&&e.length>0){var t=("AU1T-0100-"+function(e){function t(e,t){var n,r,a,o,i;return a=2147483648&e,o=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^i^a^o:n|r?1073741824&i?3221225472^i^a^o:1073741824^i^a^o:i^a^o}function n(e,n,r,a,o,i,s){return e=t(e,t(t(n&r|~n&a,o),s)),t(e<<i|e>>>32-i,n)}function r(e,n,r,a,o,i,s){return e=t(e,t(t(n&a|r&~a,o),s)),t(e<<i|e>>>32-i,n)}function a(e,n,r,a,o,i,s){return e=t(e,t(t(n^r^a,o),s)),t(e<<i|e>>>32-i,n)}function o(e,n,r,a,o,i,s){return e=t(e,t(t(r^(n|~a),o),s)),t(e<<i|e>>>32-i,n)}function i(e){var t,n="",r="";for(t=0;3>=t;t++)n+=(r="0"+(r=e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var s,u,c,d,l,p,f,h,g;for(s=function(e){for(var t,n=e.length,r=16*(((t=n+8)-t%64)/64+1),a=Array(r-1),o=0,i=0;i<n;)o=i%4*8,a[t=(i-i%4)/4]|=e.charCodeAt(i)<<o,i++;return a[t=(i-i%4)/4]|=128<<i%4*8,a[r-2]=n<<3,a[r-1]=n>>>29,a}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):(127<r&&2048>r?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e)),p=1732584193,f=4023233417,h=2562383102,g=271733878,e=0;e<s.length;e+=16)u=p,c=f,d=h,l=g,p=n(p,f,h,g,s[e+0],7,3614090360),g=n(g,p,f,h,s[e+1],12,3905402710),h=n(h,g,p,f,s[e+2],17,606105819),f=n(f,h,g,p,s[e+3],22,3250441966),p=n(p,f,h,g,s[e+4],7,4118548399),g=n(g,p,f,h,s[e+5],12,1200080426),h=n(h,g,p,f,s[e+6],17,2821735955),f=n(f,h,g,p,s[e+7],22,4249261313),p=n(p,f,h,g,s[e+8],7,1770035416),g=n(g,p,f,h,s[e+9],12,2336552879),h=n(h,g,p,f,s[e+10],17,4294925233),f=n(f,h,g,p,s[e+11],22,2304563134),p=n(p,f,h,g,s[e+12],7,1804603682),g=n(g,p,f,h,s[e+13],12,4254626195),h=n(h,g,p,f,s[e+14],17,2792965006),p=r(p,f=n(f,h,g,p,s[e+15],22,1236535329),h,g,s[e+1],5,4129170786),g=r(g,p,f,h,s[e+6],9,3225465664),h=r(h,g,p,f,s[e+11],14,643717713),f=r(f,h,g,p,s[e+0],20,3921069994),p=r(p,f,h,g,s[e+5],5,3593408605),g=r(g,p,f,h,s[e+10],9,38016083),h=r(h,g,p,f,s[e+15],14,3634488961),f=r(f,h,g,p,s[e+4],20,3889429448),p=r(p,f,h,g,s[e+9],5,568446438),g=r(g,p,f,h,s[e+14],9,3275163606),h=r(h,g,p,f,s[e+3],14,4107603335),f=r(f,h,g,p,s[e+8],20,1163531501),p=r(p,f,h,g,s[e+13],5,2850285829),g=r(g,p,f,h,s[e+2],9,4243563512),h=r(h,g,p,f,s[e+7],14,1735328473),p=a(p,f=r(f,h,g,p,s[e+12],20,2368359562),h,g,s[e+5],4,4294588738),g=a(g,p,f,h,s[e+8],11,2272392833),h=a(h,g,p,f,s[e+11],16,1839030562),f=a(f,h,g,p,s[e+14],23,4259657740),p=a(p,f,h,g,s[e+1],4,2763975236),g=a(g,p,f,h,s[e+4],11,1272893353),h=a(h,g,p,f,s[e+7],16,4139469664),f=a(f,h,g,p,s[e+10],23,3200236656),p=a(p,f,h,g,s[e+13],4,681279174),g=a(g,p,f,h,s[e+0],11,3936430074),h=a(h,g,p,f,s[e+3],16,3572445317),f=a(f,h,g,p,s[e+6],23,76029189),p=a(p,f,h,g,s[e+9],4,3654602809),g=a(g,p,f,h,s[e+12],11,3873151461),h=a(h,g,p,f,s[e+15],16,530742520),p=o(p,f=a(f,h,g,p,s[e+2],23,3299628645),h,g,s[e+0],6,4096336452),g=o(g,p,f,h,s[e+7],10,1126891415),h=o(h,g,p,f,s[e+14],15,2878612391),f=o(f,h,g,p,s[e+5],21,4237533241),p=o(p,f,h,g,s[e+12],6,1700485571),g=o(g,p,f,h,s[e+3],10,2399980690),h=o(h,g,p,f,s[e+10],15,4293915773),f=o(f,h,g,p,s[e+1],21,2240044497),p=o(p,f,h,g,s[e+8],6,1873313359),g=o(g,p,f,h,s[e+15],10,4264355552),h=o(h,g,p,f,s[e+6],15,2734768916),f=o(f,h,g,p,s[e+13],21,1309151649),p=o(p,f,h,g,s[e+4],6,4149444226),g=o(g,p,f,h,s[e+11],10,3174756917),h=o(h,g,p,f,s[e+2],15,718787259),f=o(f,h,g,p,s[e+9],21,3951481745),p=t(p,u),f=t(f,c),h=t(h,d),g=t(g,l);return(i(p)+i(f)+i(h)+i(g)).toLowerCase()}(e.join())).toUpperCase();return this.auvars.t=t,N.auvars.t=t,!0}return!1}},{key:"getMetaAttributes",value:function(){var e,t=this.d.querySelectorAll("meta"),n={url:this.u.href,title:this.d.title},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(e=r.n()).done;){var a=e.value,o=a.getAttribute("property");if(o in V)n[V[o]]=a.getAttribute("content");else{var i=a.getAttribute("name");if(i in U){var s=U[i];n[s]="keywords"===s?(a.getAttribute("content")||"").split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})):a.getAttribute("content")}}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"getAttributes",value:function(e){var t=e||{},n=t.decor_dict,r=t.attributes;return H(H(H(H({},n),r),this.udAttributes),this.getMetaAttributes())}},{key:"clearAttributes",value:function(){this.udAttributes={}}},{key:"setAttributes",value:function(e){var t=(e||{}).attributes;return"object"===x()(t)&&(this.udAttributes=t,!0)}},{key:"addAttributes",value:function(e){var t=(e||{}).attributes;return"object"===x()(t)&&(this.udAttributes=H(H({},this.udAttributes),t),!0)}},{key:"getMetaTags",value:function(){var e=this,t=document.head.querySelectorAll("meta[name='audigent:tags']")[0];return t?t.content.split("|").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(t){return(e.u.hostname+" > "+t).toUpperCase()})):[]}},{key:"getTags",value:function(e){var t=(e||{}).tags;return[].concat(a()(t||[]),a()(this.udTags),a()(this.getMetaTags())).filter((function(e){return"string"==typeof e||e instanceof String})).map((function(e){return e.replace(/,/g,"")})).map((function(e){return e.trim()})).filter((function(e){return e.length>0})).map((function(e){return e.toUpperCase()}))}},{key:"clearTags",value:function(){this.udTags=[]}},{key:"setTags",value:function(e){var t=(e||{}).tags;return Array.isArray(t)?(this.udTags=t,!0):"string"==typeof t&&(this.udTags=[t],!0)}},{key:"addTags",value:function(e){var t=(e||{}).tags;return Array.isArray(t)?(this.udTags=[].concat(a()(t),a()(this.udTags)),!0):"string"==typeof t&&(this.udTags=[t].concat(a()(this.udTags)),!0)}},{key:"segCapture",value:function(){var e=window.au_seg;if(((e||{}).segments||[]).length>0){var t={tagger_id:this.auvars.t,partner_id:this.auvars.p,audigent_id:this.auvars.a,segment_ids:e.segments.join("|")},n=new XMLHttpRequest,r="".concat("https://p.ad.gt","/api/v1/segs");return n.open("POST",r,!0),n.setRequestHeader("Content-type","application/json"),n.send(JSON.stringify(t)),!0}return!1}},{key:"tags",value:function(e){console.warn("[Audigent] this method is deprecated (params: "+JSON.stringify(e)+"). Use addTags/setTags/clearTags instead. Please contact your account manager for more info.");var t=(e.action||e.data||[]).map((function(e){return e.toUpperCase()}));this.push({category:"addTags",tags:t})}},{key:"conversion",value:function(e){console.log("[Audigent] Conversion Event - ".concat(e.action))}},{key:"sendPageView",value:function(e){if("1p"!==this.auvars.m)return!1;var t=this.getAttributes(e),n=this.getTags(e),r=1*new Date,a={event_timestamp:r,url:this.w.location.href,referrer:this.d.referrer,partner_id:this.auvars.p,tagger_id:this.auvars.t,audigent_id:this.auvars.a,attributes:t,tags:n};this.auvars.h&&(a.hadron_id=this.auvars.h);var o=(e||{}).data||{},i={category:"pageView",version:"v2",created_at:r,properties:H(H({},a),o)},s=new XMLHttpRequest,u="".concat("https://a.ad.gt","/api/v1/collect");return s.open("POST",u,!0),s.setRequestHeader("Content-type","text/plain"),s.send(function(e){var t,n,r,a,o,i,s,u="",c=0;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e);c<e.length;)a=(t=e.charCodeAt(c++))>>2,o=(3&t)<<4|(n=e.charCodeAt(c++))>>4,i=(15&n)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(n)?i=s=64:isNaN(r)&&(s=64),u=u+k.charAt(a)+k.charAt(o)+k.charAt(i)+k.charAt(s);return u}(JSON.stringify(i))),s}},{key:"setupInPageTaxonomy",value:function(e){var t=new URL("".concat("https://seg.ad.gt","/api/v1/segments"));t.searchParams.set("url",encodeURIComponent(this.u.href)),t.searchParams.set("partner_id",this.auvars.p),t.searchParams.set("tagger_id",this.auvars.t),t.searchParams.set("au_id",this.auvars.a);var n=new XMLHttpRequest;n.timeout=1e4,n.onload=function(){if(n.readyState==XMLHttpRequest.DONE&&200==n.status){var t=JSON.parse(n.response);N.au_seg=t;var r=new CustomEvent("auSegReady",{detail:t});D.dispatchEvent(r),(e||[]).forEach((function(e){return e(N,D,t.segments)}))}},n.ontimeout=function(){console.log("[Audigent] Taxonomy Service > Timeout")},n.onerror=function(){console.log("[Audigent] Taxonomy Service > Invalid Response")},n.open("GET",t,!0),n.send()}},{key:"addUserIdentity",value:function(e){if(!e)return!1;var t=e.identityType,n=e.identityValue;if(void 0===t||void 0===n)return!1;if("email"===t){var r=window.btoa(n);return this.sendEvent({event:{type:"e",value:r}})}return this.sendEvent({event:b()({type:"u"},t,n)})}},{key:"addUserProperty",value:function(e){if(!e)return!1;var t=e.propertyName,n=e.propertyValue;return void 0!==t&&void 0!==n&&("email"===t?this.addUserIdentity({identityType:"email",identityValue:n}):this.sendEvent({event:{type:"user.property",propertyName:t,propertyValue:n}}))}}]),e}();function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=u()((function e(t,n,r){var a=this;i()(this,e),b()(this,"lineItemsContain",(function(e){return a.lineItemIds.map((function(e){return e.toString()})).includes((e||"").toString())})),b()(this,"setJWPlayerListener",(function(){window.jwplayer&&(window.jwplayer().on("adImpression",a.readJWPlayerImpression),window.jwplayer().on("adComplete",(function(e){return a.readJWPlayerImpression(e,!0)})))})),b()(this,"readJWPlayerImpression",(function(e,t){window.auvars[a.auvars.p].jwp_impressions=window.auvars[a.auvars.p].jwp_impressions||[],window.auvars[a.auvars.p].jwp_impressions.push(e);var n=e.viewable,r=e.viewable,o="jwplayer-".concat(e.placement),i=a.determineViewability(window.jwplayer().getContainer())||{},s=i.pageTop,u=i.pageBot,c=i.slotMiddle,d=((e.ima||{}).ad||{}).g;(d.adWrapperIds||[]).forEach((function(i,l){var p=i,f=d.adWrapperCreativeIds[l],h=d.mediaUrl,g={advertiser_id:"",campaign_id:"",line_item_id:p,creative_id:f,ad_slot_id:o,creative_blob:h,viewable:n,inViewPercentage:r,pageTop:s,pageBot:u,slotMiddle:c,event:"jwplayerAdImpression"};a.adSlots[o]=g,window.au.push({category:"sendEvent",events:[F(F({type:"jwp_impression"},g),{},{jwpType:e.type||""})]}),"GDFP"===d.adWrapperSystems[l]&&a.lineItemsContain(i)&&!t&&a.sendAdSlotInformation(g)}))})),b()(this,"getAdSlotPayload",(function(e){if(!e)return!1;var t=e.getResponseInformation()||{},n=t.advertiserId,r=t.campaignId,o=t.lineItemId,i=t.creativeId,s=document.getElementById(e.getSlotElementId()),u=a.determineViewability(s)||{},c=u.pageTop,d=u.pageBot,l=u.slotMiddle,p=u.viewable,f=u.inViewPercentage;return{advertiser_id:n,campaign_id:r,line_item_id:o,creative_id:i,ad_slot_id:e.getAdUnitPath(),creative_blob:"",viewable:p,inViewPercentage:f,pageTop:c,pageBot:d,slotMiddle:l}})),b()(this,"collectAndSendGoogleAdSlot",(function(e,t){var n=a.getAdSlotPayload(e)||{};return n.event=t,a.adSlots[n.ad_slot_id]=n,a.sendAdSlotInformation(n),!0})),b()(this,"determineInViewPercentage",(function(e,t){var n=0;return e.top>=0&&e.bottom<=t&&(n=1),e.top<0&&e.bottom>0&&e.bottom<=t&&(n=e.bottom/e.height),e.top>=0&&e.top<=t&&e.bottom>t&&(n=(t-e.top)/e.height),Math.round(100*n)})),b()(this,"determineViewability",(function(e){var t=e.getBoundingClientRect(),n=window.scrollY,r=window.innerHeight,o=n+r,i=Math.round(t.top+t.height/2),s=a.determineInViewPercentage(t,r);return{pageTop:n,pageBot:o,slotMiddle:i,viewable:s>=50,inViewPercentage:s}})),b()(this,"compareVisiblePercentage",(function(e,t,n){var r=e.getAdUnitPath();a.adSlots[r]?a.adSlots[r].inViewPercentage<50&&t>=50&&a.collectAndSendGoogleAdSlot(e,n):a.collectAndSendGoogleAdSlot(e,n)})),b()(this,"setGoogleEventListener",(function(){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){a.collectAndSendGoogleAdSlot(e.slot,"slotRenderEnded")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotOnload",(function(e){a.collectAndSendGoogleAdSlot(e.slot,"slotOnload")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("impressionViewable",(function(e){a.collectAndSendGoogleAdSlot(e.slot,"impressionViewable")}))})),window.googletag.cmd.push((function(){window.googletag.pubads().addEventListener("slotVisibilityChanged",(function(e){a.compareVisiblePercentage(e.slot,e.inViewPercentage,"slotVisibilityChanged")}))}))})),b()(this,"getCurrentGoogleAdSlots",(function(){var e=window.googletag&&window.googletag.pubads&&window.googletag.pubads().getSlots();return!!e&&(e.forEach((function(e){return a.collectAndSendGoogleAdSlot(e,"pageLoad")})),!0)})),b()(this,"sendAdSlotInformation",(function(e){if(!a.orderIds.includes(e.campaign_id)&&!a.lineItemsContain(e.line_item_id))return!1;var t=new Date,n=F(F({},e),{},{datetime:t.toISOString(),audigent_id:a.auvars.a,tagger_id:a.auvars.t,partner_id:a.auvars.p,visit_id:a.auvars.visit_id,partner_site_host:window.location.hostname,partner_site_path:window.location.pathname});window.auvars[a.auvars.p].ad_slot_events=window.auvars[a.auvars.p].ad_slot_events||[],window.auvars[a.auvars.p].ad_slot_events.push(n),a.sendAdSlotToGoogleAnalytics(n);var r=new XMLHttpRequest,o="".concat("https://p.ad.gt","/api/v1/otp/dfp");return r.open("POST",o,!0),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(n)),r})),b()(this,"sendAdSlotToGoogleAnalytics",(function(e){var t=e.visit_id,n=e.advertiser_id,r=e.campaign_id,o=e.line_item_id,i=e.creative_id,s=e.tagger_id,u=a.sharedToGA,c=u.advertiser_ids,d=u.campaign_ids,l=u.line_item_ids,p=u.creative_ids;return!(c.includes(n)&&d.includes(r)&&l.includes(o)&&p.includes(i)||(a.sharedToGA.advertiser_ids.push(n),a.sharedToGA.campaign_ids.push(r),a.sharedToGA.line_item_ids.push(o),a.sharedToGA.creative_ids.push(i),window.ga("".concat("auPassiveTagger",".set"),"dimension10",t),window.ga("".concat("auPassiveTagger",".set"),"dimension11",n),window.ga("".concat("auPassiveTagger",".set"),"dimension12",r),window.ga("".concat("auPassiveTagger",".set"),"dimension13",o),window.ga("".concat("auPassiveTagger",".set"),"dimension14",i),"158"===a.auvars.p.toString()&&window.ga("".concat("auPassiveTagger",".send"),"pageview"),window.ga("".concat("auPassiveTagger",".send"),{hitType:"event",eventCategory:"smartotp",eventAction:"impression",eventLabel:s}),window.ga("".concat("auPassiveTagger",".set"),"dimension11",""),window.ga("".concat("auPassiveTagger",".set"),"dimension12",""),window.ga("".concat("auPassiveTagger",".set"),"dimension13",""),window.ga("".concat("auPassiveTagger",".set"),"dimension14",""),0))})),this.auvars=t,this.adSlots={},this.sharedToGA={advertiser_ids:[],campaign_ids:[],line_item_ids:[],creative_ids:[]},this.orderIds=n||[],this.lineItemIds=r||[],this.getCurrentGoogleAdSlots(),this.setGoogleEventListener()}));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X,Q,Y,$=function(e){h()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var a=w()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(d()(r),"checkJW",(function(){return r.jwp?(window.clearInterval(r.jwpInterval),null):(window.jwplayer&&(r.jwp=!0,r.smartOtpDfp.setJWPlayerListener()),null)})),b()(d()(r),"sendEcommerceEvent",(function(e){var t=e.type,n=e.data,o=new L;if(window.addEventListener("aupixels",(function(){o.updatePixels()})),!t||!n)return!1;if("add"===t||"add_to_cart"===t){var i=K(K({},n),{},{brand:n.brand||"Fandom"});o.sendAddProductEventToGA(i);var s={event:"addToCart",data:i};window.au.push({category:"behavior",action:"purchase-intent"}),o.profilerServiceRequest(s)}if("transaction"===t){var u=K(K({},n),{},{id:"".concat(n.orderId,"-").concat(r.auvars.t),affiliation:n.brand||"Fandom"}),c=u.items||[];c.length&&(c=c.map((function(e){return{id:e.productId||"",name:e.name||"",brand:e.brand||"Fandom",price:e.price||0,quantity:e.quantity||1}}))),r.sendEvent({events:[K({type:"purchase"},n)]}),o.appendPageLoadPixelCheck("transaction"),o.sendAllProductsInTransactionToGA(c,(function(){return o.sendTransactionEventToGA(u)})),window.localStorage.setItem("autx",JSON.stringify([].concat(a()(JSON.parse(window.localStorage.getItem("autx")||"[]")),[n.orderId])))}return null})),b()(d()(r),"tagsReader",(function(){var e=[],t={},n=[],a=[],o=document.querySelectorAll("div[data-gpt-page-params]"),i={gnre:["genre",[]],tv:["tv",[]],media:["media",[]],s0:["vertical",[]],s0c:["category",[]],esrb:["esrb",[]],pform:["platform",[]],pub:["publisher",[]],theme:["content theme",[]]};n.push((((window.ads||{}).context||{}).targeting||{}).wikiCategory||null),a.push((((window.ads||{}).context||{}).targeting||{}).wikiVertical||null),o.forEach((function(e){var t=JSON.parse(e.getAttribute("data-gpt-page-params"));Object.keys(i).forEach((function(e){var r=t[e]||[];"string"==typeof r&&(r=[r]),r.forEach((function(t){i[e][1].includes(t.toLowerCase())||i[e][1].push(t.toLowerCase())})),n.push(t.s0||null),a.push(t.s0v||null)}))})),Object.values(i).forEach((function(t){return t[1].forEach((function(n){return e.push("".concat(t[0].toLowerCase()," > ").concat(n.toLowerCase()))}))})),e=e.map((function(e){return e.toUpperCase()})),t.primaryCategory=Array.from(new Set(n.filter((function(e){return e>""})))).join(),t.pageType=Array.from(new Set(a.filter((function(e){return e>""})))).join(),r.push({category:"writeDecoratorRecord",tags:e,decor_dict:t})})),r.tagsReader(),r.docReady=r.docReady.bind(d()(r)),r.auvars.visit_id=S()("".concat(r.auvars.a,"-").concat(r.auvars.p,"-").concat(Date.now())).toString(),r.orderIds=[2900055810,2800288231,2891350216,2430343433,2877953001,2776381195,2841579083,2914646399,2811709422,2926983725,2796335699,2884513845,2829955320,2903841116,2733074813,2697661630,2792713087,2800288231,2829955320,2733074813,2921587863,2939321473,2938145417,2947289709,2959018529,2956847257,2956205941,2958816444,2973366439,2970924710,2972735884,2983676295,2989477856,2994581224,2983439165,2991963287,3003612211,3016236842,3028254224,3029976933,3032140244,3038913241,3034810542,3052258033,2980079696,3061393169,3065810115,3065118863,3073088604,3079108697,3089527339,3075341921],r.lineItemIds=["5837159488","5571436280","5783448216","5570139759","5783448225","5570139741","5761545988","5838772240","5785369187","5784798379","5835922698","5784798388","5837159503","5784798376","5785369859","5837159494","5839420556","5785369856","5570139747","5784798370","5785369853","5699466638","5570139750","5823087115","5838769909","5837159491","5788427160","5837159506","5835922689","5570139753","5571256462","5835922692","5784798385","5835922695","5838772237","5570139756","5823087109","5785369199","5785369193","5783448219","5823087118","5732727358","5571436277","5784798391","5779072942","5823087112","5838772246","5775108648","5823087103","5838772243","5785369184","5823087106","5732728285","5837159497","5784798373","5785369190","5785369196","5837159500","5790369275","5570139744","5784798382","5784798394","5783448222","5837159485","5837500044","5864800215","5864800221","5864800224","5866713284","5864800227","5864800230","5864800233","5864800236","5866042051","5866713287","5863568100","5863568103","5863568106","5863568109","5863568112","5863568115","5863568313","5863568316","5863568319","5864823262","5864823268","5863568097","5863568136","5863568139","5863568301","5863568304","5863568307","5863568310","5863568118","5863568121","5863568124","5863568127","5863568130","5863568133","5865821662","5893449075","5966923345","5966925760","5967431645","5967445127","5966923342","5966925265","5966925268","5966925271","5966925757","5966925763","5966925766","5966925769","5967431648","5967448694","5967448697"],r.jwp=!1,r}return u()(n,[{key:"docReady",value:function(){p()(w()(n.prototype),"docReady",this).call(this),this.smartOtpDfp=new W(this.auvars,this.orderIds,this.lineItemIds),window.jwplayer?(this.jwp=!0,this.smartOtpDfp.setJWPlayerListener()):this.jwpInterval=window.setInterval(this.checkJW,100)}}]),n}(B);X=window,Q=X.auvars.p,Y=X.au&&Array.isArray(X.au)?a()(X.au):[],X.auvars.autag_objs=[].concat(a()((X.auvars.autag_objs||[]).filter((function(e){return"autag"!==e}))),["autag"]),X.au={push:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];X.auvars.autag_objs.forEach((function(e){return Object.values(X[e]||{}).forEach((function(e){return e.push.apply(e,t)}))}))},l:function(e){X.auvars.autag_objs.forEach((function(t){return Object.values(X[t]||{}).forEach((function(t){return t.GlobalListenerHandler(e)}))}))},init:function(){X.auvars[Q].hist=X.auvars[Q].hist||[];var e=X.auvars[Q].hist.slice(-1)[0];X.autag=X.autag||{},X.autag[Q]&&e===X.location.href||(X.auvars[Q].hist.push(X.location.href),X.autag[Q]=new $)}},X.au.init(),Y.forEach((function(e){return X.au.push(e)})),docReady((function(){return window.au.push({category:"docReady"})}))}]);