/*! dm-script - 1.5.2 - Fri Aug 05 2022 11:20:09 GMT+0000 (Coordinated Universal Time) */!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=71)}([function(t,e,i){(function(e){var i="object",n=function(t){return t&&t.Math==Math&&t};t.exports=n(typeof globalThis==i&&globalThis)||n(typeof window==i&&window)||n(typeof self==i&&self)||n(typeof e==i&&e)||Function("return this")()}).call(this,i(29))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnitSlots=void 0;var n=i(81),r=i(56),o=function(){function t(t,e){this.c=t,this.log=e,this.slotsMap=new Map,this.slots=[]}return t.prototype.setSlots=function(){var e=this,i=this.c;return this.slotsMap=new Map,this.isVaas()&&(this.hasPublisherPrebidEnabled()&&this.slots.push(new n.AdSlot(t.PUBLISHER_PREBID_ID,i.rootGptSlot.getAdUnitPath())),this.hasPublisherDirectEnabled()&&this.slots.push(new n.AdSlot(t.PUB_DIRECT_DIV_ID,i.scriptConfig.gptTagPublisherDirect?i.scriptConfig.gptTagPublisherDirect:i.rootGptSlot.getAdUnitPath()))),this.slots.push(new n.AdSlot(t.REGULAR_DIV_ID,i.unitConfig.gpt_name)),this.slots.push(new n.AdSlot(t.MIRROR_DIV_ID,i.unitConfig.gpt_name_mirror)),this.slots.push(new n.AdSlot(t.NOBID_POSTBID_DIV_ID,"")),this.hasNobid()&&this.slots.push(new n.AdSlot(t.NOBID_DIV_ID,i.unitConfig.gpt_name_nobid||i.scriptConfig.gptTagNobid)),this.hasNobidMirror()&&this.slots.push(new n.AdSlot(t.NOBID_MIRROR_DIV_ID,i.unitConfig.gpt_name_nobid_mirror||i.scriptConfig.gptTagNobidMirror)),this.hasPublisherTag()&&this.slots.push(new n.AdSlot(t.PUB_DIV_ID,i.unitConfig.gpt_name_publisher||i.scriptConfig.gptTagPublisher)),this.hasHashtag()&&this.slots.push(new n.AdSlot(t.HASHTAG_DIV_ID,i.scriptConfig.hashtagGpt)),this.slots.forEach((function(t){e.slotsMap.set(t.gptDiv,t)})),this},t.prototype.getSlot=function(t){return this.slotsMap.get(t)},t.prototype.isVaas=function(){return this.c.scriptConfig.isVaas},t.prototype.hasPublisherDirectEnabled=function(){return this.c.scriptConfig.gptTagPublisherDirectEnabled},t.prototype.hasPublisherPrebidEnabled=function(){return this.c.scriptConfig.publisherPrebidEnabled},t.prototype.hasDurationDemandEnabled=function(){return this.c.scriptConfig.durationDemandEnabled},t.prototype.hasNobid=function(){return this.c.unitConfig.gpt_name_nobid||this.c.scriptConfig.gptTagNobid},t.prototype.hasNobidMirror=function(){return this.c.unitConfig.gpt_name_nobid_mirror||this.c.scriptConfig.gptTagNobidMirror},t.prototype.hasHashtag=function(){if(this.c.scriptConfig.hashtag){var t=window.location.origin+window.location.pathname,e=this.c.scriptConfig.hashtagUrl&&-1==t.indexOf(this.c.scriptConfig.hashtagUrl);return this.c.scriptConfig.hashtagGpt&&e}return!1},t.prototype.hasPublisherTag=function(){return r.ScriptConfig.isFandom(this.c.scriptConfig)?this.c.scriptConfig.gptTagPublisher?(this.c.unitConfig.gpt_name_publisher=this.c.scriptConfig.gptTagPublisher,!0):(this.c.unitConfig.gpt_name_publisher="/5441/duration/"+this.c.rootGptSlot.getSlotElementId(),this.isPublisherTagConfiguredForFandom()):this.c.unitConfig.gpt_name_publisher||this.c.scriptConfig.gptTagPublisher},t.prototype.isPublisherTagConfiguredForFandom=function(){var t=this.c.rootWnd,e=null;try{e=t.Wikia.geo||t.Wikia.adEngine.utils.geoService}catch(t){}if(e){if(this.log.debug("fandom publisher tag country code "+e.getCountryCode()),e.getCountryCode().match(/CA|US|GB/))return this.log.debug("fandom publisher tag is allowed in country code "+e.getCountryCode()),!0}else this.log.debug("fandom publisher tag geo service not configured");return this.log.debug("fandom publisher tag is not allowed"),!1},t.REGULAR_DIV_ID="regular",t.MIRROR_DIV_ID="regular-mirror",t.NOBID_DIV_ID="nobid",t.NOBID_MIRROR_DIV_ID="nobid-mirror",t.NOBID_POSTBID_DIV_ID="nobid-postbid",t.PUBLISHER_PREBID_ID="pub-prebid",t.PUB_DIV_ID="pub",t.PUB_DIRECT_DIV_ID="pub-direct",t.HASHTAG_DIV_ID="hashtag",t}();e.UnitSlots=o},function(t,e,i){var n=i(3);t.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var n=i(2),r=i(19),o=i(14);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogEventLabels=e.LogEventContext=e.LogEvent=void 0,function(t){t.SCRIPT_LOADED="SCRIPT_LOADED",t.SLOT_DETECTED="SLOT_DETECTED",t.SLOT_SPONSORSHIP_CHECK="SLOT_SPONSORSHIP_CHECK",t.IP_BLOCKED="IP_BLOCKED",t.COUNTRY_BLOCKED="COUNTRY_BLOCKED",t.IP_ALLOWED="IP_ALLOWED",t.COUNTRY_ALLOWED="COUNTRY_ALLOWED",t.SLOT_OVERTAKE_ELIGIBLE="SLOT_OVERTAKE_ELIGIBLE",t.SLOT_OVERTAKE_FAILED_NO_UNIT="SLOT_OVERTAKE_FAILED_NO_UNIT",t.SLOT_OVERTAKE_FAILED_SPONSORED="SLOT_OVERTAKE_FAILED_SPONSORED",t.SLOT_OVERTAKE_FAILED_GPT_BLACKLISTED="SLOT_OVERTAKE_FAILED_GPT_BLACKLISTED",t.SLOT_OVERTAKE_FAILED_DIV_BLACKLISTED="SLOT_OVERTAKE_FAILED_DIV_BLACKLISTED",t.SLOT_OVERTAKE="SLOT_OVERTAKE",t.UNIT_AD_REQUEST="UNIT_AD_REQUEST",t.UNIT_BID_RECEIVED="UNIT_BID_RECEIVED",t.UNIT_CREATIVE_RENDERED="UNIT_CREATIVE_RENDERED",t.UNIT_CREATIVE_VIEWABLE="UNIT_CREATIVE_VIEWABLE",t.UNIT_NO_FILL="UNIT_NO_FILL",t.UNIT_NO_BIDS="UNIT_NO_BIDS",t.UNIT_SEQ="UNIT_SEQ",t.UNIT_SEQ_SKIP="UNIT_SEQ_SKIP",t.SERVER_ERROR="SERVER_ERROR",t.DEBUG="DEBUG"}(e.LogEvent||(e.LogEvent={}));var n=function(){function t(){}return t.fromSlotDetails=function(e){var i=new t;return i.adWidth=e.size.width,i.adHeight=e.size.height,i.lid=e.lid,i.slotId=e.elementId,i},t.fromUnitContext=function(e,i){var n=new t;return n.slotId=e.rootGptDivId,n.adWidth=e.unitConfig.ad_width,n.adHeight=e.unitConfig.ad_height,n.unitId=e.unitConfig.placement_id,i&&Object.assign(n,i),n},t}();e.LogEventContext=n,e.LogEventLabels={SCRIPT_LOADED:"Script Loaded",SLOT_DETECTED:"Slot Detected",SLOT_SPONSORSHIP_CHECK:"Sponsorship Check",IP_BLOCKED:"IP Blocked",IP_ALLOWED:"IP Allowed",SLOT_OVERTAKE_ELIGIBLE:"Slot Eligible",SLOT_OVERTAKE_FAILED_NO_UNIT:"Size not supported",SLOT_OVERTAKE_FAILED_SPONSORED:"Slot Sponsored",SLOT_OVERTAKE:"Slot Overtake",UNIT_AD_REQUEST:"Ad Request",UNIT_BID_RECEIVED:"Bid Received",UNIT_CREATIVE_RENDERED:"Filled",UNIT_CREATIVE_VIEWABLE:"Creative Viewable",UNIT_NO_FILL:"No Fill",UNIT_NO_BIDS:"No Bids (prebid auction)",UNIT_SEQ:"sequence",SERVER_ERROR:"Server Error",DEBUG:"Debug"}},function(t,e,i){var n=i(15),r=i(16);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(0),r=i(10),o=i(40),s=n["__core-js_shared__"]||r("__core-js_shared__",{});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(0),r=i(6);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUUID=e.Utils=void 0;var n=function(){function t(){}return t.attachEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!0):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},t.genUid=function(){return o()},t.genGuid=function(){return[r(2),r(1),r(1),r(1),r(3)].join("-")},t.loadScriptInDom=function(t,e,i){var n=t.createElement("script");n.async=Boolean(i),n.type="text/javascript",n.src=e,(t.head||t.body||t.documentElement).appendChild(n)},t.getVisibilityTime=function(t){return t?(n=~~((e=t/1e3)%3600/60),o="",(i=~~(e/3600))>0&&(o+=i+":"+(n<10?"0":"")),o+=(n<10?"0"+n:n)+":"+((r=~~e%60)<10?"0":""),o+=""+r):"00:00";var e,i,n,r,o},t}();function r(t){var e,i;for(e="",i=0;0<=t?i<=t:i>=t;0<=t?++i:--i)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e}function o(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,o)}e.Utils=n,e.generateUUID=o},function(t,e,i){var n=i(2),r=i(13),o=i(14),s=i(8),a=i(17),c=i(4),u=i(18),d=Object.getOwnPropertyDescriptor;e.f=n?d:function(t,e){if(t=s(t),e=a(e,!0),u)try{return d(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(3),r=i(37),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(2),r=i(3),o=i(38);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(2),r=i(18),o=i(20),s=i(17),a=Object.defineProperty;e.f=n?a:function(t,e,i){if(o(t),e=s(e,!0),o(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(5);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(9);t.exports=n("native-function-to-string",Function.toString)},function(t,e){t.exports={}},function(t,e,i){t.exports=i(0)},function(t,e,i){var n=i(4),r=i(8),o=i(49).indexOf,s=i(22);t.exports=function(t,e){var i,a=r(t),c=0,u=[];for(i in a)!n(s,i)&&n(a,i)&&u.push(i);for(;e.length>c;)n(a,i=e[c++])&&(~o(u,i)||u.push(i));return u}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicSupportSeq=void 0;var n=function(){function t(t,e,i,n){this.gptService=t,this.view=e,this.slot=i,this.blacklistCreativeIds=n}return t.prototype.onEvent=function(t){var e=t.isEmpty||this.blacklistCreativeIds.includes(t.creativeId);return e&&this.view.cleanSlot(t.slot.getSlotElementId()),!e},t.prototype.getSlot=function(){return this.slot},t.prototype.clean=function(){this.view.cleanSlot(this.slot.gptDiv)},t.prototype.show=function(){this.view.showSlot(this.slot.gptDiv)},t.prototype.invoke=function(){this.gptService.refresh(this.getSlot().gptDiv)},t.prototype.hasMirror=function(){return!1},t.prototype.hide=function(){this.view.hideSlot(this.slot.gptDiv)},t.prototype.getId=function(){return"basic"},t}();e.BasicSupportSeq=n},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var r=i(31),o=i(75),s=function(){function t(){}return t.getInstance=function(e){var i=(e=e||window).dm_logger;return i||((i=new t).wnd=e,e.dm_logger=i),i.enabled=this.isConsoleDebug(e),this.isFullDebug(e)&&!i.loggerScreen&&(i.loggerScreen=new o.LoggerScreen(e)),i.server=new r.ServerService,i},t.isFullDebug=function(t){return-1!==t.location.href.indexOf("dm_debug")},t.isConsoleDebug=function(t){return-1!==t.location.href.indexOf("dmjs_debug")||this.isFullDebug(t)},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.enabled&&console.error.apply(console,n(["dm:: error "+t],e))},t.prototype.debug=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.enabled&&console.log.apply(console,n(["dm:: "+t],e))},t.prototype.event=function(t,e,i){if(this.debug("%c"+t+" %c"+(e?":: "+JSON.stringify(e):"")+" "+(i?":: "+i:""),"color: blue","color: black"),this.loggerScreen)try{this.loggerScreen.onLogEvent(t,e)}catch(t){}},t}();e.Logger=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptLogType=e.ServerService=void 0;var n=i(74),r=function(){function t(){this.url="https://be.durationmedia.net"}return t.prototype.checkSlots=function(t){return n.post(this.url+"/sponsorships",t).then((function(t){return t.parsedBody}))},t.prototype.scriptLoaded=function(t){return n.get(this.url+"/scriptloaded?siteId="+t).then((function(t){return t})).catch((function(t){return t}))},t.prototype.logBulk=function(t,e,i){n.get(this.url+"/lb?s="+t+"&t="+e+(i?"&c="+i:"")).then((function(t){return{}})).catch((function(t){return{}}))},t.prototype.logAuction=function(t){n.post(this.url+"/la",t).then((function(t){return{}})).catch((function(t){return{}}))},t.prototype.hashtag=function(t,e){return n.get(this.url+"/ht?c="+t+"&sc="+e).then((function(t){return t})).catch((function(t){return t}))},t}();e.ServerService=r,function(t){t.SL="SL",t.SD="SD"}(e.ScriptLogType||(e.ScriptLogType={}))},function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,i,n){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),s=new x(n||[]);return o._invoke=function(t,e,i){var n=d;return function(r,o){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===r)throw o;return O()}for(i.method=r,i.arg=o;;){var s=i.delegate;if(s){var a=w(s,i);if(a){if(a===f)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=p;var c=u(t,e,i);if("normal"===c.type){if(n=i.done?h:l,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=h,i.method="throw",i.arg=c.arg)}}}(t,i,s),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",l="suspendedYield",p="executing",h="completed",f={};function g(){}function _(){}function v(){}var m={};m[o]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(T([])));y&&y!==i&&n.call(y,o)&&(m=y);var S=v.prototype=g.prototype=Object.create(m);function I(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){var e;this._invoke=function(i,r){function o(){return new Promise((function(e,o){!function e(i,r,o,s){var a=u(t[i],t,r);if("throw"!==a.type){var c=a.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?Promise.resolve(d.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(d).then((function(t){c.value=t,o(c)}),(function(t){return e("throw",t,o,s)}))}s(a.arg)}(i,r,e,o)}))}return e=e?e.then(o,o):o()}}function w(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=e,w(t,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,f;var o=r.arg;return o?o.done?(i[t.resultName]=o.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function D(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function T(t){if(t){var i=t[o];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:O}}function O(){return{value:e,done:!0}}return _.prototype=S.constructor=v,v.constructor=_,v[a]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},I(E.prototype),E.prototype[s]=function(){return this},t.AsyncIterator=E,t.async=function(e,i,n,r){var o=new E(c(e,i,n,r));return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},I(S),S[a]="Generator",S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=T,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return a.type="throw",a.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;C(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:T(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),f}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,i){t.exports=i(34)},function(t,e,i){i(35);var n=i(23);t.exports=n.Object.assign},function(t,e,i){var n=i(36),r=i(53);n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,i){var n=i(0),r=i(12).f,o=i(6),s=i(39),a=i(10),c=i(45),u=i(52);t.exports=function(t,e){var i,d,l,p,h,f=t.target,g=t.global,_=t.stat;if(i=g?n:_?n[f]||a(f,{}):(n[f]||{}).prototype)for(d in e){if(p=e[d],l=t.noTargetGet?(h=r(i,d))&&h.value:i[d],!u(g?d:f+(_?".":"#")+d,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&o(p,"sham",!0),s(i,d,p,t)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(0),r=i(5),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,i){var n=i(0),r=i(9),o=i(6),s=i(4),a=i(10),c=i(21),u=i(41),d=u.get,l=u.enforce,p=String(c).split("toString");r("inspectSource",(function(t){return c.call(t)})),(t.exports=function(t,e,i,r){var c=!!r&&!!r.unsafe,u=!!r&&!!r.enumerable,d=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof e||s(i,"name")||o(i,"name",e),l(i).source=p.join("string"==typeof e?e:"")),t!==n?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=i:o(t,e,i)):u?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&d(this).source||c.call(this)}))},function(t,e){t.exports=!1},function(t,e,i){var n,r,o,s=i(42),a=i(0),c=i(5),u=i(6),d=i(4),l=i(43),p=i(22),h=a.WeakMap;if(s){var f=new h,g=f.get,_=f.has,v=f.set;n=function(t,e){return v.call(f,t,e),e},r=function(t){return g.call(f,t)||{}},o=function(t){return _.call(f,t)}}else{var m=l("state");p[m]=!0,n=function(t,e){return u(t,m,e),e},r=function(t){return d(t,m)?t[m]:{}},o=function(t){return d(t,m)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(0),r=i(21),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,i){var n=i(9),r=i(44),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n=i(4),r=i(46),o=i(12),s=i(19);t.exports=function(t,e){for(var i=r(e),a=s.f,c=o.f,u=0;u<i.length;u++){var d=i[u];n(t,d)||a(t,d,c(e,d))}}},function(t,e,i){var n=i(47),r=i(48),o=i(27),s=i(20);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(23),r=i(0),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e,i){var n=i(24),r=i(26).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(8),r=i(50),o=i(51),s=function(t){return function(e,i,s){var a,c=n(e),u=r(c.length),d=o(s,u);if(t&&i!=i){for(;u>d;)if((a=c[d++])!=a)return!0}else for(;u>d;d++)if((t||d in c)&&c[d]===i)return t||d||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,i){var n=i(25),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(25),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},function(t,e,i){var n=i(3),r=/#|\.prototype\./,o=function(t,e){var i=a[s(t)];return i==u||i!=c&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,i){"use strict";var n=i(2),r=i(3),o=i(54),s=i(27),a=i(13),c=i(55),u=i(15),d=Object.assign;t.exports=!d||r((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=d({},t)[i]||"abcdefghijklmnopqrst"!=o(d({},e)).join("")}))?function(t,e){for(var i=c(t),r=arguments.length,d=1,l=s.f,p=a.f;r>d;)for(var h,f=u(arguments[d++]),g=l?o(f).concat(l(f)):o(f),_=g.length,v=0;_>v;)h=g[v++],n&&!p.call(f,h)||(i[h]=f[h]);return i}:d},function(t,e,i){var n=i(24),r=i(26);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(16);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScriptConfig=void 0;var n=i(61),r=i(62),o=[n.BidSequenceItemType.PUBLISHER_PREBID,n.BidSequenceItemType.PUBLISHER_DIRECT,n.BidSequenceItemType.DURATION_DEMAND],s=function(){function t(){this.bidSequenceItemOrder=o}return t.parse=function(){var t={siteId:"10651",siteUrl:"fandom.com",cdnUrl:"https://tag.durationmedia.net",pixelDelivery:!0,gptTagNobid:"/102766797,5441/nobid/drm-nb/fandom",gptTagNobidMirror:"/102766797,5441/nobid/drm-nb/fandom-2",gptTagPublisher:"",gptDivNobid:"div-gpt-ad-6312308410215-0",customCss:".dm-gpt{\ndisplay: block !important;\noverflow: hidden !important;\nmargin-left: auto;\nmargin-right: auto;\ntext-align: center;\n}",allowsBlanks:!1,confiantWrapperId:"PL3WMz1z_zgrWtgVkCrXdmn_IOc",bidTimeout:2e3,adLoadTimeoutSec:5,sellerId:"22030902707",analyticsEnabled:!1,gptTagPublisherDirect:"",gptTagPublisherDirectEnabled:!1,publisherPrebidEnabled:!1,publisherPrebidWrapper:"NONE",durationDemandEnabled:!1,bidSequenceItemOrder:["PUBLISHER_PREBID","PUBLISHER_DIRECT","DURATION_DEMAND"],refreshCaps:[{refreshRate:30,maxRefresh:25,noBidMaxRefresh:25,overtakeDelaySec:30,overtakeVisibilityDelaySec:3,refreshRateLowerSec:15,type:"DEFAULT",smartCap:5,smartNoBidCap:2}],widthIsImportant:!1,heightIsImportant:!0,hashtag:!1,units:[{placement_id:"16412",ad_width:970,ad_height:66,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16412-970x66-pixel&sz=1x1&t=&c=5385956592",gpt_name:"/21688424927,5441/fandom2/fandom-16412-970x66",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16412-970x66-mirror",openx_id:"541125828",pubmatic_id:"2930658",index_id:"517554",nobid_site_id:"22033510717",smartadserver_page_id:"1247382",smartadserver_site_id:"323326",smartadserver_format_id:"81137",pulsepoint_cp:"562429",pulsepoint_ct:"720744",pulsepoint_cf:"970X66"},{placement_id:"16407",ad_width:160,ad_height:600,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16407-160x600-pixel&sz=1x1&t=&c=5386681360",maxRefresh:25,gpt_name:"/21688424927,5441/fandom2/fandom-16407-160x600",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16407-160x600-mirror",openx_id:"541125807",pubmatic_id:"2930653",index_id:"517547",nobid_site_id:"22033510717",smartadserver_page_id:"1247377",smartadserver_site_id:"323326",smartadserver_format_id:"81140",pulsepoint_cp:"562429",pulsepoint_ct:"720736",pulsepoint_cf:"160X600"},{placement_id:"16414",ad_width:320,ad_height:100,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16414-320x100-pixel&sz=1x1&t=&c=5387064923",gpt_name:"/21688424927,5441/fandom2/fandom-16414-320x100",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16414-320x100-mirror",openx_id:"541125837",index_id:"517550",nobid_site_id:"22033510717",smartadserver_page_id:"1247384",smartadserver_site_id:"323326",smartadserver_format_id:"81143",pulsepoint_cp:"562429",pulsepoint_ct:"720740",pulsepoint_cf:"320X100"},{placement_id:"16408",ad_width:728,ad_height:90,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16408-728x90-pixel&sz=1x1&t=&c=5385955668",gpt_name:"/21688424927,5441/fandom2/fandom-16408-728x90",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16408-728x90-mirror",openx_id:"541125812",pubmatic_id:"2930654",index_id:"517552",nobid_site_id:"22033510717",smartadserver_page_id:"1247378",smartadserver_site_id:"323326",smartadserver_format_id:"81134",pulsepoint_cp:"562429",pulsepoint_ct:"720742",pulsepoint_cf:"728X90"},{placement_id:"16406",ad_width:300,ad_height:600,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16406-300x600-pixel&sz=1x1&t=&c=5386681183",gpt_name:"/21688424927,5441/fandom2/fandom-16406-300x600",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16406-300x600-mirror",openx_id:"541125804",pubmatic_id:"2930652",index_id:"554515",nobid_site_id:"22033510717",smartadserver_page_id:"1247376",smartadserver_site_id:"323326",smartadserver_format_id:"81139",pulsepoint_cp:"562429",pulsepoint_ct:"720739",pulsepoint_cf:"300X600"},{placement_id:"16410",ad_width:970,ad_height:250,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16410-970x250-pixel&sz=1x1&t=&c=5385955887",gpt_name:"/21688424927,5441/fandom2/fandom-16410-970x250",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16410-970x250-mirror",openx_id:"541125820",index_id:"517553",nobid_site_id:"22033510717",smartadserver_page_id:"1247380",smartadserver_site_id:"323326",smartadserver_format_id:"81135",pulsepoint_cp:"562429",pulsepoint_ct:"720743",pulsepoint_cf:"970X250"},{placement_id:"16413",ad_width:300,ad_height:50,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16413-300x50-pixel&sz=1x1&t=&c=5385956784",gpt_name:"/21688424927,5441/fandom2/fandom-16413-300x50",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16413-300x50-mirror",openx_id:"541125832",pubmatic_id:"2930659",index_id:"614247",nobid_site_id:"22033510717",smartadserver_page_id:"1247383",smartadserver_site_id:"323326",smartadserver_format_id:"81144",pulsepoint_cp:"562429",pulsepoint_ct:"720738",pulsepoint_cf:"300X50"},{placement_id:"16411",ad_width:970,ad_height:90,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16411-970x90-pixel&sz=1x1&t=&c=5385956394",gpt_name:"/21688424927,5441/fandom2/fandom-16411-970x90",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16411-970x90-mirror",openx_id:"541125825",index_id:"517555",nobid_site_id:"22033510717",smartadserver_page_id:"1247381",smartadserver_site_id:"323326",smartadserver_format_id:"81136",pulsepoint_cp:"562429",pulsepoint_ct:"720745",pulsepoint_cf:"970X90"},{placement_id:"16405",ad_width:300,ad_height:250,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16405-300x250-pixel&sz=1x1&t=&c=5386681099",gpt_name:"/21688424927,5441/fandom2/fandom-16405-300x250",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16405-300x250-mirror",openx_id:"541125800",pubmatic_id:"2930651",index_id:"554514",nobid_site_id:"22033510717",smartadserver_page_id:"1247375",smartadserver_site_id:"323326",smartadserver_format_id:"81138",pulsepoint_cp:"562429",pulsepoint_ct:"720737",pulsepoint_cf:"300X250"},{placement_id:"16409",ad_width:320,ad_height:50,pixel_url:"https://pubads.g.doubleclick.net/gampad/ad?iu=/21688424927,5441/fandom2/fandom-16409-320x50-pixel&sz=1x1&t=&c=5386681615",gpt_name:"/21688424927,5441/fandom2/fandom-16409-320x50",gpt_name_mirror:"/21688424927,5441/fandom2/fandom-16409-320x50-mirror",openx_id:"541125816",pubmatic_id:"2930655",index_id:"517551",nobid_site_id:"22033510717",smartadserver_page_id:"1247379",smartadserver_site_id:"323326",smartadserver_format_id:"81142",pulsepoint_cp:"562429",pulsepoint_ct:"720741",pulsepoint_cf:"320X50"}],isVaas:!1};return t.bidTimeout=t.bidTimeout||2e3,t.adLoadTimeoutSec=t.adLoadTimeoutSec||5,t.cdnUrl=t.cdnUrl||"https://tag.durationmedia.net",t.bidSequenceItemOrder=this.getValidBidSequenceItemOrder(t.bidSequenceItemOrder),t.publisherPrebidWrapper=this.getValidPrebidWrapper(t.publisherPrebidWrapper),t&&(t.confiantWrapperId=t.confiantWrapperId||"",t.units.forEach((function(t){t.rubicon_siteid=t.rubicon_siteid||"",t.rubicon_zoneid=t.rubicon_zoneid||"",t.smartadserver_page_id=t.smartadserver_page_id||"",t.smartadserver_site_id=t.smartadserver_site_id||"",t.smartadserver_format_id=t.smartadserver_format_id||"",t.pubmatic_id=t.pubmatic_id||"",t.openx_id=t.openx_id||"",t.nobid_site_id=t.nobid_site_id||"",t.nobid_format_id=t.nobid_format_id||"",t.brealtime_id=t.brealtime_id||"",t.appnexus_id=t.appnexus_id||"",t.districtm_id=t.districtm_id||"",t.emx_id=t.emx_id||"",t.ttacross_id=t.ttacross_id||"",t.rhythmone_id=t.rhythmone_id||"",t.sonobi_id=t.sonobi_id||"",t.aol_id=t.aol_id||"",t.nanointeractive_id=t.nanointeractive_id||"",t.grid_id=t.grid_id||"",t.index_id=t.index_id||"",t.sovrn_id=t.sovrn_id||"",t.pulsepoint_cf=t.pulsepoint_cf||"",t.pulsepoint_cp=t.pulsepoint_cp||"",t.pulsepoint_ct=t.pulsepoint_ct||""}))),t},t.getValidBidSequenceItemOrder=function(t){var e=Object.values(n.BidSequenceItemType);if((null==t?void 0:t.length)!==e.length)return o;var i=t.filter((function(t){return e.includes(t)}));return new Set(i).size!=t.length?o:t},t.getValidPrebidWrapper=function(t){return Object.values(r.PrebidWrapper).includes(t)?t:r.PrebidWrapper.NONE},t.isFandom=function(t){return"10651"===t.siteId},t.isFandomPublisher=function(t){return-1!=["10651","10654","10652","10655"].indexOf(t)},t}();e.ScriptConfig=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherSeq=void 0;var o=i(28),s=i(1),a=function(t){function e(e,i,n){var r=t.call(this,i,n,e.unitSlots.slotsMap.get(s.UnitSlots.PUB_DIV_ID),[])||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return e.ID},e.ID="pub-passback",e}(o.BasicSupportSeq);e.PublisherSeq=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityService=void 0;var n=i(59),r=i(60),o=i(11),s=i(56),a=function(){function t(t,e,i){var n=this;void 0===e&&(e=0),void 0===i&&(i=0),this.lastStateMap=new Map,this.requiredVisibilityPercentage=e,this.doc=t.document,this.windowDocumentIsFocused=!0,o.Utils.attachEvent(t,"visibilitychange",(function(){return n.windowDocumentIsFocused=!t.document.hidden})),this.requiredVisibilityMs=i}return t.of=function(e){return console.log("Visibility threshold pct=50, Visibility threshold ms = 0"),new t(e,50,0)},t.prototype.calc=function(t,e){var i=this.getLastKnownVisibility(t),n=this.getCurrentVisibility(t),r=n.timestamp-i.timestamp;if(n.visible&&(n.duration=i.duration+r),s.ScriptConfig.isFandomPublisher(e)&&"top_leaderboard"==t){var o=window.top.document.getElementById("top_leaderboard").getAttribute("style");if(window.top.document.body.classList.contains("uap-sticked")||-1!=o.indexOf("clip: unset"))n.percentVisible=100;else if(-1!=o.indexOf("clip: rect(0px, 0px, 0px, 0px)"))n.percentVisible=0;else if(-1!=o.indexOf("height"))try{var a=o.substring(o.indexOf(":")+1,o.indexOf("px")).trim(),c=o.substring(this.getPosition(o,",",2)+1,this.getPosition(o,"px",4)).trim();n.percentVisible=parseInt(c)/parseInt(a)*100,n.percentVisible=n.percentVisible<0?0:n.percentVisible}catch(t){n.percentVisible=0}}return n.visibleByThreshold=n.percentVisible>this.requiredVisibilityPercentage&&n.duration>this.requiredVisibilityMs,n.visibleByThresholdDuration=i.visibleByThresholdDuration,n.visibleDuration=i.visibleDuration,n.visibleByThreshold&&(n.visibleByThresholdDuration+=r),n.visible&&(n.visibleDuration+=r),i.visibleByThreshold&&!n.visibleByThreshold&&(n.changedInvisibleByThreshold=!0),!i.visibleByThreshold&&n.visibleByThreshold&&(n.changedVisibleByThreshold=!0),n.detectedAt=i.detectedAt,this.lastStateMap.set(t,n),n},t.prototype.getPosition=function(t,e,i){return t.split(e,i).join(e).length},t.prototype.getLastKnownVisibility=function(t){return this.lastStateMap.get(t)||r.VisibilityDetails.invisible(t)},t.prototype.getCurrentVisibility=function(t){var e,i=this.doc.getElementById(t);return null==i?r.VisibilityDetails.invisible(t):((e=this.windowDocumentIsFocused?r.VisibilityDetails.fromVisibility(t,n.VisibilityUtils.getVisibility(this.doc,i)):r.VisibilityDetails.invisible(t)).timestamp=(new Date).getTime(),e)},t}();e.VisibilityService=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityUtils=void 0;var n=i(60),r=function(){function t(){}return t.getVisibility=function(t,e){var i=this.getElementCoordinates(t,e);return i&&this.isRectVisible(i.w,i.h)?this.intersectWithViewport(i.x,i.y,i.w,i.h,t):null},t.getElementCoordinates=function(t,e){var i=t.defaultView.getComputedStyle(e);if("visible"!==i.visibility)return null;var n=e.getBoundingClientRect();if(!this.isRectVisible(n.width,n.height))return null;parseFloat(i.paddingLeft),parseFloat(i.paddingTop),parseFloat(i.paddingBottom),parseFloat(i.paddingRight),parseFloat(i.borderLeftWidth),parseFloat(i.borderTopWidth);var r=e.clientWidth,o=e.clientHeight;return{x:n.left,y:n.top,w:r,h:o}},t.isRectVisible=function(t,e){return t>0||e>0},t.intersectWithViewport=function(t,e,i,r,o){var s=o.documentElement.clientWidth,a=Math.max(o.documentElement.clientHeight,window.innerHeight||0),c=Math.max(0,t),u=Math.max(0,e),d=Math.min(s,t+i)-c,l=Math.min(a,e+r)-u,p=d>=0&&l>=0;return p?n.Visibility.from(p,d*l*100/(i*r)):new n.Visibility},t}();e.VisibilityUtils=r},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityDetails=e.Visibility=void 0;var o=function(){function t(){}return t.from=function(e,i){var n=new t;return n.visible=e,n.percentVisible=i,n},t}();e.Visibility=o;var s=function(t){function e(){var e=t.call(this)||this;return e.duration=0,e.visibleByThresholdDuration=0,e.visibleDuration=0,e.detectedAt=(new Date).getTime(),e}return r(e,t),e.fromVisibility=function(t,i){var n=new e;return Object.assign(n,{id:t},i),n.timestamp=(new Date).getTime(),n},e.invisible=function(t){return this.fromVisibility(t,o.from(!1,0))},e}(o);e.VisibilityDetails=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BidSequenceItemType=void 0,function(t){t.PUBLISHER_PREBID="PUBLISHER_PREBID",t.PUBLISHER_DIRECT="PUBLISHER_DIRECT",t.DURATION_DEMAND="DURATION_DEMAND"}(e.BidSequenceItemType||(e.BidSequenceItemType={}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidWrapper=void 0,function(t){t.NONE="NONE",t.OPEN_WRAP="OPEN_WRAP"}(e.PrebidWrapper||(e.PrebidWrapper={}))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.RegularTagSeq=void 0;var o=i(85),s=i(1),a=[138292862481,138292862550,138292862613,138292862742,138292862916,138292912478,138292912736,138292912802,138292913147,138292913528,138292913702,138293178967,138293179594],c=[138242230467,138242237120,138242231427,138242402299],u=function(t){function e(e,i,n,r){var o=t.call(this,i,n,r,e.unitSlots.slotsMap.get(s.UnitSlots.REGULAR_DIV_ID),e.unitSlots.slotsMap.get(s.UnitSlots.MIRROR_DIV_ID),a.concat(c))||this;return o.c=e,o}return r(e,t),e.prototype.getId=function(){return e.ID},e.ID="dm-gam",e}(o.MirrorSupportPrebidSeq);e.RegularTagSeq=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorSupportSeq=void 0;var n=function(){function t(t,e,i,n,r){this.gptService=t,this.view=e,this.regularSlot=i,this.mirrorSlot=n,this.blacklistCreativeIds=r}return t.prototype.onEvent=function(t){var e=!(t.isEmpty||this.blacklistCreativeIds.includes(t.creativeId)),i=t.slot.getSlotElementId();return this.regularSlot.gptDiv!=i&&this.mirrorSlot.gptDiv!==i?(console.error("Invalid slot rendered"),!1):(e?(this.currentFilledSlot=i===this.regularSlot.gptDiv?this.regularSlot:this.mirrorSlot,this.view.cleanSlot(this.getNextSlot().gptDiv)):this.view.cleanSlot(i),e)},t.prototype.getSlot=function(){return this.currentFilledSlot||this.regularSlot},t.prototype.getNextSlot=function(){return this.currentFilledSlot&&this.currentFilledSlot!==this.mirrorSlot?this.mirrorSlot:this.regularSlot},t.prototype.invoke=function(){var t=this.getNextSlot(),e=this.gptService.getSlot(t.gptDiv);this.invokeSlot(e)},t.prototype.clean=function(){this.view.cleanSlot(this.currentFilledSlot.gptDiv)},t.prototype.show=function(){this.view.showSlot(this.currentFilledSlot.gptDiv)},t.prototype.hide=function(){this.view.hideSlot(this.regularSlot.gptDiv),this.view.hideSlot(this.mirrorSlot.gptDiv)},t.prototype.hasMirror=function(){return!0},t.prototype.getId=function(){return"regular"},t}();e.MirrorSupportSeq=n},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NobidSeq=e.NobidMirrorSeq=void 0;var o=i(28),s=i(64),a=i(1),c=function(t){function e(e,i,n){var r=t.call(this,i,n,e.unitSlots.getSlot(a.UnitSlots.NOBID_DIV_ID),e.unitSlots.getSlot(a.UnitSlots.NOBID_MIRROR_DIV_ID),e.scriptConfig.gptTagNobid&&e.scriptConfig.gptTagNobid.includes("102766797")?l:d)||this;return r.c=e,e.scriptConfig.gptTagNobid&&e.scriptConfig.gptTagNobid.includes("102766797")?console.log("dm:: NoFill: "+l.toString()):console.log("dm:: NoFill: "+d.toString()),r}return r(e,t),e.prototype.getId=function(){return e.ID},e.prototype.invokeSlot=function(t){this.gptService.refresh(t.getSlotElementId())},e.ID="nobid",e}(s.MirrorSupportSeq);e.NobidMirrorSeq=c;var u=function(t){function e(e,i,n){var r=t.call(this,i,n,e.unitSlots.slotsMap.get(a.UnitSlots.NOBID_DIV_ID),d)||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return"nobid"},e}(o.BasicSupportSeq);e.NobidSeq=u;var d=[138298992027,138298992075,138298992384,138298992699,138298992729,138298992918,138299003273,138299003837,138299003888,138299004002,138299346835,138299346871,138299347501].concat([138305227670,138305227661,138305187606,138305187519,138305582710,138305187489,138305187924,138305187783,138305187459,138305583487,138305583358,138305227601,138305187501]).concat([138312151104,138312521902,138312126089,138312518545,138312521905,138312151107,138312521908,138312125678,138312125738,138312521911,138312521914,138312521917,138312125585,138312125618,138312521920,138312151110,138312521923,138312125687,138312125744,138312521926,138312151113,138312521929,138312125963,138312126110,138312521527,138312521932,138312521935,138312125969,138312126113,138312151116,138312151122,138312521938,138312125627,138312125975,138312521941,138312521950,138312521962,138312125984,138312126119,138312521968,138312151131,138312521977,138312125693,138312125753,138312521983,138312521989,138312521992,138312125594,138312126122,138312521545,138305583487,138312521998,138312522001,138312125699,138312125756,138312151152,138312128660,138312521560,138312125993,138312126128,138312128666,138312128669,138312128675,138312125759,138312125999,138312128678,138312203496,138312574813,138312574837,138312203499,138312574816,138312574840]).concat([138313341914,138313757416,138313341920,138313361442,138313361445,138313361448,138313757419,138313757422,138313757425,138313342112,138313342622,138313342283,138313342625,138313342628,138313342631,138313342334,138313757608,138313342343,138313342349,138313342733,138313342742,138313757623,138313757626,138313757635]).concat([138353210435,138353212580,138353212715,138353212745,138353213186,138353241471,138353241894,138353242299,138353242743,138353242953,138353591701,138353592109,138353593426]),l=[138391140143,138391141811,138391141796,138391142651,138391711702,138391223871,138391142819,138391711255,138391141373,138391133951,138391134869,138391710991,138391710625]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AuctionEndPayload=e.BidItem=e.AuctionLogRequest=e.AuctionLogger=void 0;var n=i(31),r=i(67),o=i(7),s=function(){function t(t,e){this.c=t,this.log=e,this.alr=new a,this.alr.unitId=this.c.unitConfig.placement_id,this.alr.siteId=this.c.scriptConfig.siteId,this.alr.url=this.c.scriptConfig.siteUrl,this.alr.sellerId=this.c.scriptConfig.sellerId,this.alr.sessionId=this.c.firstIframeElementId,this.alr.rfshCnt=0}return t.prototype.initAuction=function(){this.alr.viewability=this.c.visibilityService.calc(this.c.rootGptDivId,this.c.scriptConfig.siteId).percentVisible,this.alr.winningBids=[],this.alr.bids=[],this.alr.filled=!1,this.alr.rfshCnt+=1,this.dirty=!0},t.prototype.handle=function(t,e,i){if("on"===t&&"auctionEnd"===e){var n=i;this.alr.auctionId=n.auctionId,this.alr.bids=n.bidsReceived?n.bidsReceived.map((function(t){return{bidderCode:t.bidderCode,cpm:t.cpm}})):[],this.alr.winningBids=n.winningBids?n.winningBids.map((function(t){return{bidderCode:t.bidderCode,cpm:t.cpm}})):[]}},t.prototype.flush=function(){this.c.scriptConfig.analyticsEnabled&&(new n.ServerService).logAuction(this.alr),this.dirty=!1},t.prototype.isDirty=function(){return this.dirty},t.prototype.onSlotRendered=function(t,e){if(e)if(r.GamUtils.isAdxFilled(t))this.alr.winningBids.push({bidderCode:"adx"});else{if(!this.alr.bids.length)return;var i=this.alr.bids.reduce((function(t,e){return t.cpm>e.cpm?t:e}));i&&(this.alr.winningBids=[i])}this.alr.filled=e},t.prototype.logBidResponses=function(t){var e=[];if(Object.keys(t).length)for(var i in t)if(t.hasOwnProperty(i)){var n=t[i].bids;if(n.length)for(var r=0;r<n.length;r++){var s=n[r];e.push({adunit:i,adId:s.adId,bidder:s.bidder,time:s.timeToRespond,cpm:s.cpm,msg:s.statusMessage}),this.log.event(o.LogEvent.UNIT_BID_RECEIVED,o.LogEventContext.fromUnitContext(this.c,{bidder:s.bidder,cpm:s.cpm}))}else this.log.event(o.LogEvent.UNIT_NO_BIDS,{slotId:this.c.rootGptDivId})}else this.log.event(o.LogEvent.UNIT_NO_BIDS,{slotId:this.c.rootGptDivId});else this.log.event(o.LogEvent.UNIT_NO_BIDS,o.LogEventContext.fromUnitContext(this.c))},t}();e.AuctionLogger=s;var a=function(){};e.AuctionLogRequest=a;var c=function(){};e.BidItem=c;var u=function(){};e.AuctionEndPayload=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GamUtils=void 0;var n=function(){function t(){}return t.isAdxFilled=function(e){return e.sourceAgnosticLineItemId&&t.ADX_LINE_ITEM_IDS.includes(e.sourceAgnosticLineItemId)},t.isNobidAdxFilled=function(e,i){return i.includes("102766797")?e.sourceAgnosticLineItemId&&t.NO_BID_OPSCO_ADX_LINE_ITEM_IDS.includes(e.sourceAgnosticLineItemId):e.sourceAgnosticLineItemId&&t.NO_BID_DM_ADX_LINE_ITEM_IDS.includes(e.sourceAgnosticLineItemId)},t.ADX_LINE_ITEM_IDS=[5082305184,5415409407,5447512703,5473722664,5501195239,5510376235,5559962386,5609018595],t.NO_BID_DM_ADX_LINE_ITEM_IDS=[5714203412,5746513895],t.NO_BID_OPSCO_ADX_LINE_ITEM_IDS=[5740547982],t}();e.GamUtils=n},function(t,e,i){(function(t,i){var n=200,r="__lodash_hash_undefined__",o=9007199254740991,s="[object Arguments]",a="[object Boolean]",c="[object Date]",u="[object Function]",d="[object GeneratorFunction]",l="[object Map]",p="[object Number]",h="[object Object]",f="[object RegExp]",g="[object Set]",_="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",y="[object Float32Array]",S="[object Float64Array]",I="[object Int8Array]",E="[object Int16Array]",w="[object Int32Array]",D="[object Uint8Array]",C="[object Uint8ClampedArray]",x="[object Uint16Array]",T="[object Uint32Array]",O=/\w*$/,P=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,R={};R[s]=R["[object Array]"]=R[m]=R[b]=R[a]=R[c]=R[y]=R[S]=R[I]=R[E]=R[w]=R[l]=R[p]=R[h]=R[f]=R[g]=R[_]=R[v]=R[D]=R[C]=R[x]=R[T]=!0,R["[object Error]"]=R[u]=R["[object WeakMap]"]=!1;var B="object"==typeof t&&t&&t.Object===Object&&t,N="object"==typeof self&&self&&self.Object===Object&&self,A=B||N||Function("return this")(),U=e&&!e.nodeType&&e,j=U&&"object"==typeof i&&i&&!i.nodeType&&i,M=j&&j.exports===U;function q(t,e){return t.set(e[0],e[1]),t}function V(t,e){return t.add(e),t}function k(t,e,i,n){var r=-1,o=t?t.length:0;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function G(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function z(t,e){return function(i){return t(e(i))}}function H(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}var W,K=Array.prototype,X=Function.prototype,J=Object.prototype,Y=A["__core-js_shared__"],Q=(W=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",$=X.toString,Z=J.hasOwnProperty,tt=J.toString,et=RegExp("^"+$.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=M?A.Buffer:void 0,nt=A.Symbol,rt=A.Uint8Array,ot=z(Object.getPrototypeOf,Object),st=Object.create,at=J.propertyIsEnumerable,ct=K.splice,ut=Object.getOwnPropertySymbols,dt=it?it.isBuffer:void 0,lt=z(Object.keys,Object),pt=jt(A,"DataView"),ht=jt(A,"Map"),ft=jt(A,"Promise"),gt=jt(A,"Set"),_t=jt(A,"WeakMap"),vt=jt(Object,"create"),mt=Ft(pt),bt=Ft(ht),yt=Ft(ft),St=Ft(gt),It=Ft(_t),Et=nt?nt.prototype:void 0,wt=Et?Et.valueOf:void 0;function Dt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ct(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){this.__data__=new Ct(t)}function Ot(t,e){var i=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&Z.call(t,"callee")&&(!at.call(t,"callee")||tt.call(t)==s)}(t)?function(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}(t.length,String):[],n=i.length,r=!!n;for(var o in t)!e&&!Z.call(t,o)||r&&("length"==o||Vt(o,n))||i.push(o);return i}function Pt(t,e,i){var n=t[e];Z.call(t,e)&&Gt(n,i)&&(void 0!==i||e in t)||(t[e]=i)}function Lt(t,e){for(var i=t.length;i--;)if(Gt(t[i][0],e))return i;return-1}function Rt(t,e,i,n,r,o,P){var L;if(n&&(L=o?n(t,r,o,P):n(t)),void 0!==L)return L;if(!Xt(t))return t;var B=zt(t);if(B){if(L=function(t){var e=t.length,i=t.constructor(e);e&&"string"==typeof t[0]&&Z.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!e)return function(t,e){var i=-1,n=t.length;e||(e=Array(n));for(;++i<n;)e[i]=t[i];return e}(t,L)}else{var N=qt(t),A=N==u||N==d;if(Wt(t))return function(t,e){if(e)return t.slice();var i=new t.constructor(t.length);return t.copy(i),i}(t,e);if(N==h||N==s||A&&!o){if(F(t))return o?t:{};if(L=function(t){return"function"!=typeof t.constructor||kt(t)?{}:(e=ot(t),Xt(e)?st(e):{});var e}(A?{}:t),!e)return function(t,e){return At(t,Mt(t),e)}(t,function(t,e){return t&&At(e,Jt(e),t)}(L,t))}else{if(!R[N])return o?t:{};L=function(t,e,i,n){var r=t.constructor;switch(e){case m:return Nt(t);case a:case c:return new r(+t);case b:return function(t,e){var i=e?Nt(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,n);case y:case S:case I:case E:case w:case D:case C:case x:case T:return function(t,e){var i=e?Nt(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}(t,n);case l:return function(t,e,i){return k(e?i(G(t),!0):G(t),q,new t.constructor)}(t,n,i);case p:case _:return new r(t);case f:return(u=new(s=t).constructor(s.source,O.exec(s))).lastIndex=s.lastIndex,u;case g:return function(t,e,i){return k(e?i(H(t),!0):H(t),V,new t.constructor)}(t,n,i);case v:return o=t,wt?Object(wt.call(o)):{}}var o;var s,u}(t,N,Rt,e)}}P||(P=new Tt);var U=P.get(t);if(U)return U;if(P.set(t,L),!B)var j=i?function(t){return function(t,e,i){var n=e(t);return zt(t)?n:function(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}(n,i(t))}(t,Jt,Mt)}(t):Jt(t);return function(t,e){for(var i=-1,n=t?t.length:0;++i<n&&!1!==e(t[i],i,t););}(j||t,(function(r,o){j&&(r=t[o=r]),Pt(L,o,Rt(r,e,i,n,o,t,P))})),L}function Bt(t){return!(!Xt(t)||(e=t,Q&&Q in e))&&(Kt(t)||F(t)?et:P).test(Ft(t));var e}function Nt(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function At(t,e,i,n){i||(i={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=n?n(i[s],t[s],s,i,t):void 0;Pt(i,s,void 0===a?t[s]:a)}return i}function Ut(t,e){var i,n,r=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof e?"string":"hash"]:r.map}function jt(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Bt(i)?i:void 0}Dt.prototype.clear=function(){this.__data__=vt?vt(null):{}},Dt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Dt.prototype.get=function(t){var e=this.__data__;if(vt){var i=e[t];return i===r?void 0:i}return Z.call(e,t)?e[t]:void 0},Dt.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:Z.call(e,t)},Dt.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?r:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,i=Lt(e,t);return!(i<0)&&(i==e.length-1?e.pop():ct.call(e,i,1),!0)},Ct.prototype.get=function(t){var e=this.__data__,i=Lt(e,t);return i<0?void 0:e[i][1]},Ct.prototype.has=function(t){return Lt(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var i=this.__data__,n=Lt(i,t);return n<0?i.push([t,e]):i[n][1]=e,this},xt.prototype.clear=function(){this.__data__={hash:new Dt,map:new(ht||Ct),string:new Dt}},xt.prototype.delete=function(t){return Ut(this,t).delete(t)},xt.prototype.get=function(t){return Ut(this,t).get(t)},xt.prototype.has=function(t){return Ut(this,t).has(t)},xt.prototype.set=function(t,e){return Ut(this,t).set(t,e),this},Tt.prototype.clear=function(){this.__data__=new Ct},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Ct){var r=i.__data__;if(!ht||r.length<n-1)return r.push([t,e]),this;i=this.__data__=new xt(r)}return i.set(t,e),this};var Mt=ut?z(ut,Object):function(){return[]},qt=function(t){return tt.call(t)};function Vt(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||L.test(t))&&t>-1&&t%1==0&&t<e}function kt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||J)}function Ft(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(pt&&qt(new pt(new ArrayBuffer(1)))!=b||ht&&qt(new ht)!=l||ft&&"[object Promise]"!=qt(ft.resolve())||gt&&qt(new gt)!=g||_t&&"[object WeakMap]"!=qt(new _t))&&(qt=function(t){var e=tt.call(t),i=e==h?t.constructor:void 0,n=i?Ft(i):void 0;if(n)switch(n){case mt:return b;case bt:return l;case yt:return"[object Promise]";case St:return g;case It:return"[object WeakMap]"}return e});var zt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!Kt(t)}var Wt=dt||function(){return!1};function Kt(t){var e=Xt(t)?tt.call(t):"";return e==u||e==d}function Xt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Jt(t){return Ht(t)?Ot(t):function(t){if(!kt(t))return lt(t);var e=[];for(var i in Object(t))Z.call(t,i)&&"constructor"!=i&&e.push(i);return e}(t)}i.exports=function(t){return Rt(t,!0,!0)}}).call(this,i(29),i(90)(t))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.NobidPostbidSeq=void 0;var o=i(28),s=i(1),a=function(t){function e(e,i,n,r){var o=t.call(this,i,n,e.unitSlots.slotsMap.get(s.UnitSlots.NOBID_POSTBID_DIV_ID),[])||this;return o.c=e,o.log=r,o}return r(e,t),e.prototype.invokeCustom=function(t){this.log.debug("Nobid Postbid invoked...");var i='{\n      "sid":22685998647,\n      "tt": "'+encodeURIComponent(document.title)+'",\n      "tz": "'+Math.round((new Date).getTimezoneOffset())+'",\n      "l": "'+window.location.href+'",\n      "r": "'+this.c.unitConfig.ad_width+"x"+this.c.unitConfig.ad_height+'",\n      "lang": "'+(navigator.languages&&navigator.languages[0]||navigator.language)+'",\n      "ref" : "'+window.top.document.referrer+'",\n      "schain": {\n        "ver": "1.0",\n        "complete": 1,\n        "nodes": [{\n          "asi": "durationmedia.net",\n          "sid": "21858839910",\n          "hp": 1\n        }]\n      },\n      "a": [{\n        "d": "'+e.ID+'",\n        "at": "banner",\n        "z": [['+this.c.unitConfig.ad_width+","+this.c.unitConfig.ad_height+"]]\n      }]\n    }";this.log.debug("Nobid Postbid data",i);var n=new XMLHttpRequest;n.withCredentials=!0,n.timeout=5e3,n.open("POST","https://ads.servenobid.com/adreq",!0);var r=this;n.onreadystatechange=function(){if(t.setRequestInProgress(!1),this.readyState===XMLHttpRequest.DONE){r.log.debug("Nobid Postbid response",this.response);var e=JSON.parse(this.response);r.log.debug("Nobid Postbid "+e.bids.length+" bids found"),e.bids.forEach((function(t){r.log.debug("Rendering bid adm "+t.adm+" into "+r.c.wnd.document.getElementById(t.divid)),r.c.wnd.document.getElementById(t.divid).innerHTML=t.adm,r.setInnerHTML(r.c.wnd.document.getElementById(t.divid),t.adm)}));var i={slot:{getSlotElementId:function(){return s.UnitSlots.NOBID_POSTBID_DIV_ID}},isEmpty:0==e.bids.length};t.onSlotRenderEnded(i)}},n.send(i)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e;var i=t.querySelectorAll("script");Array.from(i).forEach((function(t){var e=document.createElement("script");Array.from(t.attributes).forEach((function(t){return e.setAttribute(t.name,t.value)})),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)}))},e.prototype.getId=function(){return e.ID},e.ID="nobid-postbid",e}(o.BasicSupportSeq);e.NobidPostbidSeq=a},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(72),r=i(56);i(32),i(33),setTimeout((function(){new n.DmScript(r.ScriptConfig.parse()).initScript()}))},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.DmScript=void 0;var o=i(58),s=i(11),a=i(73),c=i(95),u=i(30),d=i(7),l=i(96),p=i(104),h=i(31),f=function(){function t(t,e,i,n){this.scriptConfig=t,this.slotsReadyToOvertake=[],this.wnd=e||window,this.scriptConfig.pixelDelivery&&(this.wnd=this.wnd.parent),this.log=i||u.Logger.getInstance(this.wnd),this.visibilityService=n||o.VisibilityService.of(this.wnd),this.slotService=new l.SlotService(this.wnd,this.log,this.scriptConfig),this.server=new h.ServerService}return t.prototype.initScript=function(){var t=this;this.wnd.dmjs_loaded||(this.wnd.dmjs_loaded=!0,this.log.event(d.LogEvent.SCRIPT_LOADED,{siteId:this.scriptConfig.siteId,version:"1.5.2",siteUrl:this.scriptConfig.siteUrl}),this.logScriptLoadedAndCheckIPAllowed().then((function(e){e&&(t.slotService.addSlotReadyToOvertakeListener(t.onSlotReadyToOvertake.bind(t)),t.slotService.init(),t.scriptConfig.hashtag&&t.processHashtagVideo())})))},t.prototype.onSlotReadyToOvertake=function(t){return this.slotsReadyToOvertake.push(t),this.setInterval()},t.prototype.intervalCheck=function(){var t=this;this.slotsReadyToOvertake.forEach((function(e){var i=e.elementId,n=t.scriptConfig.siteId,r=t.visibilityService.calc(i,t.scriptConfig.siteId),o=(new Date).getTime()-e.registeredOnTimestamp>=1e3*t.scriptConfig.overtakeDelaySec,s=r.visibleByThreshold&&r.visibleByThresholdDuration>=1e3*t.scriptConfig.overtakeVisibilityDelaySec;if(o&&s){var a=e.size.width,c=e.size.height,u=e.serverResponse.adUnitId;t.slotsReadyToOvertake.splice(t.slotsReadyToOvertake.indexOf(e),1),t.log.event(d.LogEvent.SLOT_OVERTAKE,{slotId:i,siteId:n,unitId:u,adWidth:a,adHeight:c}),t.injectDmUnit(i,a,c,u,e.slot)}})),this.clearInterval()},t.prototype.setInterval=function(){return this.interval||(this.interval=setInterval(this.intervalCheck.bind(this),100)),this.interval},t.prototype.clearInterval=function(){this.slotsReadyToOvertake.length||(clearInterval(this.interval),this.interval=null)},t.prototype.injectDmUnit=function(t,e,i,n,r){var o=this;if(this.log.debug("inject dm unit "+e+"x"+i+" unitId="+n+" "+t),this.wnd.document){var u=this.wnd.document.getElementById(t),d=u.clientWidth<2*e?u.clientWidth:e,l=u.clientHeight,h=s.Utils.genUid();u.className+=" dm-gpt dm-gpt-"+h+" dm-gpt-"+t+" dm-gpt-"+e+"_"+i,this.scriptConfig.allowsBlanks&&p.ViewUtils.removeAllChildrenFrom(u);var f=this.wnd.document.createElement("iframe");f.style.border="none",f.id=h,f.className="dm-wrapper-frame-"+f.id,u.appendChild(f);var g=f.contentWindow.document,_=this.wnd.document.createElement("style");_.type="text/css",this.scriptConfig.allowsBlanks||(_.innerHTML+=".dm-gpt-"+h+"{\n      width: "+d+"px "+(this.scriptConfig.widthIsImportant?"!important":"")+";\n      height:"+l+"px "+(this.scriptConfig.heightIsImportant?"!important":"")+";\n      }"),_.innerHTML+="."+f.className+" {display:inline-block;width:"+e+"px;height:"+i+"px;margin:0 !important;padding:0 !important;overflow:hidden;} ",this.scriptConfig.customCss&&(_.innerHTML+=this.scriptConfig.customCss),this.wnd.document.getElementsByTagName("head")[0].appendChild(_),g.write('\n          <head>\n          <style type="text/css">\n            html {overflow:hidden;} body{margin:0; width:100%; height:100%}\n          </style>\n          </head>\n          <body>\n            <div id="'+n+'" data-parent-id="'+f.id+'""></div>\n          </body>'),g.addEventListener("DOMContentLoaded",(function(){var t=new c.UnitContext;t.pageTitle=o.wnd.document.title,t.rootWnd=o.wnd,t.rootGptDivId=f.parentElement.id,t.scriptConfig=o.scriptConfig,t.rootGptSlot=r,t.firstIframeElementId=f.id,t.firstIframeWnd=f.contentWindow,t.firstIframeDoc=f.contentDocument,t.unitConfig=o.scriptConfig.units.find((function(t){return t.placement_id===n})),t.visibilityService=o.visibilityService,new a.AdUnitFrame(t).createUnit()})),g.close()}},t.prototype.logScriptLoadedAndCheckIPAllowed=function(){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(e){switch(e.label){case 0:return[4,this.server.scriptLoaded(this.scriptConfig.siteId).then((function(e){return 403==e.status?(e.parsedBody.ipBlocked?t.log.event(d.LogEvent.IP_BLOCKED):e.parsedBody.countryBlocked&&t.log.event(d.LogEvent.COUNTRY_BLOCKED),!1):(t.log.event(d.LogEvent.IP_ALLOWED),t.log.event(d.LogEvent.COUNTRY_ALLOWED),t.setGlobalRefreshCapParams(e.parsedBody.device),!0)}))];case 1:return[2,e.sent()]}}))}))},t.prototype.setGlobalRefreshCapParams=function(t){var e,i;this.scriptConfig.refreshCaps.forEach((function(n){n.type==t?i=n:"DEFAULT"==n.type&&(e=n)})),this.scriptConfig.refreshRate=i&&i.refreshRate?i.refreshRate:e.refreshRate,this.scriptConfig.refreshRateLowerSec=i&&i.refreshRateLowerSec?i.refreshRateLowerSec:e.refreshRateLowerSec,this.scriptConfig.maxRefresh=i&&i.maxRefresh?i.maxRefresh:e.maxRefresh,this.scriptConfig.noBidMaxRefresh=i&&i.noBidMaxRefresh?i.noBidMaxRefresh:e.noBidMaxRefresh,this.scriptConfig.overtakeDelaySec=i&&i.overtakeDelaySec?i.overtakeDelaySec:e.overtakeDelaySec,this.scriptConfig.overtakeVisibilityDelaySec=i&&i.overtakeVisibilityDelaySec?i.overtakeVisibilityDelaySec:e.overtakeVisibilityDelaySec,this.scriptConfig.smartCap=i&&i.smartCap?i.smartCap:e.smartCap,this.scriptConfig.smartNoBidCap=i&&i.smartNoBidCap?i.smartNoBidCap:e.smartNoBidCap},t.prototype.processHashtagVideo=function(){var t=this,e=window.location.origin+window.location.pathname;if(this.scriptConfig.hashtagUrl&&-1!=e.indexOf(this.scriptConfig.hashtagUrl)){this.log.debug("Hashtag url found... processing video");var i=new URLSearchParams(window.location.search),n=i.get("category"),r=i.get("subcategory"),o=i.get("media"),s=i.get("playlist");this.log.debug("Hashtag category="+n+", subcategory="+r+", media="+o),this.server.hashtag(n,r).then((function(e){if(200==e.status){var i=e.parsedBody.playerId?e.parsedBody.playerId:t.scriptConfig.hashtagPlayerId,n=e.parsedBody.mediaId?e.parsedBody.mediaId:o;t.log.debug("Hashtag playerId="+i+", playlistId="+s+", mediaId="+n),i?t.invokeVideoPlayer(i,s,n):t.log.error('#Trending: mandatory field "playerId" is empty.')}}))}},t.prototype.invokeVideoPlayer=function(t,e,i){this.log.debug("Invoking connatix media player for player id: "+t+", playlistId="+e+", and mediaId: "+i);var n=document.getElementById("dm_hashtag_content_video"),r=document.createElement("script");r.setAttribute("id","player"),r.setAttribute("layout","responsive"),r.setAttribute("width","16"),r.setAttribute("height","9"),r.innerText="cnx.cmd.push(function() {cnx({ playerId: '"+t+(null==e?"":"', playlistId: '"+e)+(null==i?"":"', mediaId: '"+i)+"'}).render('player', (renderError, playerApi) => { });});",n.appendChild(r),this.log.debug("FINISHED invoking connatix media player for player id: "+t+", playlistId="+e+", and mediaId: "+i)},t}();e.DmScript=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdUnitFrame=void 0;var n=i(11),r=i(30),o=i(79),s=i(1),a=function(){function t(t){this.c=t,this.iframeId="dm-"+n.Utils.genUid(),this.log=r.Logger.getInstance(t.rootWnd)}return t.prototype.createUnit=function(){var t=this;this.createUnitIframe((function(){new o.AdSequencer(t.c).init()}))},t.prototype.createUnitIframe=function(t){var e=this,n=this.c.unitConfig;this.c.unitSlots=new s.UnitSlots(this.c,this.log).setSlots();var r=this.c.firstIframeDoc,o=r.getElementById(n.placement_id),a=o.parentNode,c=r.createElement("style");c.type="text/css",c.innerHTML=".dm-frame {position:absolute;display:block;width:"+n.ad_width+"px;height:"+n.ad_height+"px;margin:0;padding:0;overflow:hidden;}",r.getElementsByTagName("head")[0].appendChild(c);var u=r.createElement("div");u.style.display="none";var d=r.createElement("img");d.src=n.pixel_url,u.appendChild(d),a.insertBefore(u,o);var l=r.createElement("iframe");l.style.border="none",l.id=this.iframeId,l.className="dm-frame",a.insertBefore(l,o);var p=l.contentWindow.document,h=i(93)(Object.assign({siteId:this.c.scriptConfig.siteId,cdnUrl:this.c.scriptConfig.cdnUrl},this.c.unitConfig,{confiantWrapperId:this.c.scriptConfig.confiantWrapperId},{slots:this.c.unitSlots.slots})),f=i(94)(this.c.unitConfig);return p.write('<style type="text/css">'+f+"</style>"),p.write(h),p.addEventListener("DOMContentLoaded",(function(){try{var i=l.contentWindow;i.parent.document.getElementById(n.placement_id).getAttribute("data-parent-id")?(e.c.wnd=i,t()):e.log.error("unknown parent iframe id")}catch(t){e.log.error("error while unpacking unit "+n.placement_id,t)}})),p.close()},t}();e.AdUnitFrame=a},function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.put=e.post=e.get=e.http=void 0,e.http=function(t){return new Promise((function(e,i){var n;fetch(t).then((function(t){return n=t,t.json()})).then((function(t){n.parsedBody=t,n.ok?e(n):i(n)})).catch((function(t){i(t)}))}))},e.get=function(t,i){return void 0===i&&(i={method:"get"}),n(void 0,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,e.http(new Request(t,i))];case 1:return[2,n.sent()]}}))}))},e.post=function(t,i,o){return void 0===o&&(o={method:"post",body:JSON.stringify(i)}),n(void 0,void 0,void 0,(function(){var i;return r(this,(function(n){switch(n.label){case 0:return(i=new Request(t,o)).headers.set("Content-Type","application/json"),[4,e.http(i)];case 1:return[2,n.sent()]}}))}))},e.put=function(t,i,o){return void 0===o&&(o={method:"put",body:JSON.stringify(i)}),n(void 0,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,e.http(new Request(t,o))];case 1:return[2,i.sent()]}}))}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerScreen=void 0;var n=i(76),r=i(11),o=i(77),s=i(7),a=i(78),c=i(58),u=function(){function t(t){this.wnd=t,this.slotIdMap={},this.loggerView=new o.LoggerConsole(t),this.loggerTracker=new n.LoggerTracker(t),this.loggerView.createLoggerContainer(),this.visibilityMonitor=new a.VisibilityMonitorService(c.VisibilityService.of(t),10)}return t.prototype.visibilityUpdate=function(t,e){this.loggerTracker.visibilityUpdate(t,e,this.slotIdMap[t])},t.prototype.onLogEvent=function(t,e){switch(this.loggerView.createLoggerContainer(),e.slotId&&this.addSlotIdToMap(e.slotId,e.siteId,t),t){case s.LogEvent.SLOT_OVERTAKE_FAILED_NO_UNIT:case s.LogEvent.SLOT_OVERTAKE_FAILED_SPONSORED:this.loggerTracker.clear(e.slotId),this.visibilityMonitor.unwatch([e.slotId])}this.loggerView.writeLoggerMsg(this.getTimeMessage(),t,e,this.slotIdMap[e.slotId])},t.prototype.addSlotIdToMap=function(t,e,i){var n=this;t&&!this.slotIdMap[t]&&(this.slotIdMap[t]="#"+(Object.keys(this.slotIdMap).length+1),this.visibilityMonitor.watch([t],e,(function(t,e){return n.visibilityUpdate(t,e)})))},t.prototype.getTimeMessage=function(){var t=!(null!=this.startTime);return this.startTime||(this.startTime=(new Date).getTime()),t?"00:00":r.Utils.getVisibilityTime((new Date).getTime()-this.startTime)},t}();e.LoggerScreen=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerTracker=void 0;var n=i(59),r=i(11),o=function(){function t(t){this.wnd=t}return t.prototype.visibilityUpdate=function(t,e,i){var n=this.wnd.document,o=this.getVisibilityTracker(n,t,e);o&&(o.innerHTML=i+"<br/> t="+r.Utils.getVisibilityTime((new Date).getTime()-e.detectedAt)+"<br/>\n    vt="+r.Utils.getVisibilityTime(e.visibleByThresholdDuration)+"<br/>\n    p="+(e.percentVisible?Math.floor(e.percentVisible)+"%":""))},t.prototype.getVisibilityTracker=function(t,e,i){var r=t.getElementById(e);if(r){var o=n.VisibilityUtils.getElementCoordinates(t,r);if(!o)return null;var s=this.getTrackerEl(t,e);s.style.top=o.y+3+"px",s.style.left=o.x+3+"px",s.style.width="100px",s.style.height="84px",s.style.background=i.visibleByThreshold?"#18F624":"grey",s.style.color=i.visibleByThreshold?"black":"white";var a=this.getTrackerElContainer(t,e);return a.style.top=o.y+"px",a.style.left=o.x+"px",a.style.width=o.w+"px",a.style.height=o.h+"px",a.style.border="3px dashed "+(i.visibleByThreshold?"#30F73A":"grey"),s}},t.prototype.getTrackerElContainer=function(t,e){var i="dm-vis-tracker-"+e,n=i+"-container",r=t.getElementById(n);return r||((r=t.createElement("div")).id=i+"-container",r.className="dm-vis-tracker-container",r.style.position="fixed",r.style.zIndex="999",t.body.appendChild(r)),r},t.prototype.getTrackerEl=function(t,e){var i="dm-vis-tracker-"+e,n=t.getElementById(i);if(!n){if(!t.getElementById("dm-style")){var r=t.createElement("style");r.id="dm-style",r.innerHTML=".dm-vis-tracker{\n          opacity: 0.9;\n          border: 1px solid #5077E3;\n          line-height: 19px;\n          padding: 0 10px;\n          font-size: 14px;\n        }",t.getElementsByTagName("head")[0].appendChild(r)}(n=t.createElement("div")).id=i,n.className="dm-vis-tracker",n.style.position="fixed",n.style.zIndex="1000",t.body.appendChild(n)}return n},t.prototype.clear=function(t){var e=this.wnd.document;e.body.removeChild(this.getTrackerEl(e,t)),e.body.removeChild(this.getTrackerElContainer(e,t))},t}();e.LoggerTracker=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerConsole=void 0;var n=i(7),r=i(11),o=function(){function t(t){this.wnd=t}return t.prototype.createLoggerContainer=function(){if(this.wnd.document&&this.wnd.document.body&&!this.wnd.document.getElementById("dm-logger-container")){var t=this.wnd.document.createElement("div");t.id="dm-logger-container",t.setAttribute("style","-webkit-box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15);box-shadow: 0 5px 11px 0 rgba(0,0,0,0.18), 0 4px 15px 0 rgba(0,0,0,0.15);"),t.style.width="290px",t.style.height="350px",t.style.position="fixed",t.style.top="20px",t.style.right="20px",t.style.overflowWrap="break-word",t.style.fontSize="12px",t.style.textAlign="left",t.style.zIndex="2147483647",t.style.overflowX="hidden",t.style.borderRadius="5px",this.wnd.document.body.appendChild(t);var e=this.wnd.document.createElement("div");e.id="dm-logger-container-header",e.style.width="290px",e.style.height="35px",e.style.background="#e3931e",e.style.color="#ffffff",e.style.padding="7px",e.style.fontSize="14px",e.style.position="fixed",e.style.borderRadius="5px 5px 0 0",e.style.boxSizing="border-box",e.innerHTML="<span>Duration Media</span>",t.appendChild(e),this.screenContainerBody=this.wnd.document.createElement("div"),this.screenContainerBody.id="dm-logger-container-body",this.screenContainerBody.style.width="100%",this.screenContainerBody.style.height="313px",this.screenContainerBody.style.marginTop="35px",this.screenContainerBody.style.overflowY="scroll",this.screenContainerBody.style.background="rgba(245, 245, 245, .9)",t.appendChild(this.screenContainerBody),this.screenContainerList=this.wnd.document.createElement("ul"),this.screenContainerList.id="dm-logger-container-list",this.screenContainerList.style.listStyleType="none",this.screenContainerList.style.margin="0",this.screenContainerList.style.padding="0",this.screenContainerBody.appendChild(this.screenContainerList)}},t.prototype.writeLoggerMsg=function(t,e,i,o){if(e!==n.LogEvent.UNIT_SEQ&&e!==n.LogEvent.UNIT_CREATIVE_VIEWABLE&&this.screenContainerList){var s=this.wnd.document.createElement("li");s.style.padding="5px",s.style.fontSize="12px",s.style.lineHeight="normal",s.style.backgroundColor=this.screenContainerList.getElementsByTagName("li").length%2==0?"none":"rgba(255, 255, 255, .8)";var a=i.slotId?o+" ":"",c=i.adWidth&&i.adHeight?i.adWidth+"x"+i.adHeight+" ":"",u=e==n.LogEvent.UNIT_NO_FILL?"#cc0606":e==n.LogEvent.UNIT_CREATIVE_RENDERED?"#008000":"#043f76",d=n.LogEventLabels[e]||e,l=e==n.LogEvent.UNIT_NO_FILL&&i.seq?" <span>"+i.seq+"</span>":"",p=e==n.LogEvent.UNIT_CREATIVE_RENDERED&&i.fillSource?" <span>"+i.fillSource+"</span>":"",h=this.getMoreInfo(i),f=r.Utils.genUid(),g='<span style="color: '+u+'; cursor: pointer;" onclick="(function () {document.getElementById(\''+f+"').style.display = document.getElementById('"+f+"').style.display ==='block'?'none':'block';})();\n                        return false\"> "+d+" "+l+" "+p+'</span>\n                      <span id="'+f+'" style="display: none">'+(h||"")+"</span>";s.innerHTML=t+" <strong>"+a+"</strong> <span>"+c+"</span> "+g,this.screenContainerList.appendChild(s),this.screenContainerBody.scrollTo(0,this.screenContainerBody.scrollHeight)}},t.prototype.getMoreInfo=function(t){var e=t.crId?"<strong>crId: </strong>"+t.crId:"",i=t.lid?"<strong>lid: </strong>"+t.lid:"",n=t.bidder?"<strong>bidder: </strong>"+t.bidder:"",r=t.cpm?"<strong>cpm: </strong>"+t.cpm:"",o=t.seq?"<strong>seq: </strong>"+t.seq:"",s=t.version?"<strong>version: </strong>"+t.version:"",a=t.siteUrl?"<strong>site: </strong>"+t.siteUrl:"",c=t.fillSource?"<strong>source: </strong>"+t.fillSource:"",u=t.siteId?"<strong>siteId: </strong>"+t.siteId:"";return e||i||o||n||r||s||c||u?e+" "+i+" "+o+" "+n+" "+r+" "+a+" "+u+" "+s+" "+c:null},t}();e.LoggerConsole=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibilityChangedEvent=e.VisibilityEventDispatcher=e.VisibilityMonitorService=void 0;var n=function(){function t(t,e){this.service=t,this.intervalMs=e,this.containerIdsToMonitor=[]}return t.prototype.watch=function(t,e,i){var n=this;this.containerIdsToMonitor=this.containerIdsToMonitor.concat(t),this.interval||(this.interval=setInterval((function(){n.containerIdsToMonitor.forEach((function(t){var r=n.service.calc(t,e);i(t,r)}))}),this.intervalMs))},t.prototype.unwatch=function(t){this.containerIdsToMonitor=this.containerIdsToMonitor.filter((function(e){return!t.includes(e)})),t.length||clearInterval(this.interval)},t.prototype.stopMonitoring=function(){null!=this.interval&&clearInterval(this.interval)},t}();e.VisibilityMonitorService=n;var r=function(){function t(){}return t.dispatchEvent=function(e,i){var n;"function"==typeof Event?n=new CustomEvent(t.EVENT_VISIBILTY_CHANGE,i):(n=e.createEvent("CustomEvent")).initCustomEvent(t.EVENT_VISIBILTY_CHANGE,!1,!0,i),e.dispatchEvent(n)},t.EVENT_VISIBILTY_CHANGE="visibility-change",t}();e.VisibilityEventDispatcher=r;var o=function(t){this.detail=t};e.VisibilityChangedEvent=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdSequencer=void 0;var n=i(80),r=i(30),o=i(82),s=i(83),a=i(63),c=i(65),u=i(57),d=i(7),l=i(66),p=i(67),h=i(86),f=i(1),g=i(87),_=i(69),v=function(){function t(t,e,i,a,c){this.c=t,this.log=e||r.Logger.getInstance(t.rootWnd),this.gptService=i||new n.GptService(t,this.log),this.auctionLogger=new l.AuctionLogger(t,this.log),this.auction=a||new s.Auction(this.c,this.auctionLogger),this.view=c||new o.AdViewService(t,this.log),this.sequenceFactory=new g.SequenceFactory(t,this.log,this.gptService,this.auction,this.view)}return t.prototype.init=function(){var t=this;this._sequence=this.sequenceFactory.createSequence(),this.sequenceCounter=0,this.noBidSequenceCounter=0,this.unfilledCounter=0,this.noBidUnfilledCounter=0,this._sequence.forEach((function(t){return t.hide()})),this.gptService.initGpt(this.c.unitSlots.slots,this.c.rootGptSlot),this.gptService.onImpressionViewable((function(){t.log.event(d.LogEvent.UNIT_CREATIVE_VIEWABLE,d.LogEventContext.fromUnitContext(t.c))})),this.gptService.onSlotRenderEnded(this.onSlotRenderEnded.bind(this)),this.gptService.onSlotRequested(this.onSlotRequested.bind(this)),this.gptService.onSlotResponseReceived(this.onSlotResponseReceived.bind(this)),this.gptService.que((function(){setTimeout((function(){t.runSequence()}),0)}))},t.prototype.runSequence=function(){this.sequenceCounter++,this.auctionLogger.initAuction(),this.invoke(this._sequence[0])},t.prototype.invoke=function(t){var e=this;this.seqInProgress=t;var i=this.c.unitSlots.hasPublisherPrebidEnabled()&&!this.c.unitSlots.hasPublisherDirectEnabled()&&!this.c.unitSlots.hasDurationDemandEnabled(),n=!this.c.unitSlots.hasPublisherPrebidEnabled()&&this.c.unitSlots.hasPublisherDirectEnabled()&&!this.c.unitSlots.hasDurationDemandEnabled();if(i||n||t!==this.displayedSeq||this.displayedSeq.hasMirror()){if(!this.c.visibilityService.calc(this.c.rootGptDivId,this.c.scriptConfig.siteId).visibleByThreshold)return void setTimeout((function(){return e.invoke(t)}),100);this.log.event(d.LogEvent.UNIT_SEQ,d.LogEventContext.fromUnitContext(this.c,{seq:t.getId()})),t instanceof _.NobidPostbidSeq?t.invokeCustom(this):t.invoke()}else this.log.debug("Skipping sequence "+t.getId()+", since it already contains an ad"),this.invokeNext()},t.prototype.onSlotRenderEnded=function(t){var e=parseInt(this.c.scriptConfig.siteId);if(NaN!=e&&e>=11159&&e<=11162){var i=new CustomEvent("DmSlotRenderEndedEvent",{detail:{divId:this.c.rootGptDivId,e:t}});this.c.rootWnd.document.dispatchEvent(i)}this.isRequestInProgress=!1;var n=this.seqInProgress.onEvent(t);n?this.onSequenceFilled(t):this.onSequenceNoFill(t),this.auctionLogger.isDirty()&&(this.auctionLogger.onSlotRendered(t,n),this.auctionLogger.flush())},t.prototype.onSlotResponseReceived=function(t){this.isRequestInProgress=!1},t.prototype.onSlotRequested=function(t){var e=this;this.isRequestInProgress=!0,this.c.scriptConfig.adLoadTimeoutSec&&setTimeout((function(){return e.skipCurrentSequenceItemIfNeeded()}),1e3*this.c.scriptConfig.adLoadTimeoutSec)},t.prototype.skipCurrentSequenceItemIfNeeded=function(){this.isRequestInProgress&&(this.isRequestInProgress=!1,this.log.debug(this.c.rootGptDivId+" ad load timeout exceeded - skipping current sequence item"),this.invokeNext())},t.prototype.onSequenceNoFill=function(t){this.isNoBidOnlySequence()||this.isNoBidType(this.seqInProgress)?(this.noBidUnfilledCounter++,this.log.debug("Incrementing NoBid no fill counter",this.noBidUnfilledCounter)):(this.unfilledCounter++,this.log.debug("Incrementing Prebid no fill counter",this.unfilledCounter)),this.log.event(d.LogEvent.UNIT_NO_FILL,d.LogEventContext.fromUnitContext(this.c,{crId:t.creativeId,lid:t.lineItemId,seq:this.seqInProgress.getId()})),this.invokeNext()},t.prototype.invokeNext=function(){var t=this._sequence.indexOf(this.seqInProgress)+1;t>this._sequence.length-1?this.runSequenceAfterTimeout():this.invoke(this._sequence[t])},t.prototype.onSequenceFilled=function(t){this.view.cleanParentDiv(),this._sequence.forEach((function(t){return t.hide()})),this.displayedSeq&&this.displayedSeq!=this.seqInProgress&&this.displayedSeq.clean(),this.displayedSeq=this.seqInProgress,this.displayedSeq.show();var e=this.getFillSource(this.seqInProgress,t);this.log.event(d.LogEvent.UNIT_CREATIVE_RENDERED,d.LogEventContext.fromUnitContext(this.c,{crId:t.creativeId,lid:t.sourceAgnosticLineItemId,seq:this.seqInProgress.getId(),fillSource:e})),this.isNoBidOnlySequence()||this.isNoBidType(this.seqInProgress)?(this.noBidUnfilledCounter=0,this.log.debug("Reseting NoBid no fill counter",this.noBidUnfilledCounter)):(this.unfilledCounter=0,this.log.debug("Reseting Prebid no fill counter",this.unfilledCounter)),this.runSequenceAfterTimeout(e)},t.prototype.runSequenceAfterTimeout=function(t){var e=this;void 0===t&&(t=null);var i=this.c.unitConfig.maxRefresh||this.c.scriptConfig.maxRefresh,n=this.c.unitConfig.smartCap||this.c.scriptConfig.smartCap,r=this.c.unitConfig.smartNoBidCap||this.c.scriptConfig.smartNoBidCap,o=i&&this.sequenceCounter>=i,s=n&&this.unfilledCounter>=n,a=r&&this.noBidUnfilledCounter>=r;if(this.log.debug("Unit max refresh "+this.c.unitConfig.maxRefresh+", script config refresh "+this.c.scriptConfig.maxRefresh+",\n      sequence count "+this.sequenceCounter+",\n      max refresh exceeded: "+o+",\n      smartCap: "+n+",\n      smartCap exceeded "+s+",\n      smartNoBidCap: "+r+",\n      smartNoBidCap exceeded "+a),!o&&!s){a&&(this._sequence=this._sequence.filter((function(t){return!e.isNoBidType(t)})));var c=this.getRefreshRate(t);return setTimeout((function(){return e.runSequence()}),1e3*c)}i&&this.sequenceCounter===i&&this.log.debug(this.c.rootGptDivId+" max refresh exceeded bids="+this.sequenceCounter+", max="+i),n&&this.unfilledCounter===n&&this.log.debug(this.c.rootGptDivId+" smart cap exceeded unfilled="+this.unfilledCounter+", smartCap="+n),this.runNoBidSequenceAfterTimeout(t)},t.prototype.getRefreshRate=function(t){void 0===t&&(t=null);var e=this.c.scriptConfig.refreshRate;return h.FillSource.hasLowerRefresh(t)&&(this.c.unitConfig.refreshRateLowerSec||this.c.scriptConfig.refreshRateLowerSec)?(e=this.c.unitConfig.refreshRateLowerSec||this.c.scriptConfig.refreshRateLowerSec,this.log.debug(this.c.rootGptDivId+" lower refresh filled - refresh in "+e+" seconds")):this.log.debug(this.c.rootGptDivId+" refresh in "+e+" seconds"),e},t.prototype.runNoBidSequenceAfterTimeout=function(t){var e=this;void 0===t&&(t=null),this.log.debug("Starting NoBid-only sequence");var i=this.c.unitConfig.noBidMaxRefresh||this.c.scriptConfig.noBidMaxRefresh,n=this.c.unitConfig.smartNoBidCap||this.c.scriptConfig.smartNoBidCap,r=n&&this.noBidUnfilledCounter>=n;if(this.switchToNoBidSequence()){if((!i||i>this.noBidSequenceCounter)&&!r){var o=this.getRefreshRate(t);return setTimeout((function(){e.noBidSequenceCounter++,e.log.debug("Unit NoBid max refresh "+e.c.unitConfig.noBidMaxRefresh+", script config NoBid max refresh "+e.c.scriptConfig.noBidMaxRefresh+", NoBid sequence count "+e.noBidSequenceCounter),e.runSequence()}),1e3*o)}n&&this.noBidUnfilledCounter===n?this.log.debug(this.c.rootGptDivId+" NoBid smart cap exceeded noBidUnfilledCounter="+this.noBidUnfilledCounter+" smartNoBidCap="+n):this.log.debug(this.c.rootGptDivId+" NoBid max refresh exceeded bids="+this.noBidSequenceCounter+", NoBid max refresh="+i)}},t.prototype.switchToNoBidSequence=function(){var t=this;if(this.isNoBidOnlySequence())return!0;var e=this._sequence.find((function(e){return t.isNoBidType(e)}));return e?(this._sequence=[e],this.log.debug(this.c.rootGptDivId+" switched to NoBid only sequence"),!0):(this.log.debug(this.c.rootGptDivId+" doesn't have NoBid only sequence configured"),!1)},t.prototype.isNoBidOnlySequence=function(){var t=this;return 0==this.sequence.filter((function(e){return!t.isNoBidType(e)})).length},t.prototype.isNoBidType=function(t){return t.getId()===c.NobidMirrorSeq.ID||t.getId()===_.NobidPostbidSeq.ID},Object.defineProperty(t.prototype,"sequence",{get:function(){return this._sequence},enumerable:!1,configurable:!0}),t.prototype.getFillSource=function(t,e){if(t.getId()===a.RegularTagSeq.ID){if(null!=e.sourceAgnosticLineItemId&&e.sourceAgnosticLineItemId>0){if(p.GamUtils.isAdxFilled(e))return h.FillSource.DM_ADX;var i=this.auction.getWinningBids();return this.log.debug("winning bids=%o",i),i&&i.length&&"openx"===i[i.length-1].bidder?(this.log.debug("openx won"),h.FillSource.DM_PREBID_OPENX):h.FillSource.DM_PREBID}return h.FillSource.DM_OTHER}return t.getId()===c.NobidMirrorSeq.ID?p.GamUtils.isNobidAdxFilled(e,this.c.scriptConfig.gptTagNobid)?h.FillSource.NOBID_ADX:h.FillSource.NOBID_OTHER:t.getId()===u.PublisherSeq.ID?h.FillSource.PUB_PASSBACK:t.getId()===f.UnitSlots.PUBLISHER_PREBID_ID?h.FillSource.PUB_PREBID:t.getId()===f.UnitSlots.PUB_DIRECT_DIV_ID?h.FillSource.PUB_DIRECT:t.getId()===f.UnitSlots.NOBID_POSTBID_DIV_ID?h.FillSource.NOBID_POSTBID:h.FillSource.UNKNOWN},t.prototype.setRequestInProgress=function(t){this.isRequestInProgress=t},t}();e.AdSequencer=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptService=void 0;var n=i(1),r=function(){function t(t,e){this.c=t,this.log=e,this.slotMap=new Map,this.c.wnd.googletag||(this.c.wnd.googletag=Object.assign({})),this.googletag=this.c.wnd.googletag,this.googletag.cmd=this.googletag.cmd||[],this.config=t.unitConfig}return t.prototype.initGpt=function(t,e){var i=this,n=this.googletag;n.cmd.push((function(){t.forEach((function(t){if(t.gptTag){var n=i.registerGptSlot(t.gptTag,t.gptDiv,i.config.ad_width,i.config.ad_height);i.setGptPassbackTargeting(n,e)}})),n.pubads().enableSingleRequest(),n.pubads().disableInitialLoad(),i.c.scriptConfig.siteUrl&&n.pubads().set("page_url",i.c.scriptConfig.siteUrl),n.enableServices()}))},t.prototype.setGptPassbackTargeting=function(t,e){var i=this,r=this.getSlotTargetingMap(e),o=t.getSlotElementId()===n.UnitSlots.PUB_DIV_ID,s=t.getSlotElementId()===n.UnitSlots.PUB_DIRECT_DIV_ID,a=t.getSlotElementId()===n.UnitSlots.PUBLISHER_PREBID_ID;t.setTargeting("dm_domain",this.c.scriptConfig.siteUrl),o&&t.setTargeting("src",["duration"]),s&&(t.setTargeting("dm_tgt",["pd"]),this.c.scriptConfig.customDirectTargetKey&&this.c.scriptConfig.customDirectTargetValue&&t.setTargeting(this.c.scriptConfig.customDirectTargetKey,[this.c.scriptConfig.customDirectTargetValue])),a&&(t.setTargeting("dm_tgt",["pp"]),this.c.scriptConfig.customPrebidTargetKey&&this.c.scriptConfig.customPrebidTargetValue&&t.setTargeting(this.c.scriptConfig.customPrebidTargetKey,[this.c.scriptConfig.customPrebidTargetValue])),r&&(this.log.debug("Root slot-level targeting keys: "+JSON.stringify(r)),Object.keys(r).forEach((function(e){t.setTargeting(e,r[e])})));var c=window.top;if(c.googletag&&c.googletag.pubads()){var u=c.googletag.pubads().getTargetingKeys();this.log.debug("Root page-level targeting keys: "+JSON.stringify(u)),u&&u.forEach((function(t){i.googletag.pubads().setTargeting(t,c.googletag.pubads().getTargeting(t))}))}},t.prototype.onSlotRenderEnded=function(t){var e=this;this.que((function(i){i.pubads().addEventListener("slotRenderEnded",t.bind(e))}))},t.prototype.onSlotRequested=function(t){var e=this;this.que((function(i){i.pubads().addEventListener("slotRequested",t.bind(e))}))},t.prototype.onSlotResponseReceived=function(t){var e=this;this.que((function(i){i.pubads().addEventListener("slotResponseReceived",t.bind(e))}))},t.prototype.onImpressionViewable=function(t){var e=this;this.que((function(i){i.pubads().addEventListener("impressionViewable",t.bind(e))}))},t.prototype.que=function(t){var e=this;this.googletag.cmd.push((function(){t(e.googletag)}))},t.prototype.getSlot=function(t){return this.slotMap.get(t)},t.prototype.refresh=function(t){this.googletag.pubads().refresh([this.slotMap.get(t)])},t.prototype.getGoogletag=function(){return this.googletag},t.prototype.registerGptSlot=function(t,e,i,n){var r=this.googletag.defineSlot(t,[i,n],e).addService(this.googletag.pubads());return this.slotMap.set(e,r),r},t.prototype.getSlotTargetingMap=function(t){var e={};return t.getTargetingKeys().forEach((function(i){i.match(/hb_/)||(e[i]=t.getTargeting(i))})),e},t}();e.GptService=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdSlot=void 0;var n=function(t,e){this.gptDiv=t,this.gptTag=e};e.AdSlot=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdViewService=void 0;var n=function(){function t(t,e){this.c=t,this.log=e}return t.prototype.hideSlot=function(t){this.c.wnd.document.getElementById(t).style.zIndex="100"},t.prototype.showSlot=function(t){this.c.wnd.document.getElementById(t).style.zIndex="101"},t.prototype.isVisible=function(t){return"101"===this.c.wnd.document.getElementById(t).style.zIndex},t.prototype.cleanSlot=function(t){if(t)for(var e=this.c.wnd.document.getElementById(t);e.firstChild;)e.removeChild(e.firstChild)},t.prototype.cleanParentDiv=function(){var t=this;if(!this.cleanedUpParentDiv){this.log.debug("cleaning up parent div"),this.cleanedUpParentDiv=!0;var e=this.c.rootWnd.document.getElementById(this.c.firstIframeElementId);e.style.display="inline-block";var i=e.parentElement,n=[];i.childNodes.forEach((function(e){e.id!=t.c.firstIframeElementId&&n.push(e)})),n.forEach((function(t){return i.removeChild(t)}))}},t}();e.AdViewService=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidAdUnit=e.Auction=void 0;var n=i(30),r=i(7),o=function(){function t(t,e){this.c=t,this.auctionLogger=e,this.bidsCount=0,this.firstBid=!0,this.log=n.Logger.getInstance(t.rootWnd),this.c.wnd.pbjs||(this.c.wnd.pbjs={}),this.pbjs=this.c.wnd.pbjs,this.pbjs.que=this.pbjs.que||[],this.config=t.unitConfig}return t.prototype.getBids=function(t,e){var n=this,o=t.getSlotElementId();this.log.event(r.LogEvent.UNIT_AD_REQUEST,r.LogEventContext.fromUnitContext(this.c)),this.bidsCount+=1,e.cmd.push((function(){return e.pubads().disableInitialLoad()})),this.adUnits&&this.adUnits.length&&this.pbjs.que.push((function(){n.adUnits.forEach((function(t){return n.pbjs.removeAdUnit(t.code)})),n.adUnits=[]})),this.adUnits=JSON.parse(i(84)(Object.assign({},this.config,{gpt_div:o,page_title:this.c.pageTitle}))),this.adUnits[0].bids.pop(),this.log.debug(this.c.rootGptDivId+" prebid units to run auction on "+JSON.stringify(this.adUnits)),this.pbjs.bidderSettings=this.getPrebidAdjustments();var s={buckets:[{precision:2,min:0,max:3,increment:.01},{precision:2,min:3,max:8,increment:.05},{precision:2,min:8,max:100,increment:.5}]};return this.pbjs.que.push((function(){var i={enableSendAllBids:!0,priceGranularity:s,userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:999,syncDelay:6e3},consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},usp:{timeout:3e3,allowAuctionWithoutConsent:!0}}},r=n.c.wnd.parent.parent;try{"function"!=typeof r.__tcfapi&&(delete i.consentManagement.gdpr,n.log.debug("gdpr deleted: "+JSON.stringify(i)))}catch(t){n.log.error("catch: "+t),delete i.consentManagement.gdpr,n.log.debug("gdpr deleted: "+JSON.stringify(i))}return n.c.scriptConfig.sellerId&&(i.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"durationmedia.net",sid:n.c.scriptConfig.sellerId,hp:1}]}}),n.c.scriptConfig.analyticsEnabled&&(n.c.wnd.DmPrebidAnalytics=n.auctionLogger.handle.bind(n.auctionLogger),n.pbjs.enableAnalytics({provider:"dm"})),n.pbjs.setConfig(i),n.pbjs.addAdUnits(n.adUnits),n.pbjs.requestBids({timeout:n.c.scriptConfig.bidTimeout,bidsBackHandler:function(i){n.bidsComplete(i,t,e)}})})),this.firstBid=!1},t.prototype.getPrebidAdjustments=function(){var t=this;this.config.bidAdjustments=this.config.bidAdjustments||{},this.config.bidFloors=this.config.bidFloors||{};var e={};return this.adUnits[0].bids.map((function(t){return t.bidder})).forEach((function(i){e[i]={bidCpmAdjustment:function(e){var n=t.config.bidFloors[i],r=e*(t.config.bidAdjustments[i]||1);return n&&r<n?0:r}}})),e},t.prototype.bidsComplete=function(t,e,i){var n=this;i.cmd.push((function(){return n.pbjs.que.push((function(){e.setTargeting("rfsh",""+n.bidsCount);try{var t=new Date,r=t.getTime(),o=6e4*t.getTimezoneOffset(),s=new Date(r+o+-144e5).getHours();e.setTargeting("rfshtime",""+s)}catch(t){console.error(t)}return n.pbjs.setTargetingForGPTAsync(),e.setTargeting("hb_pb",null),i.pubads().refresh([e])}))})),this.auctionLogger.logBidResponses(t)},t.prototype.getWinningBids=function(){return this.pbjs.getAllWinningBids()},t.prototype.getBidsCount=function(){return this.bidsCount},t}();e.Auction=o;var s=function(){};e.PrebidAdUnit=s},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj)__p+='[{\r\n"code": "'+(null==(__t=gpt_div)?"":__t)+'",\r\n"mediaTypes": {\r\n  "banner": {\r\n    "sizes": [['+(null==(__t=ad_width)?"":__t)+","+(null==(__t=ad_height)?"":__t)+']]\r\n  }\r\n},\r\n"bids": [\r\n\r\n',openx_id&&(__p+='\r\n  {\r\n  "bidder": "openx",\r\n  "params": {\r\n  "unit": "'+(null==(__t=openx_id)?"":__t)+'",\r\n  "delDomain": "durationmedia-d.openx.net"\r\n  }\r\n  },\r\n'),__p+="\r\n",rubicon_siteid&&rubicon_zoneid&&(__p+='\r\n  {\r\n  "bidder": "rubicon",\r\n  "params": {\r\n  "accountId": "13702",\r\n  "siteId": "'+(null==(__t=rubicon_siteid)?"":__t)+'",\r\n  "zoneId": "'+(null==(__t=rubicon_zoneid)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",brealtime_id&&(__p+='\r\n  {\r\n  "bidder": "brealtime",\r\n  "params": {\r\n  "placementId": "'+(null==(__t=brealtime_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",districtm_id&&(__p+='\r\n  {\r\n  "bidder": "disctrictm",\r\n  "params": {\r\n  "placementId": "'+(null==(__t=disctrictm_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",appnexus_id&&(__p+='\r\n  {\r\n  "bidder": "appnexus",\r\n  "params": {\r\n  "placementId": "'+(null==(__t=appnexus_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",sonobi_id&&(__p+='\r\n  {\r\n  "bidder": "sonobi",\r\n  "params": {\r\n  "ad_unit": "'+(null==(__t=sonobi_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n\r\n",pubmatic_id&&(__p+='\r\n  {\r\n  "bidder": "pubmatic",\r\n  "params": {\r\n  "publisherId": "158024",\r\n  "adSlot": "'+(null==(__t=pubmatic_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",index_id&&(__p+='\r\n  {\r\n  "bidder": "ix",\r\n  "params": {\r\n  "siteId": "'+(null==(__t=index_id)?"":__t)+'",\r\n  "size": ['+(null==(__t=ad_width)?"":__t)+", "+(null==(__t=ad_height)?"":__t)+"]\r\n  }\r\n  },\r\n"),__p+="\r\n",sovrn_id&&(__p+='\r\n  {\r\n  "bidder": "sovrn",\r\n  "params": {\r\n  "tagid": "'+(null==(__t=sovrn_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",ttacross_id&&(__p+='\r\n  {\r\n  "bidder": "33across",\r\n  "params": {\r\n  "siteId": "'+(null==(__t=ttacross_id)?"":__t)+'",\r\n  "productId": "siab"\r\n  }\r\n  },\r\n'),__p+="\r\n",rhythmone_id&&(__p+='\r\n  {\r\n  "bidder": "rhythmone",\r\n  "params": {\r\n  "placementId": "'+(null==(__t=rhythmone_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",emx_id&&(__p+='\r\n  {\r\n  "bidder": "emx_digital",\r\n  "params": {\r\n  "tagid": "'+(null==(__t=emx_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",nobid_site_id&&(__p+='\r\n  {\r\n  "bidder": "nobid",\r\n  "params": {\r\n  "siteId": '+(null==(__t=nobid_site_id)?"":__t)+"\r\n  ",nobid_format_id&&(__p+='\r\n    , "placementId": '+(null==(__t=nobid_format_id)?"":__t)+"\r\n  "),__p+="\r\n  }\r\n  },\r\n"),__p+="\r\n",aol_id&&(__p+='\r\n  {\r\n  "bidder": "aol",\r\n  "params": {\r\n  "placement": "'+(null==(__t=aol_id)?"":__t)+'",\r\n  "network": ""\r\n  }\r\n  },\r\n'),__p+="\r\n",nanointeractive_id&&(__p+='\r\n  {\r\n  "bidder": "nanointeractive",\r\n  "params": {\r\n  "pid": "'+(null==(__t=nanointeractive_id)?"":__t)+'",\r\n  "nq": "'+(null==(__t=page_title)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",grid_id&&(__p+='\r\n  {\r\n  "bidder": "grid",\r\n  "params": {\r\n  "uid": "'+(null==(__t=grid_id)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n",pulsepoint_cf&&pulsepoint_cp&&pulsepoint_ct&&(__p+='\r\n  {\r\n  "bidder": "pulsepoint",\r\n  "params": {\r\n  "cf": "'+(null==(__t=pulsepoint_cf)?"":__t)+'",\r\n  "cp": "'+(null==(__t=pulsepoint_cp)?"":__t)+'",\r\n  "ct": "'+(null==(__t=pulsepoint_ct)?"":__t)+'"\r\n  }\r\n  },\r\n'),__p+="\r\n{}\r\n]\r\n}]\r\n";return __p}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorSupportPrebidSeq=void 0;var o=function(t){function e(e,i,n,r,o,s){var a=t.call(this,i,n,r,o,s)||this;return a.prebid=e,a}return r(e,t),e.prototype.invokeSlot=function(t){this.prebid.getBids(t,this.gptService.getGoogletag())},e}(i(64).MirrorSupportSeq);e.MirrorSupportPrebidSeq=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FillSource=void 0;var n=i(57),r=i(1),o=function(){function t(){}return t.hasLowerRefresh=function(e){return!!e&&t.LOWER_REFRESH_SOURCES.includes(e)},t.DM_PREBID="dm-prebid",t.DM_OTHER="dm-other",t.DM_ADX="dm-adx",t.NOBID_ADX="nobid-adx",t.NOBID_OTHER="nobid-other",t.NOBID_POSTBID="nobid-postbid",t.DM_PREBID_OPENX="dm-prebid-openx",t.UNKNOWN="-",t.PUB_PASSBACK=n.PublisherSeq.ID,t.PUB_DIRECT=r.UnitSlots.PUB_DIRECT_DIV_ID,t.PUB_PREBID=r.UnitSlots.PUBLISHER_PREBID_ID,t.LOWER_REFRESH_SOURCES=[t.DM_PREBID,t.DM_OTHER,t.NOBID_OTHER],t}();e.FillSource=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceFactory=void 0;var n=i(61),r=i(65),o=i(88),s=i(89),a=i(57),c=i(63),u=i(69),d=i(92),l=function(){function t(t,e,i,n,r){this.context=t,this.logger=e,this.gptService=i,this.auction=n,this.view=r}return t.prototype.createSequence=function(){var t=this,e=[];this.context.scriptConfig.bidSequenceItemOrder.forEach((function(i){var n=t.getSequenceItemsForAdSequenceType(i);e.push.apply(e,n)}));var i=window.location.origin+window.location.pathname,n=this.context.scriptConfig.hashtagUrl&&-1==i.indexOf(this.context.scriptConfig.hashtagUrl);return this.context.scriptConfig.hashtag&&n&&e.push(new d.HashtagSeq(this.context,this.gptService,this.view)),e},t.prototype.getSequenceItemsForAdSequenceType=function(t){switch(t){case n.BidSequenceItemType.PUBLISHER_PREBID:return this.getPublisherPrebidSequenceItems();case n.BidSequenceItemType.PUBLISHER_DIRECT:return this.getPublisherDirectSequenceItems();case n.BidSequenceItemType.DURATION_DEMAND:return this.getDurationDemandSequenceItems();default:throw new Error("Unknown bid sequence item type "+t+" provided.")}},t.prototype.getPublisherPrebidSequenceItems=function(){return this.context.unitSlots.isVaas()&&this.context.unitSlots.hasPublisherPrebidEnabled()?[new s.PublisherPrebidSeq(this.context,this.gptService,this.view,this.logger)]:[]},t.prototype.getPublisherDirectSequenceItems=function(){return this.context.unitSlots.isVaas()&&this.context.unitSlots.hasPublisherDirectEnabled()?[new o.PublisherDirectSeq(this.context,this.gptService,this.view)]:[]},t.prototype.getDurationDemandSequenceItems=function(){if(this.context.unitSlots.isVaas()&&!this.context.unitSlots.hasDurationDemandEnabled())return[];var t=[new c.RegularTagSeq(this.context,this.auction,this.gptService,this.view)];return this.context.unitSlots.hasNobid()&&this.context.unitSlots.hasNobidMirror()&&(t.push(new r.NobidMirrorSeq(this.context,this.gptService,this.view)),"-1"==this.context.scriptConfig.siteId&&t.push(new u.NobidPostbidSeq(this.context,this.gptService,this.view,this.logger))),this.context.unitSlots.hasPublisherTag()&&t.push(new a.PublisherSeq(this.context,this.gptService,this.view)),t},t}();e.SequenceFactory=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherDirectSeq=void 0;var o=i(28),s=i(1),a=function(t){function e(e,i,n){var r=t.call(this,i,n,e.unitSlots.slotsMap.get(s.UnitSlots.PUB_DIRECT_DIV_ID),[])||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return s.UnitSlots.PUB_DIRECT_DIV_ID},e}(o.BasicSupportSeq);e.PublisherDirectSeq=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PublisherPrebidSeq=void 0;var n=i(68),r=i(62),o=i(66),s=i(91),a=i(1),c=function(){function t(t,e,i,n){this.c=t,this.gptService=e,this.view=i,this.log=n,this.currentSlot=t.unitSlots.slotsMap.get(a.UnitSlots.PUBLISHER_PREBID_ID),this.auction=new s.AuctionPublisherPrebid(t,e,n,new o.AuctionLogger(t,this.log))}return t.prototype.onEvent=function(t){return!t.isEmpty},t.prototype.clean=function(){this.currentSlot&&this.view.cleanSlot(this.currentSlot.gptDiv)},t.prototype.getId=function(){return a.UnitSlots.PUBLISHER_PREBID_ID},t.prototype.getSlot=function(){return this.currentSlot},t.prototype.hide=function(){this.currentSlot&&this.view.hideSlot(this.currentSlot.gptDiv)},t.prototype.invoke=function(){var t=this.getRootPublisherPrebid();if(t){this.log.debug("root pub prebid found");var e=this.c.wnd.pbjs;e&&(this.log.debug("pub prebid found"),e.que.push((function(){e.addAdUnits(n(t.adUnits))})),this.auction.getBids(this.getId(),e,t.adUnits))}},t.prototype.getRootPublisherPrebid=function(){var t=this.c.scriptConfig.publisherPrebidWrapper;switch(t){case r.PrebidWrapper.NONE:return this.c.rootWnd.pbjs;case r.PrebidWrapper.OPEN_WRAP:return this.c.rootWnd.owpbjs;default:throw new Error("Unknown Prebid wrapper "+t+" provided.")}},t.prototype.show=function(){this.view.showSlot(this.currentSlot.gptDiv)},t.prototype.hasMirror=function(){return!1},t}();e.PublisherPrebidSeq=c},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrebidAdUnit=e.AuctionPublisherPrebid=void 0;var n=i(68),r=i(7),o=i(1),s=function(){function t(t,e,i,n){this.c=t,this.gptService=e,this.log=i,this.auctionLogger=n,this.config=t.unitConfig}return t.prototype.getBids=function(t,e,i){var o=this,s=n(i);this.log.debug("pub prebid configuration: "+JSON.stringify(s));var a=s.find((function(t){return t.code===o.c.rootGptSlot.getAdUnitPath()||t.code===o.c.rootGptSlot.getSlotElementId()}));a.mediaTypes.banner.sizes=[[this.config.ad_width,this.config.ad_height]],a?(a.code=t,this.log.debug("pub prebid ad units: "+JSON.stringify(a)),this.log.event(r.LogEvent.UNIT_AD_REQUEST,r.LogEventContext.fromUnitContext(this.c)),e.que.push((function(){e.adUnits&&e.removeAdUnit(),e.addAdUnits(a);var t={userSync:{filterSettings:{all:{bidders:"*",filter:"include"}},syncsPerBidder:999,syncDelay:6e3},consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0},usp:{timeout:3e3,allowAuctionWithoutConsent:!0}}},i=o.c.wnd.parent.parent;try{"function"!=typeof i.__tcfapi&&(delete t.consentManagement.gdpr,o.log.debug("gdpr deleted: "+JSON.stringify(t)))}catch(e){o.log.error("catch: "+e),delete t.consentManagement.gdpr,o.log.debug("gdpr deleted: "+JSON.stringify(t))}return o.c.scriptConfig.sellerId&&(t.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"durationmedia.net",sid:o.c.scriptConfig.sellerId,hp:1}]}}),e.setConfig(t),e.requestBids({timeout:o.c.scriptConfig.bidTimeout,bidsBackHandler:function(t){o.bidsComplete(e,t)}})}))):this.log.debug("pub prebid configuration does not have matching size : "+this.config.ad_width+"x"+this.config.ad_height)},t.prototype.bidsComplete=function(t,e){this.log.debug("pub prebid bid responses: "+JSON.stringify(e));var i=this.c.unitSlots.slotsMap.get(o.UnitSlots.PUBLISHER_PREBID_ID),n=this.gptService.getSlot(i.gptDiv),r=this.gptService.getGoogletag();r.cmd.push((function(){return t.que.push((function(){return t.setTargetingForGPTAsync(),r.pubads().refresh([n])}))})),this.auctionLogger.logBidResponses(e)},t}();e.AuctionPublisherPrebid=s;var a=function(){};e.PrebidAdUnit=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.HashtagSeq=void 0;var o=i(28),s=i(1),a=function(t){function e(e,i,n){var r=t.call(this,i,n,e.unitSlots.slotsMap.get(s.UnitSlots.HASHTAG_DIV_ID),[])||this;return r.c=e,r}return r(e,t),e.prototype.getId=function(){return s.UnitSlots.HASHTAG_DIV_ID},e}(o.BasicSupportSeq);e.HashtagSeq=a},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,"")}with(obj){__p+="<!DOCTYPE html>\r\n<html lang='en'>\r\n<head>\r\n  <meta charset='utf-8'>\r\n  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>\r\n  <meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0'>\r\n</head>\r\n<body>\r\n<div class='dm-ad-content' id='dm-ad-content'>\r\n  <script async='async' src='"+(null==(__t=cdnUrl)?"":__t)+"/sites/"+(null==(__t=siteId)?"":__t)+"/prebid.js'><\/script>\r\n\r\n  \x3c!--  pubmatic identity hub integration - we do not load gpt unless pwt is loaded first--\x3e\r\n  <script type=\"text/javascript\">\r\n    var PWT = {};\r\n    PWT.jsLoaded = function() {\r\n      loadGPT();\r\n    };\r\n    var gptRan = false;\r\n\r\n    var loadGPT = function() {\r\n      // Check the gptRan flag\r\n      if (!gptRan) {\r\n        gptRan = true;\r\n        var gads = document.createElement('script');\r\n        gads.src = 'https://www.googletagservices.com/tag/js/gpt.js';\r\n        var node = document.getElementsByTagName('script')[0];\r\n        node.parentNode.insertBefore(gads, node);\r\n      }\r\n    };\r\n    // Failsafe to call gpt\r\n    setTimeout(loadGPT, 500);\r\n  <\/script>\r\n  <script type=\"text/javascript\">\r\n    (function() {\r\n      var purl = window.location.href;\r\n      var url = '//ads.pubmatic.com/AdServer/js/pwt/158024/2356';\r\n      var profileVersionId = '';\r\n      if(purl.indexOf('pwtv=')>0){\r\n        var regexp = /pwtv=(.*?)(&|$)/g;\r\n        var matches = regexp.exec(purl);\r\n        if(matches.length >= 2 && matches[1].length > 0){\r\n          profileVersionId = '/'+matches[1];\r\n        }\r\n      }\r\n      var wtads = document.createElement('script');\r\n      wtads.async = true;\r\n      wtads.type = 'text/javascript';\r\n      wtads.src = url+profileVersionId+'/pwt.js';\r\n      var node = document.getElementsByTagName('script')[0];\r\n      node.parentNode.insertBefore(wtads, node);\r\n    })();\r\n  <\/script>\r\n  ",confiantWrapperId&&(__p+="\r\n  <script async='' src='https://confiant-integrations.global.ssl.fastly.net/"+(null==(__t=confiantWrapperId)?"":__t)+"/gpt_and_prebid/config.js'><\/script>\r\n  "),__p+="\r\n  ";for(var i=0;i<slots.length;i++)__p+="\r\n  <div id='"+(null==(__t=slots[i].gptDiv)?"":__t)+"' style='height:"+(null==(__t=ad_height)?"":__t)+"px; width:"+(null==(__t=ad_width)?"":__t)+"px; position: absolute'>\r\n  </div>\r\n  ";__p+="\r\n</div>\r\n</body>\r\n</html>\r\n"}return __p}},function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="\r\nhtml, body {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  -webkit-overflow-scrolling: auto;\r\n}\r\n\r\nbody {\r\n  background: transparent;\r\n  margin: 0;\r\n}\r\n\r\n.dm-ad-content {\r\n  width: "+(null==(__t=ad_width)?"":__t)+"px;\r\n  height: "+(null==(__t=ad_height)?"":__t)+"px;\r\n  background: transparent;\r\n}\r\n";return __p}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnitContext=void 0;var n=function(){};e.UnitContext=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotService=void 0;var n=i(97),r=i(31),o=i(7),s=i(101),a=i(102),c=i(103),u=function(){function t(t,e,i,o,s){this.wnd=t,this.log=e,this.scriptConfig=i,this.slotDiscovery=o,this.server=s,this.slotsMap=new Map,this.listeners=[],this.slotDiscovery=o||new n.GptSlotDiscovery(this.wnd,e,i),this.server=s||new r.ServerService,this.sponsorshipCheckArr=new c.ArrayCallbackDelay(this.sponsorshipCheck.bind(this),3e3),this.slotDetectedArr=new c.ArrayCallbackDelay(this.notifyServerOnSlotDetection.bind(this),3e3)}return t.prototype.init=function(){this.slotDiscovery.addSlotDiscoveredListener(this.onSlotDetected.bind(this)),this.slotDiscovery.init()},t.prototype.onSlotDetected=function(t){var e=!this.slotsMap.has(t.elementId),i=t.size,n=t.lid,r=t.elementId;if(e){this.log.event(o.LogEvent.SLOT_DETECTED,{slotId:r,siteId:this.scriptConfig.siteId,lid:n,adWidth:i.width,adHeight:i.height}),this.slotDetectedArr.add(r);var a=s.SlotDetails.from(r,i,n,t.adUnitPath,t.slot);this.slotsMap.set(r,a),null!=n?this.sponsorshipCheckArr.add(r):this.log.debug(r+" slot detected - lid null - sponsorship check delayed")}else{this.log.debug(r+" second pass"),((a=this.slotsMap.get(t.elementId)).size.width!=i.width||a.size.height!=i.height)&&(this.log.debug(r+" second pass - size diff old="+JSON.stringify(a.size)+" new="+JSON.stringify(i)+" "),a.size=i),a.lid!=n&&n&&(this.log.debug(r+" second pass - lid diff old="+a.lid+" new="+n),a.lid=n),null==n||a.serverResponse||a.serverResponsePending||(this.log.enabled&&-1===this.sponsorshipCheckArr.items.indexOf(r)&&this.log.debug("second pass - sponsorship check - "+r),this.sponsorshipCheckArr.add(r))}},t.prototype.notifyServerOnSlotDetection=function(t){this.server.logBulk(this.scriptConfig.siteId,r.ScriptLogType.SD,t.length)},t.prototype.sponsorshipCheck=function(t){var e=this;if(t.length){this.log.event(o.LogEvent.SLOT_SPONSORSHIP_CHECK,{},"["+t.join(",")+"]"),t.forEach((function(t){return e.slotsMap.get(t).serverResponsePending=!0}));var i=t.map((function(t){return a.SponsorshipRequest.fromSlotDetails(e.slotsMap.get(t),e.scriptConfig.siteId)}));this.server.checkSlots({sponsorships:i}).then((function(t){e.onSponsorshipCheckReceived(t)}))}},t.prototype.onSponsorshipCheckReceived=function(t){var e=this;t.sponsorships.forEach((function(t){var i=e.slotsMap.get(t.slotId);if(i.serverResponse=t,i.serverResponsePending=!1,!t.sponsorship&&t.adUnitId){var n=o.LogEventContext.fromSlotDetails(i);n.siteId=e.scriptConfig.siteId,e.log.event(o.LogEvent.SLOT_OVERTAKE_ELIGIBLE,n),e.listeners.forEach((function(t){return t(i)}))}else t.sponsorship?e.log.event(o.LogEvent.SLOT_OVERTAKE_FAILED_SPONSORED,o.LogEventContext.fromSlotDetails(i)):e.log.event(o.LogEvent.SLOT_OVERTAKE_FAILED_NO_UNIT,o.LogEventContext.fromSlotDetails(i))}),(function(t){e.log.event(o.LogEvent.SERVER_ERROR),e.log.error("server responded by "+t)}))},t.prototype.addSlotReadyToOvertakeListener=function(t){this.listeners.push(t)},t}();e.SlotService=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptSlotDiscovery=void 0;var n=i(98),r=i(99),o=function(){function t(t,e,i){this.wnd=t,this.log=e,this.scriptConfig=i,this.listeners=[],t.googletag||(t.googletag=Object.assign({},{cmd:[]})),this.googletag=t.googletag}return t.prototype.init=function(){var t=this;this.googletag.cmd.push((function(){var e=t.googletag.pubads();e.addEventListener("slotRenderEnded",(function(e){t.log.debug("slotRenderEnded: "+e.slot.getSlotElementId()+" lid="+e.sourceAgnosticLineItemId),t.registerSlot(e.slot,r.GptSlotUtils.getEventSize(e,t.wnd),e.sourceAgnosticLineItemId)})),e.addEventListener("impressionViewable",(function(e){var i=e.slot.getResponseInformation(),n=i?i.lineItemId:null;n||(n=0,t.log.debug("impressionViewable "+e.slot.getSlotElementId()+" lid == null, changing to 0")),t.log.debug("impressionViewable: "+e.slot.getSlotElementId()+" lid="+n);var o=r.GptSlotUtils.getInsideIframeSize(e.slot.getSlotElementId(),t.wnd);t.log.debug(e.slot.getSlotElementId()+" impressionViewable iframe size "+JSON.stringify(o)),t.registerSlot(e.slot,o,n)})),t.detectCurrentSlots()}))},t.prototype.detectCurrentSlots=function(){var t=this,e=this.googletag.pubads().getSlots();e&&e.forEach((function(e){var i=e.getResponseInformation()?e.getResponseInformation().lineItemId:null;!i&&e.getResponseInformation()&&(t.log.debug(e.getSlotElementId()+" lid null but response received, setting lid to 0"),i=0);var n=r.GptSlotUtils.getInsideIframeSize(e.getSlotElementId(),t.wnd);n?t.log.debug(e.getSlotElementId()+" direct inside iframe size "+JSON.stringify(n)):(n=r.GptSlotUtils.getFirstSizeFromSlot(e,t.log),t.log.debug(e.getSlotElementId()+" direct slot registered "+JSON.stringify(n))),n?t.registerSlot(e,n,i):t.log.debug(e.getSlotElementId()+" direct ignoring slot, size is null")}))},t.prototype.addSlotDiscoveredListener=function(t){this.listeners.push(t)},t.prototype.registerSlot=function(t,e,i){if(null!=e&&e.width&&e.height)if(r.GptSlotUtils.normalizeSize(e),r.GptSlotUtils.isSizeSupported(e.width,e.height)){var o=t.getSlotElementId();!this.wnd.document||this.wnd.document.getElementById(o)?this.listeners.forEach((function(r){var s=new n.SlotDetected;s.elementId=o,s.size=e,s.slot=t,s.lid=i,s.adUnitPath=t.getAdUnitPath(),r(s)})):this.log.debug(t.getSlotElementId()+" ignoring slot because it does not exists in the DOM")}else this.log.debug(t.getSlotElementId()+" Ignoring non standard size "+e.width+"x"+e.height);else this.log.debug(t.getSlotElementId()+" Ignoring size is "+e+", trying next: "+JSON.stringify(r.GptSlotUtils.getFirstSizeFromSlot(t,this.log)))},t}();e.GptSlotDiscovery=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotDetected=void 0;var n=function(){};e.SlotDetected=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GptSlotUtils=void 0;var n=i(100),r=function(){function t(){}return t.isSizeSupported=function(e,i){return t.standardSizeSet.filter((function(t){return t[0]===e&&t[1]===i})).length>0},t.getEventSize=function(t,e){var i=t.size;if(null!=i&&0!=i.length)return new n.Size(parseInt(i[0]+""),parseInt(i[1]+""));var r=this.getInsideIframeSize(t.slot.getSlotElementId(),e);return r||void 0},t.getFirstSizeFromSlot=function(t,e){var i=t.getSizes()&&t.getSizes().length?t.getSizes()[0]:null;return e.debug("getFirstSizeFromSlot: "+t.getSlotElementId()+" sizes:"+JSON.stringify(t.getSizes())+" picking first one: "+JSON.stringify(i)),i&&i.l&&i.j?{width:i.l,height:i.j}:null},t.getInsideIframeSize=function(t,e){try{for(var i=e.document.getElementById(t),r=0;r<i.children.length;r++){var o=i.children.item(r);if(o.id&&o.id.includes("google_ads_iframe_")){var s=o.firstChild;if(s.width&&s.height){var a=parseInt(s.width,10),c=parseInt(s.height,10);return new n.Size(a,c)}}}}catch(t){}return null},t.normalizeSize=function(t){728===t.width&&[91,92,93].includes(t.height)&&(t.height=90),970===t.width&&[251,252,253].includes(t.height)&&(t.height=250),300===t.width&&[251,252,253].includes(t.height)&&(t.height=250),300===t.width&&[601,602,603].includes(t.height)&&(t.height=600)},t.standardSizeSet=[[120,60],[120,600],[300,250],[300,600],[160,600],[728,90],[300,50],[320,100],[320,50],[320,100],[970,50],[970,250],[970,90],[970,66]],t}();e.GptSlotUtils=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Size=void 0;var n=function(t,e){this.width=t,this.height=e};e.Size=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlotDetails=void 0;var n=function(){function t(){}return t.from=function(e,i,n,r,o){var s=new t;return s.elementId=e,s.size=i,s.lid=n,s.adUnitPath=r,s.slot=o,s.registeredOnTimestamp=(new Date).getTime(),s},t}();e.SlotDetails=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HashtagResponse=e.ScriptLoadedResponse=e.MultiUnitSponsorshipResponse=e.MultiUnitSponsorshipRequest=e.SponsorshipRequest=e.SponsorshipResponse=void 0;var n=function(){};e.SponsorshipResponse=n;var r=function(){function t(){}return t.fromSlotDetails=function(t,e){return{width:t.size.width,height:t.size.height,siteId:e,lineItemId:t.lid,slotId:t.elementId,slotPath:t.adUnitPath}},t}();e.SponsorshipRequest=r;var o=function(){};e.MultiUnitSponsorshipRequest=o;var s=function(){};e.MultiUnitSponsorshipResponse=s;var a=function(){};e.ScriptLoadedResponse=a;var c=function(){};e.HashtagResponse=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayCallbackDelay=void 0;var n=function(){function t(t,e){void 0===e&&(e=3e3),this.timeoutMs=e,this._items=[],this.callback=t}return t.prototype.add=function(t){-1===this._items.indexOf(t)&&this._items.push(t),this.checkTimeout()},t.prototype.checkTimeout=function(){var t=this;this._items.length&&(this.timeout?this.timeoutFired&&this.sendItems():this.timeout=setTimeout((function(){t.timeoutFired=!0,t.sendItems()}),this.timeoutMs))},t.prototype.sendItems=function(){this.callback(this._items),this._items=[]},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!1,configurable:!0}),t}();e.ArrayCallbackDelay=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUtils=void 0;var n=function(){function t(){}return t.removeAllChildrenFrom=function(t){t.childNodes.forEach((function(e){return t.removeChild(e)}))},t}();e.ViewUtils=n}]);