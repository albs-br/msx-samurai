/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(function(){return(()=>{var t={9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function u(t,n,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(t)?s?c.arrayMerge(t,n,c):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,c):r(n,c)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var c=u;t.exports=c},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),u=n(1866);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:(t,e,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),u=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),u=n(5265);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),o=n(619),i=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),u=n(4758),c=n(4309);function s(t){var e=this.__data__=new r(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=u,s.prototype.set=c,t.exports=s},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(4144),u=n(5776),c=n(6719),s=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&c(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!s.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||h.push(y);return h}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),o=n(3674);t.exports=function(t,e){return t&&r(e,o(e),t)}},3886:(t,e,n)=>{var r=n(8363),o=n(1704);t.exports=function(t,e){return t&&r(e,o(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),o=n(7412),i=n(4865),a=n(4037),u=n(3886),c=n(4626),s=n(278),l=n(8805),f=n(1911),p=n(8234),d=n(6904),h=n(4160),v=n(3824),y=n(9148),b=n(8517),g=n(1469),w=n(4144),m=n(6688),_=n(3218),S=n(2928),x=n(3674),O=n(1704),j="[object Arguments]",E="[object Function]",k="[object Object]",A={};A[j]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[k]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[E]=A["[object WeakMap]"]=!1,t.exports=function t(e,n,I,P,T,D){var C,R=1&n,N=2&n,L=4&n;if(I&&(C=T?I(e,P,T,D):I(e)),void 0!==C)return C;if(!_(e))return e;var B=g(e);if(B){if(C=v(e),!R)return s(e,C)}else{var z=h(e),F=z==E||"[object GeneratorFunction]"==z;if(w(e))return c(e,R);if(z==k||z==j||F&&!T){if(C=N||F?{}:b(e),!R)return N?f(e,u(C,e)):l(e,a(C,e))}else{if(!A[z])return T?e:{};C=y(e,z,R)}}D||(D=new r);var M=D.get(e);if(M)return M;D.set(e,C),S(e)?e.forEach((function(r){C.add(t(r,n,I,r,e,D))})):m(e)&&e.forEach((function(r,o){C.set(o,t(r,n,I,o,e,D))}));var U=B?void 0:(L?N?d:p:N?O:x)(e);return o(U||e,(function(r,o){U&&(r=e[o=r]),i(C,o,t(r,n,I,o,e,D))})),C}},3118:(t,e,n)=>{var r=n(3218),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},1848:t=>{t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,n)=>{var r=n(2488),o=n(7285);t.exports=function t(e,n,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,u):r(u,l):a||(u[u.length]=l)}return u}},7786:(t,e,n)=>{var r=n(1811),o=n(327);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},8866:(t,e,n)=>{var r=n(2488),o=n(1469);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},4239:(t,e,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,n)=>{var r=n(1848),o=n(2722),i=n(2351);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},9454:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),o=n(7005);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},2492:(t,e,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),u=n(4160),c=n(1469),s=n(4144),l=n(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,v,y,b){var g=c(t),w=c(e),m=g?p:u(t),_=w?p:u(e),S=(m=m==f?d:m)==d,x=(_=_==f?d:_)==d,O=m==_;if(O&&s(t)){if(!s(e))return!1;g=!0,S=!1}if(O&&!S)return b||(b=new r),g||l(t)?o(t,e,n,v,y,b):i(t,e,m,n,v,y,b);if(!(1&n)){var j=S&&h.call(t,"__wrapped__"),E=x&&h.call(e,"__wrapped__");if(j||E){var k=j?t.value():t,A=E?e.value():e;return b||(b=new r),y(k,A,n,v,b)}}return!!O&&(b||(b=new r),a(t,e,n,v,y,b))}},5588:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),o=n(939);t.exports=function(t,e,n,i){var a=n.length,u=a,c=!i;if(null==t)return!u;for(t=Object(t);a--;){var s=n[a];if(c&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<u;){var l=(s=n[a])[0],f=t[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in t))return!1}else{var d=new r;if(i)var h=i(f,p,l,t,e,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),o=n(7005);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),o=n(6432),i=n(6557),a=n(1469),u=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},280:(t,e,n)=>{var r=n(5726),o=n(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),o=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},1573:(t,e,n)=>{var r=n(2958),o=n(1499),i=n(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),o=n(7361),i=n(9095),a=n(5403),u=n(9162),c=n(2634),s=n(327);t.exports=function(t,e){return a(t)&&u(e)?c(s(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},9877:t=>{var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},6560:(t,e,n)=>{var r=n(5703),o=n(8777),i=n(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,n)=>{var r=n(8668),o=n(7443),i=n(1196),a=n(4757),u=n(3593),c=n(1814);t.exports=function(t,e,n){var s=-1,l=o,f=t.length,p=!0,d=[],h=d;if(n)p=!1,l=i;else if(f>=200){var v=e?null:u(t);if(v)return c(v);p=!1,l=a,h=new r}else h=e?[]:d;t:for(;++s<f;){var y=t[s],b=e?e(y):y;if(y=n||0!==y?y:0,p&&b==b){for(var g=h.length;g--;)if(h[g]===b)continue t;e&&h.push(b),d.push(y)}else l(h,b,n)||(h!==d&&h.push(b),d.push(y))}return d}},7406:(t,e,n)=>{var r=n(1811),o=n(928),i=n(292),a=n(327);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),o=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,c=e.length;++u<c;){var s=e[u],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),a?o(n,s,l):r(n,s,l)}return n}},8805:(t,e,n)=>{var r=n(8363),o=n(9551);t.exports=function(t,e){return r(t,o(t),e)}},1911:(t,e,n)=>{var r=n(8363),o=n(1442);t.exports=function(t,e){return r(t,o(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},3593:(t,e,n)=>{var r=n(8525),o=n(308),i=n(1814),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},696:(t,e,n)=>{var r=n(8630);t.exports=function(t){return r(t)?void 0:t}},8777:(t,e,n)=>{var r=n(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,n)=>{var r=n(8668),o=n(2908),i=n(4757);t.exports=function(t,e,n,a,u,c){var s=1&n,l=t.length,f=e.length;if(l!=f&&!(s&&f>l))return!1;var p=c.get(t),d=c.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++h<l;){var b=t[h],g=e[h];if(a)var w=s?a(g,b,h,e,t,c):a(b,g,h,t,e,c);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(b===t||u(b,t,n,a,c)))return y.push(e)}))){v=!1;break}}else if(b!==g&&!u(b,g,n,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},8351:(t,e,n)=>{var r=n(2705),o=n(1149),i=n(7813),a=n(7114),u=n(8776),c=n(1814),s=r?r.prototype:void 0,l=s?s.valueOf:void 0;t.exports=function(t,e,n,r,s,f,p){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var h=1&r;if(d||(d=c),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;r|=2,p.set(t,e);var y=a(d(t),d(e),r,s,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var c=1&n,s=r(t),l=s.length;if(l!=r(e).length&&!c)return!1;for(var f=l;f--;){var p=s[f];if(!(c?p in e:o.call(e,p)))return!1}var d=u.get(t),h=u.get(e);if(d&&h)return d==e&&h==t;var v=!0;u.set(t,e),u.set(e,t);for(var y=c;++f<l;){var b=t[p=s[f]],g=e[p];if(i)var w=c?i(g,b,p,e,t,u):i(b,g,p,t,e,u);if(!(void 0===w?b===g||a(b,g,n,i,u):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(v=!1)}return u.delete(t),u.delete(e),v}},9021:(t,e,n)=>{var r=n(5564),o=n(5357),i=n(61);t.exports=function(t){return i(o(t,void 0,r),t+"")}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),o=n(9551),i=n(3674);t.exports=function(t){return r(t,i,o)}},6904:(t,e,n)=>{var r=n(8866),o=n(1442),i=n(1704);t.exports=function(t){return r(t,i,o)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),o=n(3674);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),o=n(7801);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},9551:(t,e,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},1442:(t,e,n)=>{var r=n(2488),o=n(5924),i=n(9551),a=n(479),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},4160:(t,e,n)=>{var r=n(8552),o=n(7071),i=n(3818),a=n(8525),u=n(577),c=n(4239),s=n(346),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=s(r),y=s(o),b=s(i),g=s(a),w=s(u),m=c;(r&&m(new r(new ArrayBuffer(1)))!=h||o&&m(new o)!=l||i&&m(i.resolve())!=f||a&&m(new a)!=p||u&&m(new u)!=d)&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?s(n):"";if(r)switch(r){case v:return h;case y:return l;case b:return f;case g:return p;case w:return d}return e}),t.exports=m},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),o=n(5694),i=n(1469),a=n(5776),u=n(1780),c=n(327);t.exports=function(t,e,n){for(var s=-1,l=(e=r(e,t)).length,f=!1;++s<l;){var p=c(e[s]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++s!=l?f:!!(l=null==t?0:t.length)&&u(l)&&a(p,l)&&(i(t)||o(t))}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),o=n(7157),i=n(3147),a=n(419),u=n(7133);t.exports=function(t,e,n){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),o=n(5924),i=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},7285:(t,e,n)=>{var r=n(2705),o=n(5694),i=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),o=n(8612),i=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),o=n(8407),i=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=n(c),r(t,this,s)}}},292:(t,e,n)=>{var r=n(7786),o=n(4259);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},5639:(t,e,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),o=n(1275)(r);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),o=n(7071),i=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},5514:(t,e,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},9095:(t,e,n)=>{var r=n(13),o=n(222);t.exports=function(t,e){return null!=t&&o(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),o=n(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),o=n(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},1609:(t,e,n)=>{var r=n(280),o=n(4160),i=n(5694),a=n(1469),u=n(8612),c=n(4144),s=n(5726),l=n(6719),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(s(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},8446:(t,e,n)=>{var r=n(939);t.exports=function(t,e){return r(t,e)}},3560:(t,e,n)=>{var r=n(4239),o=n(3218);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),o=n(1717),i=n(1167),a=i&&i.isMap,u=a?o(a):r;t.exports=u},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,u=Object.prototype,c=a.toString,s=u.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},2928:(t,e,n)=>{var r=n(9221),o=n(1717),i=n(1167),a=i&&i.isSet,u=a?o(a):r;t.exports=u},3448:(t,e,n)=>{var r=n(4239),o=n(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),o=n(1717),i=n(1167),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},3674:(t,e,n)=>{var r=n(4636),o=n(280),i=n(8612);t.exports=function(t){return i(t)?r(t):o(t)}},1704:(t,e,n)=>{var r=n(4636),o=n(313),i=n(8612);t.exports=function(t){return i(t)?r(t,!0):o(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:(t,e,n)=>{var r=n(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},308:t=>{t.exports=function(){}},7557:(t,e,n)=>{var r=n(9932),o=n(5990),i=n(7406),a=n(1811),u=n(8363),c=n(696),s=n(9021),l=n(6904),f=s((function(t,e){var n={};if(null==t)return n;var s=!1;e=r(e,(function(e){return e=a(e,t),s||(s=e.length>1),e})),u(t,l(t),n),s&&(n=o(n,7,c));for(var f=e.length;f--;)i(n,e[f]);return n}));t.exports=f},9601:(t,e,n)=>{var r=n(371),o=n(9152),i=n(5403),a=n(327);t.exports=function(t){return i(t)?r(a(t)):o(t)}},3608:(t,e,n)=>{var r=n(9877),o=n(6612),i=n(8601),a=parseFloat,u=Math.min,c=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var s=t;t=e,e=s}if(n||t%1||e%1){var l=c();return u(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return r(t,e)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},9579:(t,e,n)=>{var r=n(4259),o=n(554);t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,(e=i-e)<0?0:e,i)):[]}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?Infinity===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),o=n(3218),i=n(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||c.test(t)?s(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},4908:(t,e,n)=>{var r=n(5652);t.exports=function(t){return t&&t.length?r(t):[]}},5578:(t,e,n)=>{var r=n(7206),o=n(5652);t.exports=function(t,e){return t&&t.length?o(t,r(e,2)):[]}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r={};return(()=>{"use strict";n.r(r),n.d(r,{ACTION:()=>Yl,addAction:()=>ef,addActiveDataAction:()=>tf,addInteraction:()=>af,default:()=>hf,getActions:()=>nf,getAllActions:()=>rf,getContext:()=>df,getGalactusUserProfile:()=>pf,getUserProfile:()=>of,getVersionHash:()=>ff,isCrossdomainDisabled:()=>cf,isCrossdomainFinished:()=>uf,isInitialized:()=>sf,isReady:()=>lf,registerClient:()=>Zl,trackPageview:()=>Ql});const t=function(t,e){return t===e||t!=t&&e!=e},e=function(e,n){for(var r=e.length;r--;)if(t(e[r][0],n))return r;return-1};var o=Array.prototype.splice;function i(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}i.prototype.clear=function(){this.__data__=[],this.size=0},i.prototype.delete=function(t){var n=this.__data__,r=e(n,t);return!(r<0||(r==n.length-1?n.pop():o.call(n,r,1),--this.size,0))},i.prototype.get=function(t){var n=this.__data__,r=e(n,t);return r<0?void 0:n[r][1]},i.prototype.has=function(t){return e(this.__data__,t)>-1},i.prototype.set=function(t,n){var r=this.__data__,o=e(r,t);return o<0?(++this.size,r.push([t,n])):r[o][1]=n,this};const a=i,u="object"==typeof global&&global&&global.Object===Object&&global;var c="object"==typeof self&&self&&self.Object===Object&&self;const s=u||c||Function("return this")(),l=s.Symbol;var f=Object.prototype,p=f.hasOwnProperty,d=f.toString,h=l?l.toStringTag:void 0;var v=Object.prototype.toString;var y=l?l.toStringTag:void 0;const b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":y&&y in Object(t)?function(t){var e=p.call(t,h),n=t[h];try{t[h]=void 0;var r=!0}catch(t){}var o=d.call(t);return r&&(e?t[h]=n:delete t[h]),o}(t):function(t){return v.call(t)}(t)},g=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},w=function(t){if(!g(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},m=s["__core-js_shared__"];var _,S=(_=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"";var x=Function.prototype.toString;const O=function(t){if(null!=t){try{return x.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var j=/^\[object .+?Constructor\]$/,E=Function.prototype,k=Object.prototype,A=E.toString,I=k.hasOwnProperty,P=RegExp("^"+A.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const T=function(t){return!(!g(t)||(e=t,S&&S in e))&&(w(t)?P:j).test(O(t));var e},D=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return T(n)?n:void 0},C=D(s,"Map"),R=D(Object,"create");var N=Object.prototype.hasOwnProperty;var L=Object.prototype.hasOwnProperty;function B(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}B.prototype.clear=function(){this.__data__=R?R(null):{},this.size=0},B.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},B.prototype.get=function(t){var e=this.__data__;if(R){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return N.call(e,t)?e[t]:void 0},B.prototype.has=function(t){var e=this.__data__;return R?void 0!==e[t]:L.call(e,t)},B.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=R&&void 0===e?"__lodash_hash_undefined__":e,this};const z=B,F=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function M(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}M.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(C||a),string:new z}},M.prototype.delete=function(t){var e=F(this,t).delete(t);return this.size-=e?1:0,e},M.prototype.get=function(t){return F(this,t).get(t)},M.prototype.has=function(t){return F(this,t).has(t)},M.prototype.set=function(t,e){var n=F(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};const U=M;function V(t){var e=this.__data__=new a(t);this.size=e.size}V.prototype.clear=function(){this.__data__=new a,this.size=0},V.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},V.prototype.get=function(t){return this.__data__.get(t)},V.prototype.has=function(t){return this.__data__.has(t)},V.prototype.set=function(t,e){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!C||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new U(r)}return n.set(t,e),this.size=n.size,this};const W=V;function H(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new U;++e<n;)this.add(t[e])}H.prototype.add=H.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},H.prototype.has=function(t){return this.__data__.has(t)};const G=H,J=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},$=function(t,e){return t.has(e)},q=function(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=2&n?new G:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h=t[f],v=e[f];if(r)var y=a?r(v,h,f,e,t,i):r(h,v,f,t,e,i);if(void 0!==y){if(y)continue;p=!1;break}if(d){if(!J(e,(function(t,e){if(!$(d,e)&&(h===t||o(h,t,n,r,i)))return d.push(e)}))){p=!1;break}}else if(h!==v&&!o(h,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p},K=s.Uint8Array,X=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},Y=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n};var Q=l?l.prototype:void 0,Z=Q?Q.valueOf:void 0;const tt=Array.isArray;var et=Object.prototype.propertyIsEnumerable,nt=Object.getOwnPropertySymbols;const rt=nt?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}(nt(t),(function(e){return et.call(t,e)})))}:function(){return[]},ot=function(t){return null!=t&&"object"==typeof t},it=function(t){return ot(t)&&"[object Arguments]"==b(t)};var at=Object.prototype,ut=at.hasOwnProperty,ct=at.propertyIsEnumerable,st=it(function(){return arguments}())?it:function(t){return ot(t)&&ut.call(t,"callee")&&!ct.call(t,"callee")};const lt=st;var ft="object"==typeof exports&&exports&&!exports.nodeType&&exports,pt=ft&&"object"==typeof module&&module&&!module.nodeType&&module,dt=pt&&pt.exports===ft?s.Buffer:void 0;const ht=(dt?dt.isBuffer:void 0)||function(){return!1};var vt=/^(?:0|[1-9]\d*)$/;const yt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e},bt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var gt={};gt["[object Float32Array]"]=gt["[object Float64Array]"]=gt["[object Int8Array]"]=gt["[object Int16Array]"]=gt["[object Int32Array]"]=gt["[object Uint8Array]"]=gt["[object Uint8ClampedArray]"]=gt["[object Uint16Array]"]=gt["[object Uint32Array]"]=!0,gt["[object Arguments]"]=gt["[object Array]"]=gt["[object ArrayBuffer]"]=gt["[object Boolean]"]=gt["[object DataView]"]=gt["[object Date]"]=gt["[object Error]"]=gt["[object Function]"]=gt["[object Map]"]=gt["[object Number]"]=gt["[object Object]"]=gt["[object RegExp]"]=gt["[object Set]"]=gt["[object String]"]=gt["[object WeakMap]"]=!1;var wt="object"==typeof exports&&exports&&!exports.nodeType&&exports,mt=wt&&"object"==typeof module&&module&&!module.nodeType&&module,_t=mt&&mt.exports===wt&&u.process,St=function(){try{return mt&&mt.require&&mt.require("util").types||_t&&_t.binding&&_t.binding("util")}catch(t){}}(),xt=St&&St.isTypedArray;const Ot=xt?(jt=xt,function(t){return jt(t)}):function(t){return ot(t)&&bt(t.length)&&!!gt[b(t)]};var jt,Et=Object.prototype.hasOwnProperty;const kt=function(t,e){var n=tt(t),r=!n&&lt(t),o=!n&&!r&&ht(t),i=!n&&!r&&!o&&Ot(t),a=n||r||o||i,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=u.length;for(var s in t)!e&&!Et.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||yt(s,c))||u.push(s);return u};var At=Object.prototype;const It=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object);var Pt=Object.prototype.hasOwnProperty;const Tt=function(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||At))return It(t);var e,n,r=[];for(var o in Object(t))Pt.call(t,o)&&"constructor"!=o&&r.push(o);return r},Dt=function(t){return null!=(e=t)&&bt(e.length)&&!w(e)?kt(t):Tt(t);var e},Ct=function(t){return function(t,e,n){var r=e(t);return tt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,Dt,rt)};var Rt=Object.prototype.hasOwnProperty;const Nt=D(s,"DataView"),Lt=D(s,"Promise"),Bt=D(s,"Set"),zt=D(s,"WeakMap");var Ft="[object Map]",Mt="[object Promise]",Ut="[object Set]",Vt="[object WeakMap]",Wt="[object DataView]",Ht=O(Nt),Gt=O(C),Jt=O(Lt),$t=O(Bt),qt=O(zt),Kt=b;(Nt&&Kt(new Nt(new ArrayBuffer(1)))!=Wt||C&&Kt(new C)!=Ft||Lt&&Kt(Lt.resolve())!=Mt||Bt&&Kt(new Bt)!=Ut||zt&&Kt(new zt)!=Vt)&&(Kt=function(t){var e=b(t),n="[object Object]"==e?t.constructor:void 0,r=n?O(n):"";if(r)switch(r){case Ht:return Wt;case Gt:return Ft;case Jt:return Mt;case $t:return Ut;case qt:return Vt}return e});const Xt=Kt;var Yt="[object Arguments]",Qt="[object Array]",Zt="[object Object]",te=Object.prototype.hasOwnProperty;const ee=function(e,n,r,o,i,a){var u=tt(e),c=tt(n),s=u?Qt:Xt(e),l=c?Qt:Xt(n),f=(s=s==Yt?Zt:s)==Zt,p=(l=l==Yt?Zt:l)==Zt,d=s==l;if(d&&ht(e)){if(!ht(n))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new W),u||Ot(e)?q(e,n,r,o,i,a):function(e,n,r,o,i,a,u){switch(r){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=n.byteLength||!a(new K(e),new K(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return t(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var c=X;case"[object Set]":var s=1&o;if(c||(c=Y),e.size!=n.size&&!s)return!1;var l=u.get(e);if(l)return l==n;o|=2,u.set(e,n);var f=q(c(e),c(n),o,i,a,u);return u.delete(e),f;case"[object Symbol]":if(Z)return Z.call(e)==Z.call(n)}return!1}(e,n,s,r,o,i,a);if(!(1&r)){var h=f&&te.call(e,"__wrapped__"),v=p&&te.call(n,"__wrapped__");if(h||v){var y=h?e.value():e,b=v?n.value():n;return a||(a=new W),i(y,b,r,o,a)}}return!!d&&(a||(a=new W),function(t,e,n,r,o,i){var a=1&n,u=Ct(t),c=u.length;if(c!=Ct(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Rt.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){var v=t[l=u[s]],y=e[l];if(r)var b=a?r(y,v,l,e,t,i):r(v,y,l,t,e,i);if(!(void 0===b?v===y||o(v,y,n,r,i):b)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=t.constructor,w=e.constructor;g==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w||(d=!1)}return i.delete(t),i.delete(e),d}(e,n,r,o,i,a))},ne=function t(e,n,r,o,i){return e===n||(null==e||null==n||!ot(e)&&!ot(n)?e!=e&&n!=n:ee(e,n,r,o,t,i))},re=function(t){return t==t&&!g(t)},oe=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},ie=function(t){var e=function(t){for(var e=Dt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,re(o)]}return e}(t);return 1==e.length&&e[0][2]?oe(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new W;if(r)var p=r(s,l,c,t,e,f);if(!(void 0===p?ne(l,s,3,r,f):p))return!1}}return!0}(n,t,e)}},ae=function(t){return"symbol"==typeof t||ot(t)&&"[object Symbol]"==b(t)};var ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/;const se=function(t,e){if(tt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ae(t))||ce.test(t)||!ue.test(t)||null!=e&&t in Object(e)};function le(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(le.Cache||U),n}le.Cache=U;var fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pe=/\\(\\)?/g;const de=(he=le((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(fe,(function(t,n,r,o){e.push(r?o.replace(pe,"$1"):n||t)})),e}),(function(t){return 500===ve.size&&ve.clear(),t})),ve=he.cache,he);var he,ve;var ye=l?l.prototype:void 0,be=ye?ye.toString:void 0;const ge=function t(e){if("string"==typeof e)return e;if(tt(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,t)+"";if(ae(e))return be?be.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},we=function(t,e){return tt(t)?t:se(t,e)?[t]:de(function(t){return null==t?"":ge(t)}(t))},me=function(t){if("string"==typeof t||ae(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},_e=function(t,e){for(var n=0,r=(e=we(e,t)).length;null!=t&&n<r;)t=t[me(e[n++])];return n&&n==r?t:void 0},Se=function(t,e){return null!=t&&e in Object(t)},xe=function(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=we(e,t)).length,i=!1;++r<o;){var a=me(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&bt(o)&&yt(a,o)&&(tt(t)||lt(t))}(t,e,Se)},Oe=function(t,e){return se(t)&&re(e)?oe(me(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:_e(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?xe(n,t):ne(e,r,3)}},je=function(t){return t},Ee=function(t){return se(t)?(e=me(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return _e(e,t)}}(t);var e},ke=function(t){return t!=t},Ae=function(t,e){return!(null==t||!t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,ke,n)}(t,e,0)>-1},Ie=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1},Pe=Bt&&1/Y(new Bt([,-0]))[1]==1/0?function(t){return new Bt(t)}:function(){},Te=function(t,e){return t&&t.length?function(t,e,n){var r=-1,o=Ae,i=t.length,a=!0,u=[],c=u;if(n)a=!1,o=Ie;else if(i>=200){var s=e?null:Pe(t);if(s)return Y(s);a=!1,o=$,c=new G}else c=e?[]:u;t:for(;++r<i;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),u.push(l)}else o(c,f,n)||(c!==u&&c.push(f),u.push(l))}return u}(t,"function"==typeof(n=e)?n:null==n?je:"object"==typeof n?tt(n)?Oe(n[0],n[1]):ie(n):Ee(n)):[];var n};function De(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Ce(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){De(i,r,o,a,u,"next",t)}function u(t){De(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ne(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Le,Be,ze=function(t,e){return function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={};function y(){}function b(){}function g(){}var w={};c(w,i,(function(){return this}));var m=Object.getPrototypeOf,_=m&&m(m(I([])));_&&_!==n&&r.call(_,i)&&(w=_);var S=g.prototype=y.prototype=Object.create(w);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,i,a,u){var c=l(t[o],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function j(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return b.prototype=g,c(S,"constructor",g),c(g,"constructor",b),b.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},x(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(S),c(S,u,"Generator"),c(S,i,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(e={exports:{}}),e.exports}(),Fe=function(){function t(){this.id=t.UNKNOWN_USER,this.language=void 0}var e=t.prototype;return e.reset=function(){this.id=t.UNKNOWN_USER,this.language=void 0},t.getDefault=function(){return new t},t.getAnon=function(){var e=new t;return e.id=t.ANON_USER,e},e.apply=function(e){return e instanceof t&&(this.id=e.id,null!=e&&e.language&&(this.language=e.language)),this},t.fromContext=function(e){return t.getDefault().apply(e)},t.fromTransport=function(e){var n=t.getDefault();if("object"==typeof e&&null!=e&&e.id){var r=e.id;"number"==typeof r?n.id=r:"string"==typeof r&&(n.id=parseInt(r,10)),n.language=null==e?void 0:e.lang}return n},t.fromWindow=function(){var e=window;return null!=e&&e._ulc&&"object"==typeof e._ulc?t.fromTransport(e._ulc):t.getDefault()},e.toTransport=function(){return{id:this.id,lang:this.language}},e.toString=function(){return JSON.stringify(this.toTransport())},e.updateWindow=function(){window._ulc=this.toTransport()},e.toScript=function(){return"window._ulc = "+this.toString()+";"},Ne(t,[{key:"lang",get:function(){return null==this?void 0:this.language}},{key:"isUnknown",get:function(){return this.id===t.UNKNOWN_USER}},{key:"isAnon",get:function(){return this.isUnknown||this.id===t.ANON_USER}},{key:"anon",get:function(){return this.isAnon}}]),t}();Fe.UNKNOWN_USER=-1,Fe.ANON_USER=0,function(t){t.UNKNOWN="unknown",t.MEDIAWIKI="mw",t.DISCUSSIONS="dis",t.TRIVIA="trivia",t.F2="f2",t.FANHUB="fanhub",t.VIDEO="video"}(Be||(Be={}));var Me,Ue,Ve,We=((Le={})[Be.MEDIAWIKI]=!0,Le[Be.DISCUSSIONS]=!0,Le[Be.TRIVIA]=!0,Le[Be.F2]=!0,Le[Be.FANHUB]=!0,Le[Be.VIDEO]=!0,Le),He=function(){function t(){this.$time=0,this.product=Be.UNKNOWN,this.productId=void 0,this.$time=Date.now()}var e=t.prototype;return e.reset=function(){this.product=Be.UNKNOWN,this.productId=void 0,this.productVariant=void 0,this.productCategory=void 0,this.page=void 0,this.pageId=void 0,this.pageLanguage=void 0,this.adTags=void 0,this.$time=Date.now()},t.getDefault=function(){return new t},e.zeroTime=function(){return this.$time=0,this},e.apply=function(e){return e instanceof t&&(e.isUnknown||(this.product=e.product),null!=e&&e.productId&&"string"==typeof e.productId&&e.productId.length>0&&(this.productId=e.productId),null!=e&&e.productVariant&&(this.productVariant=e.productVariant),null!=e&&e.productCategory&&(this.productCategory=e.productCategory),null!=e&&e.page&&(this.page=e.page),null!=e&&e.pageId&&(this.pageId=e.pageId),null!=e&&e.pageLanguage&&(this.pageLanguage=e.pageLanguage),null!=e&&e.adTags&&(this.adTags=e.adTags),null!=e&&e.$time&&"number"==typeof e.$time&&e.$time>0&&(this.$time=e.$time)),this},t.fromContext=function(e){return t.getDefault().apply(e)},t.fromTransport=function(e){var n=t.getDefault();return e.p&&e.pId&&"number"==typeof e.time&&(n.product=e.p,n.productId=e.pId,n.productVariant=null==e?void 0:e.pVar,n.productCategory=null==e?void 0:e.pCat,n.page=null==e?void 0:e.pg,n.pageId=null==e?void 0:e.pgId,n.pageLanguage=null==e?void 0:e.pgLang,n.adTags=null==e?void 0:e.adTags,n.$time=e.time>0?e.time:Date.now()),n},t.fromWindow=function(){var e=window;return null!=e&&e._plc&&"object"==typeof e._plc?t.fromTransport(e._plc):t.getDefault()},e.toTransport=function(t){void 0===t&&(t=!1);var e={p:this.product,pId:this.productId,pVar:null==this?void 0:this.productVariant,pCat:null==this?void 0:this.productCategory,pg:null==this?void 0:this.page,pgId:null==this?void 0:this.pageId,pgLang:null==this?void 0:this.pageLanguage,adTags:null==this?void 0:this.adTags,time:this.time};return t&&(e.time=0),e},e.toString=function(t){return void 0===t&&(t=!1),JSON.stringify(this.toTransport(t))},e.updateWindow=function(t){void 0===t&&(t=!1);var e=window;e._plc=this.toTransport(t),t&&(e._plc.time=Date.now())},e.toScript=function(t){void 0===t&&(t=!1);var e="window._plc = "+this.toString(t)+";";return t&&(e+="window._plc.time = Date.now();"),e},Ne(t,[{key:"time",get:function(){return this.$time}},{key:"isUnknown",get:function(){return"string"!=typeof this.product||!We[this.product]}},{key:"isValid",get:function(){return!this.isUnknown&&"string"==typeof this.productId&&this.$time>0}}]),t}();function Ge(t,e,n){return void 0===e&&(e="/"),void 0===n&&(n={}),fetch(function(t){var e,n,r=null==(e=window)||null==(n=e.location)?void 0:n.hostname;if(r){if(r.endsWith("fandom.com"))return"https://services.fandom.com/"+t;if(r.endsWith("fandom-dev.us"))return"https://services.fandom-dev.us/"+t}return"http://"+t}(t)+e,n).then((function(n){return"opaque"===n.type||n.ok||401===n.status||404===n.status||console.error("fetch Error",{serviceName:t,path:e,response:n}),n.json()}))}function Je(){return $e.apply(this,arguments)}function $e(){return($e=Ce(ze.mark((function t(){var e,n,r;return ze.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ge("whoami","/",{credentials:"include"});case 3:return n=t.sent,r=null!=(e=null==n?void 0:n.userId)?e:""+Fe.ANON_USER,t.abrupt("return",parseInt(r,10));case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.abrupt("return",Fe.ANON_USER);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function qe(){return(qe=Ce(ze.mark((function t(){var e;return ze.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Fe.fromWindow()).isUnknown){t.next=12;break}return t.prev=2,t.next=5,Je();case 5:e.id=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.debug("Failed, falling back to default user context",t.t0),t.abrupt("return",Fe.getDefault());case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function Ke(t){if("object"!=typeof t)return{};for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var o=r[n],i=o[0],a=o[1];a&&(e[i]=a.reduce((function(t,e){return t[e]=1,t}),{}))}return e}function Xe(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:void 0}function Ye(){return Xe("wikia_beacon_id")||""}function Qe(){return He.fromWindow()}function Ze(){return Fe.fromWindow()}!function(t){t.INIT="roots-initial",t.LOADED="roots-loaded"}(Me||(Me={})),function(t){t.SS_PRE_BOOTSTRAP="ss_pre_bootstrap",t.SS_SDK_START="ss_sdk_start",t.SS_SDK_LOADED="ss_sdk_loaded",t.SS_SDK_READY="ss_sdk_ready",t.SS_CROSS_DOMAIN_READY="ss_cross_domain_ready",t.SS_CROSS_DOMAIN_REGISTER_START="ss_cross_domain_register_start",t.SS_CROSS_DOMAIN_REGISTER_ALL_PAGES_DONE="ss_cross_domain_register_all_pages_done"}(Ue||(Ue={})),function(t){t.PF_START="pf_start",t.PF_LOADED="pf_loaded",t.PF_READY="pf_ready"}(Ve||(Ve={}));var tn,en,nn=Object.values({SilverSurfer:"silversurfer",PathfinderExperiments:"pf-experiments",ClientSide:"browser-client-",Custom:"custom-"}),rn=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){t.CATEGORY="category",t.EVENT="event",t.LABEL="label",t.ACTION="action",t.VALUE="value",t.NON_INTERACTIVE="nonInteractive",t.IS_DEBUG="isDebug"}(tn||(tn={})),function(t){t.EXPERIMENT_VARIANT="experimentVariant",t.SS_VERSION="silverSurferVersion",t.AD_PVUID="pvUID",t.BEACON_ID="beaconId"}(en||(en={}));const on=rn(rn([],Object.values(en),!0),Object.values(tn),!0);function an(){var t,e,n;return null!==(n=null===(e=null===(t=null===window||void 0===window?void 0:window.google_tag_manager)||void 0===t?void 0:t.dataLayer)||void 0===e?void 0:e.gtmDom)&&void 0!==n&&n}function un(){an()&&(window.__datalayer_pre=window.__datalayer_pre||[],window.__datalayer_pre.length>0&&(window.__datalayer_pre_interval_id&&window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre.forEach((function(t){return window.dataLayer.push(t)})),window.__datalayer_pre=[]),window.__datalayer_pre_interval_id&&(window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre_interval_id=null))}function cn(t){if(t.isDebug=!!t.isDebug,t.event){if(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),t.label||(t.label=t.category),t.isDebug){n=t.event,nn.some((function(t){return n.includes(t)}))||console.warn("[Tracking] GTM event not caught",t.event);var e=on;Object.keys(t).every((function(n){return!(!e.includes(n)&&!t.skipValidation&&(console.warn("[Tracking] Element not enabled in DW",n),1))}))}return function(t){return window.__datalayer_pre=window.__datalayer_pre||[],an()?(un(),window.dataLayer.push(t)):window.__datalayer_pre.push(t)}(t)}var n;return console.error("[Tracking] missing 'event' field",t),null}function sn(){return!!window.location.search.includes("ss_debug")||ln()}window.__datalayer_pre_interval_id||an()||(window.__datalayer_pre_interval_id=window.setInterval(un,500));var ln=function(){return/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},fn=function(){return fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fn.apply(this,arguments)};function pn(t,e){var n=function(n){var r=fn(fn({nonInteractive:!0},t),n);return e(r),r};return n.click=function(e){return n(fn(fn(fn({},t),e),{action:"click",nonInteractive:!1}))},n.impression=function(e){return n(fn(fn(fn({},t),e),{action:"impression",nonInteractive:!0}))},n.loaded=function(e){return n(fn(fn(fn({},t),e),{action:"loaded",nonInteractive:!0}))},n.extend=function(n){return pn(fn(fn({},t),n),e)},n}function dn(t,e){var n=fn({},t);if(!n.event&&!n.category)throw console.error("[Tracking] Missing event or category field",n),new Error("Missing event or category field");return n.category||(n.category=n.event),n.event||(n.event=n.category),pn(n,e)}function hn(t){return dn(t,cn)}function vn(t){return"".concat(sn()?"dev-":"").concat(t)}dn({category:"base-tracker"},cn);var yn="__frontend_utils_consistent_random";function bn(){return window[yn]||(window[yn]=Math.random()),window[yn]}var gn=hn({event:"browser-client-timings"});var wn=new Map;function mn(t,e){var n,r;wn.set(t,e),n=t,r=e,(sn()||bn()<=.005)&&gn({category:"timings-event-".concat(n),label:r.toString(),action:"timed",value:r})}function _n(t){try{var e=Math.round(Date.now()-function(){if(!window.performance&&!window.performance.timeOrigin)throw new Error("Performance value not set");return window.performance.timeOrigin}());return mn(t,e),sn()&&console.log("Timing",t,e),e}catch(t){console.error("TimingRecord Error",t)}}var Sn=n(9579),xn=n.n(Sn),On=n(7557),jn=n.n(On),En={profileId:null,namespaces:{adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}}},kn=function(){return kn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kn.apply(this,arguments)},An=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},In=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Pn="silver_surfer_tracking_key_v2",Tn="silver_surfer_actions_v2",Dn="silver_surfer_interactions_v2",Cn="silver-surfer-active-data-v2";function Rn(){return An(this,void 0,void 0,(function(){var t;return In(this,(function(e){switch(e.label){case 0:return[4,Wn()];case 1:return t=[e.sent()],[4,Gn()];case 2:return t=t.concat([e.sent()]),[4,Un()];case 3:return[2,4*t.concat([e.sent()]).map((function(t){return JSON.stringify(t).length})).reduce((function(t,e){return t+e}),0)]}}))}))}var Nn=function(t){return"".concat("silver-surfer-galactus-fallback-user-profile-v2","_").concat(t)};function Ln(t){return An(this,void 0,void 0,(function(){var e,n;return In(this,(function(r){return(e=localStorage.getItem(Nn(t)))&&(n=JSON.parse(e))&&4===n.apiVersion?[2,jn()(n,"apiVersion")]:[2,null]}))}))}function Bn(){return An(this,void 0,void 0,(function(){var t,e;return In(this,(function(n){return(t=localStorage.getItem(Cn))&&(e=JSON.parse(t))&&1===e.apiVersion?[2,jn()(e,"apiVersion")]:[2,null]}))}))}function zn(t,e){return An(this,void 0,void 0,(function(){return In(this,(function(n){try{localStorage.setItem(Nn(t),JSON.stringify(kn(kn({},e),{apiVersion:4})))}catch(t){return[2,!1]}return[2,!0]}))}))}function Fn(t){return An(this,void 0,void 0,(function(){return In(this,(function(e){try{localStorage.setItem(Cn,JSON.stringify(kn(kn({},t),{apiVersion:1})))}catch(t){return[2,!1]}return[2,!0]}))}))}function Mn(t){return An(this,void 0,void 0,(function(){return In(this,(function(e){try{localStorage.setItem(Dn,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function Un(){return An(this,void 0,void 0,(function(){var t;return In(this,(function(e){return(t=localStorage.getItem(Dn))?[2,JSON.parse(t)]:[2,{}]}))}))}function Vn(t){return An(this,void 0,void 0,(function(){return In(this,(function(e){try{localStorage.setItem(Pn,JSON.stringify(xn()(t,oo[eo.LocalStorage])))}catch(t){return[2,!1]}return[2,!0]}))}))}function Wn(){return An(this,void 0,void 0,(function(){var t;return In(this,(function(e){return(t=localStorage.getItem(Pn))?[2,JSON.parse(t)]:[2,[]]}))}))}function Hn(t){return An(this,void 0,void 0,(function(){return In(this,(function(e){try{localStorage.setItem(Tn,JSON.stringify(xn()(t,io[eo.LocalStorage])))}catch(t){return[2,!1]}return[2,!0]}))}))}function Gn(){return An(this,void 0,void 0,(function(){var t;return In(this,(function(e){return(t=localStorage.getItem(Tn))?[2,JSON.parse(t)]:[2,[]]}))}))}let Jn,$n;const qn=new WeakMap,Kn=new WeakMap,Xn=new WeakMap,Yn=new WeakMap,Qn=new WeakMap;let Zn={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kn.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Xn.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function tr(t){return"function"==typeof t?function(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($n||($n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(nr(this),e),er(qn.get(this))}:function(...e){return er(t.apply(nr(this),e))}:function(e,...n){const r=t.call(nr(this),e,...n);return Xn.set(r,e.sort?e.sort():[e]),er(r)}}(t):(t instanceof IDBTransaction&&function(t){if(Kn.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));Kn.set(t,e)}(t),e=t,(Jn||(Jn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,Zn):t);var e}function er(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(er(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&qn.set(e,t)})).catch((()=>{})),Qn.set(e,t),e}(t);if(Yn.has(t))return Yn.get(t);const e=tr(t);return e!==t&&(Yn.set(t,e),Qn.set(e,t)),e}const nr=t=>Qn.get(t);function rr(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),u=er(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(er(a.result),t.oldVersion,t.newVersion,er(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),u.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),u}const or=["get","getKey","getAll","getAllKeys","count"],ir=["put","add","delete","clear"],ar=new Map;function ur(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ar.get(e))return ar.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=ir.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!or.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),o&&i.done]))[0]};return ar.set(e,i),i}var cr;function sr(){return"undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.includes("fandom.com")?"https://services.fandom.com/":"https://services.fandom-dev."+(location.hostname.match(/(?!\.)(pl|us)$/)||["us"])[0]+"/"}cr=Zn,Zn={...cr,get:(t,e,n)=>ur(t,e)||cr.get(t,e,n),has:(t,e)=>!!ur(t,e)||cr.has(t,e)};var lr={DEBUG:"ss_debug",BRANCH:"ss_branch_deploy",CANARY:"ss_canary",ENABLED_PATHFINDER_MODULE:"ss_pathfinder_enable",FORCED_PATHFINDER:"ss_pathfinder_forced",FORCED_BUCKETING:"ss_pathfinder_force_bucket"},fr=ln,pr=(null==="149856914\n"?void 0:"149856914\n".replace(/\n/g,""))||"local",dr=function(t){return window.location.search.includes(t)},hr=function(){return dr("".concat(lr.DEBUG,"=true"))},vr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function yr(){}var br=Date.now();function gr(){var t,e;return((Date.now()-(null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:br))/1e3).toFixed(4)}function wr(t){return"error"===t?console.error:"debug"===t?hr()||fr()?console.debug:yr:console.log}var mr=function(t,e,n,r){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=wr(t),u="%c".concat(e," | ").concat(gr(),"s | ").concat(r);o.length?a.apply(void 0,vr([u,n],o,!1)):a(u,n)};const _r=function(t,e,n){return void 0===n&&(n=[]),function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return mr.apply(void 0,vr([e,t,n.join(";"),r],o,!1))}};function Sr(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px","color: ".concat(t)]}const xr={info:_r("SilverSurfer","info",Sr("#000")),debug:_r("SilverSurfer","debug",Sr("#330")),error:_r("SilverSurfer","error",Sr("#300"))};var Or=hn({event:"browser-client-metric"}),jr=bn();function Er(t,e,n,r){try{return n<jr&&!sn()?null:Or({category:vn("browser-client-metric-".concat(t)),label:r,value:null!=e?e:t,action:"metric"})}catch(t){return null}}var kr=function(){return kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kr.apply(this,arguments)},Ar=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Ir=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Pr="page-view-table",Tr="actions-table",Dr="interactions-table",Cr="current",Rr="galactus-fallback-user-profile-table",Nr="active-data-table",Lr="ppid-table",Br=!1;function zr(){return Ar(this,void 0,void 0,(function(){var t;return Ir(this,(function(e){switch(e.label){case 0:if(Br)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,rr("silver-surfer",6,{upgrade:function(t,e,n,r){t.objectStoreNames.contains(Pr)||t.createObjectStore(Pr),t.objectStoreNames.contains(Rr)||t.createObjectStore(Rr),t.objectStoreNames.contains(Tr)||t.createObjectStore(Tr,{autoIncrement:!0}),t.objectStoreNames.contains(Dr)||t.createObjectStore(Dr),t.objectStoreNames.contains(Nr)||t.createObjectStore(Nr),t.objectStoreNames.contains(Lr)||t.createObjectStore(Lr)},blocked:function(){},blocking:function(){},terminated:function(){}})];case 2:return[2,e.sent()];case 3:return t=e.sent(),xr.error("Cannot access indexedDB:",t),Er("cannot-access-indexeddb",1,1),Br=!0,[3,4];case 4:return[2]}}))}))}var Fr=function(t){return"user-profile-".concat(t)},Mr="active-data";function Ur(){return Ar(this,void 0,void 0,(function(){var t,e;return Ir(this,(function(n){switch(n.label){case 0:return[4,zr()];case 1:return[4,null==(t=n.sent())?void 0:t.get(Nr,Mr)];case 2:return(e=n.sent())&&1===e.apiVersion?[2,e.data]:[2,null]}}))}))}function Vr(t){return Ar(this,void 0,void 0,(function(){var e,n;return Ir(this,(function(r){switch(r.label){case 0:return[4,zr()];case 1:return[4,null==(e=r.sent())?void 0:e.get(Rr,Fr(t))];case 2:return(n=r.sent())&&4===n.apiVersion?[2,jn()(n,"apiVersion")]:[2,null]}}))}))}function Wr(t){return Ar(this,void 0,void 0,(function(){var e,n;return Ir(this,(function(r){switch(r.label){case 0:return[4,zr()];case 1:return e=r.sent(),n={data:t,apiVersion:1},[4,null==e?void 0:e.put(Nr,n,Mr)];case 2:return[2,r.sent()===Mr]}}))}))}function Hr(t,e){return Ar(this,void 0,void 0,(function(){var n,r,o;return Ir(this,(function(i){switch(i.label){case 0:return[4,zr()];case 1:return n=i.sent(),r=Fr(t),o=kr(kr({},e),{apiVersion:4}),[4,null==n?void 0:n.put(Rr,o,r)];case 2:return[2,i.sent()===r]}}))}))}function Gr(){var t;return Ar(this,void 0,void 0,(function(){var e,n,r;return Ir(this,(function(o){switch(o.label){case 0:return[4,zr()];case 1:return[4,null==(e=o.sent())?void 0:e.getAllKeys(Pr)];case 2:return n=null!==(t=o.sent())&&void 0!==t?t:[],[4,null==e?void 0:e.getAll(Pr)];case 3:return r=o.sent(),[2,n.map((function(t,e){return kr({id:t},r[e])}))]}}))}))}function Jr(t){return Ar(this,void 0,void 0,(function(){var e,n,r,o=this;return Ir(this,(function(i){switch(i.label){case 0:return[4,zr()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(Pr,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,xn()(t,oo[eo.IndexedDB]).forEach((function(t){return Ar(o,void 0,void 0,(function(){var e,o,i;return Ir(this,(function(a){switch(a.label){case 0:return e=t.id,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["id"]),[4,n.store.put(o,e)];case 1:return i=a.sent(),r&&(r=i===e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function $r(t){return Ar(this,void 0,void 0,(function(){var e;return Ir(this,(function(n){switch(n.label){case 0:return[4,zr()];case 1:return[4,null==(e=n.sent())?void 0:e.put(Dr,t,Cr)];case 2:return[2,n.sent()===Cr]}}))}))}function qr(){var t;return Ar(this,void 0,void 0,(function(){var e;return Ir(this,(function(n){switch(n.label){case 0:return[4,zr()];case 1:return[4,null==(e=n.sent())?void 0:e.get(Dr,Cr)];case 2:return[2,null!==(t=n.sent())&&void 0!==t?t:{}]}}))}))}function Kr(){return Ar(this,void 0,void 0,(function(){var t;return Ir(this,(function(e){switch(e.label){case 0:return[4,zr()];case 1:return[4,null==(t=e.sent())?void 0:t.getAll(Tr)];case 2:return[2,e.sent()]}}))}))}function Xr(t){return Ar(this,void 0,void 0,(function(){var e,n,r,o=this;return Ir(this,(function(i){switch(i.label){case 0:return[4,zr()];case 1:return e=i.sent(),(null==(n=null==e?void 0:e.transaction(Tr,"readwrite",{durability:"strict"}))?void 0:n.store)?[4,n.store.clear()]:[2,!1];case 2:return i.sent(),r=!0,xn()(t,io[eo.IndexedDB]).forEach((function(t){return Ar(o,void 0,void 0,(function(){var e;return Ir(this,(function(o){switch(o.label){case 0:return[4,n.store.put(t)];case 1:return e=o.sent(),r&&(r=!!e),[2]}}))}))})),[4,n.done];case 3:return i.sent(),[2,r]}}))}))}function Yr(){return Ar(this,void 0,void 0,(function(){var t,e,n,r;return Ir(this,(function(o){switch(o.label){case 0:return[4,zr()];case 1:return t=o.sent(),e=0,[4,null==t?void 0:t.transaction(Pr).store.openCursor()];case 2:n=o.sent(),o.label=3;case 3:return n?(e+=JSON.stringify(n.value).length,[4,n.continue()]):[3,5];case 4:return n=o.sent(),[3,3];case 5:return[4,null==t?void 0:t.transaction(Tr).store.openCursor()];case 6:r=o.sent(),o.label=7;case 7:return r?(e+=JSON.stringify(r.value).length,[4,r.continue()]):[3,9];case 8:return r=o.sent(),[3,7];case 9:return[2,4*e]}}))}))}function Qr(t){window.TrackJS&&window.TrackJS.track&&window.TrackJS.track(t)}var Zr,to,eo,no=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},ro=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};!function(t){t.BOTH="both",t.IndexedDB="indexeddb",t.LocalStorage="localstorage"}(eo||(eo={}));var oo=((Zr={})[eo.IndexedDB]=200,Zr[eo.LocalStorage]=100,Zr),io=((to={})[eo.IndexedDB]=500,to[eo.LocalStorage]=200,to);function ao(t){if(void 0===t&&(t=eo.BOTH),t===eo.IndexedDB)return!1;try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function uo(t){if(void 0===t&&(t=eo.BOTH),t===eo.LocalStorage)return!1;try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function co(t){return no(this,void 0,void 0,(function(){var e,n,r,o,i;return ro(this,(function(a){switch(a.label){case 0:return uo()?[4,Wr(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,uo()?[4,Fn(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)||xr.error("Failed to cache Active Data response",t),[2,i]}}))}))}function so(){return no(this,void 0,void 0,(function(){return ro(this,(function(t){switch(t.label){case 0:return uo()?[4,Ur()]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return ao()?[4,Bn()]:[3,4];case 4:return[2,null]}}))}))}function lo(t){return no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return uo()?[4,Vr(t)]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return ao()?[4,Ln(t)]:[3,4];case 4:return[2,null]}}))}))}function fo(t){return void 0===t&&(t=eo.BOTH),no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return uo(t)?[4,Gr()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return ao(t)?[4,Wn()]:[3,4];case 4:return[2,[]]}}))}))}function po(t){return void 0===t&&(t=eo.BOTH),no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return uo(t)?[4,Kr()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return ao(t)?[4,Gn()]:[3,4];case 4:return[2,[]]}}))}))}function ho(t){return void 0===t&&(t=eo.BOTH),no(this,void 0,void 0,(function(){return ro(this,(function(e){switch(e.label){case 0:return uo(t)?[4,qr()]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return ao(t)?[4,Un()]:[3,4];case 4:return[2,{}]}}))}))}function vo(t){return void 0===t&&(t=eo.BOTH),no(this,void 0,void 0,(function(){var e,n,r,o;return ro(this,(function(i){switch(i.label){case 0:if(e=-1,n=-1,!uo(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Rn()];case 2:return e=i.sent(),[3,4];case 3:return r=i.sent(),Qr("error-localstorage-size"),xr.debug("Error while getting localStorage size",r),[3,4];case 4:if(!ao(t))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,Yr()];case 6:return n=i.sent(),[3,8];case 7:return o=i.sent(),Qr("error-indexdb-size"),xr.debug("Error while getting indexedDB size",o),[3,8];case 8:return[2,{localStorageSize:e,indexedDBSize:n}]}}))}))}function yo(t,e,n,r){void 0===r&&(r={}),console.error("logErrorEvent",n,r),Qr({client:t,clientVersion:e,name:n,data:r})}Math.max(io[eo.LocalStorage],oo[eo.LocalStorage]);var bo=function(t,e){return function(n,r){return void 0===r&&(r={}),yo(t,e,n,r)}},go=function(t,e){return function(n,r){return yo(t,e,n,function(t){return{ok:t.ok,redirected:t.redirected,status:t.status,statusText:t.statusText,type:t.type,url:t.url}}(r))}},wo=("silver-surfer",pr,bo("silver-surfer",pr),go("silver-surfer",pr));function mo(t,e,n){return void 0===n&&(n={}),fetch(e,n).then((function(n){return"opaque"===n.type||n.ok||401===n.status||404===n.status||("function"==typeof t?t(e,n):console.error("fetchWithLogging Error",{url:e,response:n})),n}))}var _o=function(){return _o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_o.apply(this,arguments)},So=function(t){return function(e,n){return void 0===n&&(n={}),mo(t,sr()+e,_o({mode:"cors",credentials:"include"},n))}},xo=function(t){return function(e,n,r){return void 0===r&&(r={}),mo(t,sr()+e,_o({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n)},r))}},Oo=So(wo),jo=(xo(wo),n(9996)),Eo=n.n(jo);function ko(t){var e=0,n="function"==typeof(null==t?void 0:t.onResolve)?t.onResolve:function(){},r="function"==typeof(null==t?void 0:t.onReject)?t.onReject:function(){};return function(){return new Promise((function(o,i){var a=setInterval((function(){t.eventCheck()&&(clearInterval(a),o(n())),t.intervalTime*e>t.maxWaitTime&&(clearInterval(a),i(r())),e++}),t.intervalTime)}))}}const Ao=function(){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return t=ko({eventCheck:function(){var t;return!!(null===(t=null===window||void 0===window?void 0:window.ads)||void 0===t?void 0:t.pushToConsentQueue)||"boolean"==typeof(null===window||void 0===window?void 0:window.__f_optin)},intervalTime:50,maxWaitTime:3e3,onReject:function(){return!1},onResolve:function(){return!0}}),[4,t()];case 1:return e=n.sent(),"boolean"==typeof(null===window||void 0===window?void 0:window.__f_optin)?[2,new Promise((function(t){return t(window.__f_optin)}))]:[2,new Promise((function(t,n){e||(console.error("window.ads took too long to load"),n(!1)),window.ads.pushToConsentQueue((function(e){e.gdprConsent?t(!0):(console.log("GDPR Status failed"),n(!1))}))}))]}}))}))};function Io(t){var e=new RegExp("(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),n="string"==typeof t?t:null===navigator||void 0===navigator?void 0:navigator.userAgent;return e.test(n)}function Po(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n,r,o;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:if(Io())return[2,null];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Ao()];case 2:return i.sent(),[3,4];case 3:return i.sent(),xr.debug("Consent not given, cannot contact Galactus"),[2,null];case 4:return i.trys.push([4,8,,9]),[4,Oo("galactus-user-profile/profiles/".concat(t))];case 5:return 200!==(e=i.sent()).status?[3,7]:[4,e.json()];case 6:return n=i.sent(),r=function(t){return Eo()(En,t)}(n),xr.debug("Galactus API response",r),cn({event:"custom-galactus-api-response-full",category:"custom-galactus-api-response-full",label:"custom-galactus-api-response-full",galactusResponse:n,skipValidation:!0}),[2,r];case 7:return[3,9];case 8:return o=i.sent(),xr.error("Failed to fetch profile",o),[3,9];case 9:return[2,null]}}))}))}function To(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Do(t){return!!t&&!!t[wi]}function Co(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===mi}(t)||Array.isArray(t)||!!t[gi]||!!t.constructor[gi]||Mo(t)||Uo(t))}function Ro(t){return Do(t)||To(23,t),t[wi].t}function No(t,e,n){void 0===n&&(n=!1),0===Lo(t)?(n?Object.keys:_i)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function Lo(t){var e=t[wi];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Mo(t)?2:Uo(t)?3:0}function Bo(t,e){return 2===Lo(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function zo(t,e,n){var r=Lo(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function Fo(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Mo(t){return hi&&t instanceof Map}function Uo(t){return vi&&t instanceof Set}function Vo(t){return t.o||t.t}function Wo(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Si(t);delete e[wi];for(var n=_i(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function Ho(t,e){return void 0===e&&(e=!1),Jo(t)||Do(t)||!Co(t)||(Lo(t)>1&&(t.set=t.add=t.clear=t.delete=Go),Object.freeze(t),e&&No(t,(function(t,e){return Ho(e,!0)}),!0)),t}function Go(){To(2)}function Jo(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function $o(t){var e=xi[t];return e||To(18,t),e}function qo(){return pi}function Ko(t,e){e&&($o("Patches"),t.u=[],t.s=[],t.v=e)}function Xo(t){Yo(t),t.p.forEach(Zo),t.p=null}function Yo(t){t===pi&&(pi=t.l)}function Qo(t){return pi={p:[],l:pi,h:t,m:!0,_:0}}function Zo(t){var e=t[wi];0===e.i||1===e.i?e.j():e.O=!0}function ti(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||$o("ES5").S(e,t,r),r?(n[wi].P&&(Xo(e),To(4)),Co(t)&&(t=ei(e,t),e.l||ri(e,t)),e.u&&$o("Patches").M(n[wi].t,t,e.u,e.s)):t=ei(e,n,[]),Xo(e),e.u&&e.v(e.u,e.s),t!==bi?t:void 0}function ei(t,e,n){if(Jo(e))return e;var r=e[wi];if(!r)return No(e,(function(o,i){return ni(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return ri(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Wo(r.k):r.o;No(3===r.i?new Set(o):o,(function(e,i){return ni(t,r,o,e,i,n)})),ri(t,o,!1),n&&t.u&&$o("Patches").R(r,n,t.u,t.s)}return r.o}function ni(t,e,n,r,o,i){if(Do(o)){var a=ei(t,o,i&&e&&3!==e.i&&!Bo(e.D,r)?i.concat(r):void 0);if(zo(n,r,a),!Do(a))return;t.m=!1}if(Co(o)&&!Jo(o)){if(!t.h.F&&t._<1)return;ei(t,o),e&&e.A.l||ri(t,o)}}function ri(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&Ho(e,n)}function oi(t,e){var n=t[wi];return(n?Vo(n):t)[e]}function ii(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ai(t){t.P||(t.P=!0,t.l&&ai(t.l))}function ui(t){t.o||(t.o=Wo(t.t))}function ci(t,e,n){var r=Mo(e)?$o("MapSet").N(e,n):Uo(e)?$o("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:qo(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,i=Oi;n&&(o=[r],i=ji);var a=Proxy.revocable(o,i),u=a.revoke,c=a.proxy;return r.k=c,r.j=u,c}(e,n):$o("ES5").J(e,n);return(n?n.A:qo()).p.push(r),r}function si(t){return Do(t)||To(22,t),function t(e){if(!Co(e))return e;var n,r=e[wi],o=Lo(e);if(r){if(!r.P&&(r.i<4||!$o("ES5").K(r)))return r.t;r.I=!0,n=li(e,o),r.I=!1}else n=li(e,o);return No(n,(function(e,o){r&&function(t,e){return 2===Lo(t)?t.get(e):t[e]}(r.t,e)===o||zo(n,e,t(o))})),3===o?new Set(n):n}(t)}function li(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Wo(t)}var fi,pi,di="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),hi="undefined"!=typeof Map,vi="undefined"!=typeof Set,yi="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,bi=di?Symbol.for("immer-nothing"):((fi={})["immer-nothing"]=!0,fi),gi=di?Symbol.for("immer-draftable"):"__$immer_draftable",wi=di?Symbol.for("immer-state"):"__$immer_state",mi=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),_i="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Si=Object.getOwnPropertyDescriptors||function(t){var e={};return _i(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},xi={},Oi={get:function(t,e){if(e===wi)return t;var n=Vo(t);if(!Bo(n,e))return function(t,e,n){var r,o=ii(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!Co(r)?r:r===oi(t.t,e)?(ui(t),t.o[e]=ci(t.A.h,r,t)):r},has:function(t,e){return e in Vo(t)},ownKeys:function(t){return Reflect.ownKeys(Vo(t))},set:function(t,e,n){var r=ii(Vo(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=oi(Vo(t),e),i=null==o?void 0:o[wi];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Fo(n,o)&&(void 0!==n||Bo(t.t,e)))return!0;ui(t),ai(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==oi(t.t,e)||e in t.t?(t.D[e]=!1,ui(t),ai(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Vo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){To(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){To(12)}},ji={};No(Oi,(function(t,e){ji[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ji.deleteProperty=function(t,e){return ji.set.call(this,t,e,void 0)},ji.set=function(t,e,n){return Oi.set.call(this,t[0],e,n,t[0])};var Ei=function(){function t(t){var e=this;this.g=yi,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,a=Array(r>1?r-1:0),u=1;u<r;u++)a[u-1]=arguments[u];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&To(6),void 0!==r&&"function"!=typeof r&&To(7),Co(t)){var u=Qo(e),c=ci(e,t,void 0),s=!0;try{a=n(c),s=!1}finally{s?Xo(u):Yo(u)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return Ko(u,r),ti(t,u)}),(function(t){throw Xo(u),t})):(Ko(u,r),ti(a,u))}if(!t||"object"!=typeof t){if(void 0===(a=n(t))&&(a=t),a===bi&&(a=void 0),e.F&&Ho(a,!0),r){var l=[],f=[];$o("Patches").M(t,a,l,f),r(l,f)}return a}To(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,i=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Co(t)||To(8),Do(t)&&(t=si(t));var e=Qo(this),n=ci(this,t,void 0);return n[wi].C=!0,Yo(e),n},e.finishDraft=function(t,e){var n=(t&&t[wi]).A;return Ko(n,e),ti(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!yi&&To(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=$o("Patches").$;return Do(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),ki=new Ei,Ai=ki.produce;ki.produceWithPatches.bind(ki),ki.setAutoFreeze.bind(ki),ki.setUseProxies.bind(ki),ki.applyPatches.bind(ki),ki.createDraft.bind(ki),ki.finishDraft.bind(ki);const Ii=Ai;function Pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(n),!0).forEach((function(e){Pi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ci(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Ri="function"==typeof Symbol&&Symbol.observable||"@@observable",Ni=function(){return Math.random().toString(36).substring(7).split("").join(".")},Li={INIT:"@@redux/INIT"+Ni(),REPLACE:"@@redux/REPLACE"+Ni(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ni()}};function Bi(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zi(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ci(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ci(1));return n(zi)(t,e)}if("function"!=typeof t)throw new Error(Ci(2));var o=t,i=e,a=[],u=a,c=!1;function s(){u===a&&(u=a.slice())}function l(){if(c)throw new Error(Ci(3));return i}function f(t){if("function"!=typeof t)throw new Error(Ci(4));if(c)throw new Error(Ci(5));var e=!0;return s(),u.push(t),function(){if(e){if(c)throw new Error(Ci(6));e=!1,s();var n=u.indexOf(t);u.splice(n,1),a=null}}}function p(t){if(!Bi(t))throw new Error(Ci(7));if(void 0===t.type)throw new Error(Ci(8));if(c)throw new Error(Ci(9));try{c=!0,i=o(i,t)}finally{c=!1}for(var e=a=u,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error(Ci(10));o=t,p({type:Li.REPLACE})}function h(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Ci(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[Ri]=function(){return this},t}return p({type:Li.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[Ri]=h,r}function Fi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Mi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(Ci(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=Fi.apply(void 0,i)(n.dispatch),Di(Di({},n),{},{dispatch:r})}}}function Ui(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var Vi=Ui();Vi.withExtraArgument=Ui;const Wi=Vi;var Hi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gi=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Ji=Object.defineProperty,$i=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),qi=Object.prototype.hasOwnProperty,Ki=Object.prototype.propertyIsEnumerable,Xi=function(t,e,n){return e in t?Ji(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Yi=function(t,e){for(var n in e||(e={}))qi.call(e,n)&&Xi(t,n,e[n]);if($i)for(var r=0,o=$i(e);r<o.length;r++)n=o[r],Ki.call(e,n)&&Xi(t,n,e[n]);return t},Qi="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Fi:Fi.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Zi=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Hi(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Gi([void 0],t[0].concat(this)))):new(e.bind.apply(e,Gi([void 0],t.concat(this))))},e}(Array);function ta(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Yi(Yi({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function ea(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function na(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:Ii(t.initialState,(function(){})),o=t.reducers||{},i=Object.keys(o),a={},u={},c={};function s(){var e="function"==typeof t.extraReducers?ea(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,i=e[1],a=void 0===i?[]:i,c=e[2],s=void 0===c?void 0:c,l=Yi(Yi({},o),u);return function(t,e,n,r){void 0===n&&(n=[]);var o,i="function"==typeof e?ea(e):[e,n,r],a=i[0],u=i[1],c=i[2];if(function(t){return"function"==typeof t}(t))o=function(){return Ii(t(),(function(){}))};else{var s=Ii(t,(function(){}));o=function(){return s}}function l(t,e){void 0===t&&(t=o());var n=Gi([a[e.type]],u.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[c]),n.reduce((function(t,n){if(n){var r;if(Do(t))return void 0===(r=n(t,e))?t:r;if(Co(t))return Ii(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=o,l}(r,l,a,s)}return i.forEach((function(t){var n,r,i=o[t],s=e+"/"+t;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[t]=n,u[s]=n,c[t]=r?ta(s,r):ta(s)})),{name:e,reducer:function(t,e){return n||(n=s()),n(t,e)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=s()),n.getInitialState()}}}function ra(t){setTimeout(t,1)}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[wi];return Oi.get(e,t)},set:function(e){var n=this[wi];Oi.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][wi];if(!o.P)switch(o.i){case 5:r(o)&&ai(o);break;case 4:n(o)&&ai(o)}}}function n(t){for(var e=t.t,n=t.k,r=_i(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==wi){var a=e[i];if(void 0===a&&!Bo(e,i))return!0;var u=n[i],c=u&&u[wi];if(c?c.t!==a:!Fo(u,a))return!0}}var s=!!e[wi];return r.length!==_i(e).length+(s?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var o={};!function(t,e){xi[t]||(xi[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=Si(n);delete i[wi];for(var a=_i(i),u=0;u<a.length;u++){var c=a[u];i[c]=t(c,e||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:qo(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,wi,{value:i,writable:!0}),o},S:function(t,n,o){o?Do(n)&&n[wi].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[wi];if(n){var o=n.t,i=n.k,a=n.D,u=n.i;if(4===u)No(i,(function(e){e!==wi&&(void 0!==o[e]||Bo(o,e)?a[e]||t(i[e]):(a[e]=!0,ai(n)))})),No(o,(function(t){void 0!==i[t]||Bo(i,t)||(a[t]=!1,ai(n))}));else if(5===u){if(r(n)&&(ai(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var s=o.length;s<i.length;s++)a[s]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)i.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var oa,ia,aa,ua=n(7361),ca=n.n(ua),sa=n(3608),la=n.n(sa),fa="www.fandom.com",pa=((oa={})[Be.UNKNOWN]=[],oa[Be.MEDIAWIKI]=["2350603","174","38969","4396","159","130814","2180","105","2237"],oa[Be.DISCUSSIONS]=[],oa[Be.TRIVIA]=[],oa[Be.FANHUB]=[],oa[Be.VIDEO]=[],oa[Be.F2]=[],oa);function da(t){return!(t<1)||la()(0,100)<=100*t}function ha(t,e){return xr.debug("App state changed: ".concat(t,"->").concat(e)),e}!function(t){t.New="new",t.Starting="starting",t.Delayed="delayed",t.Ready="ready"}(aa||(aa={}));var va,ya,ba,ga,wa,ma,_a=na({name:"AppSlice",initialState:{state:aa.New,config:{sendDebugLog:hr()||da(ca()(window,"_ss.sendDebugLogRate",.01)),sendGalactusRequest:hr()||fr()||da(ca()(window,"_ss.sendGalactusRequestRate",1)),sendTracking:(ga=Qe(),wa=pa[ga.product],ma=null==wa?void 0:wa.includes(ga.productId),da(ca()(window,"_ss.sendTrackingRate",ma?1:0))),disableCrossdomain:dr("ss_no_crossdomain=true")||function(){var t;return!!Io()||((null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.host)===fa?(xr.debug("Cross domain is not needed for fandom.com"),!0):ca()(window,"_ss.disableCrossdomain",!1))}(),manualPageview:fr()&&dr("ss_no_pageview=true")||(va=ca()(window,"_ss.manualPageview",!1),ya=He.fromWindow(),ba=!1,ya.isValid||(xr.debug("Page context is not valid! Assuming lazy load (need manual PV trigger)",ya),ba=!0),va||ba)},clients:[]},reducers:{starting:function(t){t.state!==aa.New&&t.state!==aa.Delayed||(t.state=ha(t.state,aa.Starting))},delayed:function(t){t.state===aa.New&&(t.state=ha(t.state,aa.Delayed))},ready:function(t){t.state===aa.Starting&&(t.state=ha(t.state,aa.Ready))},addClient:function(t,e){var n=e.payload;t.clients.push(n)},reboot:function(t){if(t.state===aa.Ready){var e=t.clients.map((function(t){return null==t?void 0:t.onReboot})).filter(Boolean);ra((function(){return e.forEach((function(t){return t()}))}))}}}}),Sa=_a.actions,xa=((ia=_a.actions).starting,ia.ready,ia.delayed,ia.addClient);ia.reboot;const Oa=_a.reducer;var ja,Ea=na({name:"ContextSlice",initialState:{user:Fe.getDefault(),page:He.getDefault(),adBlockDetected:null,adSlots:{}},reducers:{updateUser:function(t,e){t.user=e.payload},updatePage:function(t,e){t.page=e.payload},adSlotUpdate:function(t,e){t.adSlots[e.payload.name]=e.payload.status},adBlockDetected:function(t,e){t.adBlockDetected=e.payload,xr.debug("Feature: AdBlock Detected",t.adBlockDetected)}}}),ka=(Ea.actions,(ja=Ea.actions).updateUser),Aa=ja.updatePage,Ia=ja.adSlotUpdate,Pa=ja.adBlockDetected;const Ta=Ea.reducer;var Da,Ca,Ra,Na;function La(t){return{id:"".concat(t.productId,"_").concat(t.pageId,"_").concat(t.time),context:t.toTransport(),time:t.time,version:"2"}}function Ba(t){if("1"===(null==t?void 0:t.version)){var e=t;return He.fromTransport({p:Be.MEDIAWIKI,pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:e.time})}if("2"!==(null==t?void 0:t.version))return He.getDefault();var n=t;return He.fromTransport(n.context)}(Ra=Da||(Da={})).Request="CrossDomain::Register::Request",Ra.Response="CrossDomain::Register::Response",function(t){t.Off="off",t.Initializing="initializing",t.Ready="ready"}(Ca||(Ca={}));var za=na({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{},activeData:{}},local:{status:Ca.Initializing,size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:Ca.Initializing,statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1},pagesFinished:!1,actionsFinished:!1,interactionsFinished:!1}},reducers:{cacheGalactusUserProfile:function(t,e){t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},cacheActiveData:function(t,e){t.serviceCache.activeData=e.payload.activeData},crossdomainStatus:function(t,e){var n,r=e.payload.status;t.crossdomain.status!=Ca.Ready&&(t.crossdomain.status=r,t.crossdomain.statusErrorMessage=r===Ca.Off?null===(n=e.payload)||void 0===n?void 0:n.statusErrorMessage:"")},sessionPageViewSaved:function(t,e){t.session.pages.push(Ba(e.payload))},sessionActionSaved:function(t,e){t.session.actions.push(e.payload)},sessionAddInteraction:function(t,e){var n,r=t.session.interactions,o=null!==(n=r[e.payload])&&void 0!==n?n:0;r[e.payload]=o+1,t.session.interactions=r},updateCrossdomainInteractions:function(t,e){t.history.interactions=e.payload,t.crossdomain.interactionsFinished=!0,t.crossdomain.status=Ca.Ready},updateCrossdomainActions:function(t,e){t.history.actions=e.payload,t.crossdomain.actionsFinished=!0,t.crossdomain.status=Ca.Ready},updateCrossdomainPages:function(t,e){t.history.pages=e.payload.map(Ba),t.crossdomain.pagesFinished=!0,t.crossdomain.status=Ca.Ready},updateCrossdomainSize:function(t,e){t.crossdomain.size=e.payload,t.crossdomain.status=Ca.Ready},updateLocalHistory:function(t,e){var n,r,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(r=null===(n=e.payload.pages)||void 0===n?void 0:n.map(Ba))&&void 0!==r?r:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status=Ca.Ready},updateLocalStorageSize:function(t,e){t.local.size=e.payload}}}),Fa=(za.actions,(Na=za.actions).cacheGalactusUserProfile),Ma=Na.cacheActiveData,Ua=Na.crossdomainStatus,Va=Na.sessionPageViewSaved,Wa=Na.sessionActionSaved,Ha=Na.sessionAddInteraction,Ga=Na.updateCrossdomainSize,Ja=Na.updateCrossdomainPages,$a=Na.updateCrossdomainActions,qa=Na.updateCrossdomainInteractions,Ka=Na.updateLocalHistory,Xa=Na.updateLocalStorageSize,Ya=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Zi);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Wi):r.push(Wi.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,u=void 0===a?n():a,c=r.devTools,s=void 0===c||c,l=r.preloadedState,f=void 0===l?void 0:l,p=r.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Li.INIT}))throw new Error(Ci(12));if(void 0===n(void 0,{type:Li.PROBE_UNKNOWN_ACTION()}))throw new Error(Ci(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var c=a[u],s=n[c],l=t[c],f=s(l,e);if(void 0===f)throw e&&e.type,new Error(Ci(14));o[c]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(t).length)?o:t}}(i)}var h=u;"function"==typeof h&&(h=h(n));var v=Mi.apply(void 0,h),y=Fi;s&&(y=Qi(Yi({trace:!1},"object"==typeof s&&s)));var b=[v];return Array.isArray(d)?b=Gi([v],d):"function"==typeof d&&(b=d(b)),zi(e,f,y.apply(void 0,b))}({reducer:{App:Oa,Context:Ta,BrowserStorage:za.reducer},middleware:function(t){return t({serializableCheck:{ignoredPaths:["App.clients","Context.user","Context.page","BrowserStorage.session.pages","BrowserStorage.history.pages"],ignoredActions:["AppSlice/addClient","ContextSlice/updateUser","ContextSlice/updatePage"]}})},devTools:{name:"SilverSurfer",trace:hr()}});const Qa=Ya;var Za=n(4908),tu=n.n(Za),eu="NOT_FOUND",nu=function(t,e){return t===e};function ru(t,e){var n,r,o="object"==typeof e?e:{equalityCheck:e},i=o.equalityCheck,a=void 0===i?nu:i,u=o.maxSize,c=void 0===u?1:u,s=o.resultEqualityCheck,l=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(a),f=1===c?(n=l,{get:function(t){return r&&n(r.key,t)?r.value:eu},put:function(t,e){r={key:t,value:e}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return eu}return{get:r,put:function(e,o){r(e)===eu&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function p(){var e=f.get(arguments);if(e===eu){if(e=t.apply(null,arguments),s){var n=f.getEntries(),r=n.find((function(t){return s(t.value,e)}));r&&(e=r.value)}f.put(arguments,e)}return e}return p.clearCache=function(){return f.clear()},p}function ou(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return"function"==typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function iu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i,a=0,u={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(u=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var s=u,l=s.memoizeOptions,f=void 0===l?n:l,p=Array.isArray(f)?f:[f],d=ou(r),h=t.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(p)),v=t((function(){for(var t=[],e=d.length,n=0;n<e;n++)t.push(d[n].apply(null,arguments));return i=h.apply(null,t)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:h,dependencies:d,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),v};return o}var au=iu(ru);function uu(t){return 0===Object.keys(t||{}).length}function cu(t){try{return t.reduce((function(t,e){return t+Object.keys(e).length}),0)}catch(t){return 0}}var su=n(5578),lu=n.n(su);var fu=function(){return fu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fu.apply(this,arguments)};function pu(t){var e,n=fu(fu({},t),{time:Date.now(),ssVersion:pr}),r=(void 0===e&&(e=0),(function(t,e){void 0===e&&(e=0);for(var n,r,o=function(){for(var t=0,e=new Array(256),n=0;256!=n;++n)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=n)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[n]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),i=-1^e,a=0,u=t.length;a<u;)(n=t.charCodeAt(a++))<128?i=i>>>8^o[255&(i^n)]:n<2048?i=(i=i>>>8^o[255&(i^(192|n>>6&31))])>>>8^o[255&(i^(128|63&n))]:n>=55296&&n<57344?(n=64+(1023&n),r=1023&t.charCodeAt(a++),i=(i=(i=(i=i>>>8^o[255&(i^(240|n>>8&7))])>>>8^o[255&(i^(128|n>>2&63))])>>>8^o[255&(i^(128|r>>6&15|(3&n)<<4))])>>>8^o[255&(i^(128|63&r))]):i=(i=(i=i>>>8^o[255&(i^(224|n>>12&15))])>>>8^o[255&(i^(128|n>>6&63))])>>>8^o[255&(i^(128|63&n))];return-1^i}(JSON.stringify(n),e)>>>0).toString(16));return fu(fu({},n),{token:r})}function du(t){return t.onReboot,function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["onReboot"])}function hu(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}function vu(t,e,n){var r=t.filter((function(t){return hu(t.client,e)})).map((function(t){return t.action}));return"string"==typeof n&&n.length>0&&(r=r.filter((function(t){return t.type===n}))),r}var yu=function(t){return t.App.state===aa.Ready},bu=function(t){return t.App.clients},gu=function(t){return t.App.config.sendDebugLog},wu=function(t){return t.App.config.manualPageview},mu=function(t){return t.Context.user},_u=function(t){return t.Context.page},Su=function(t){return t.Context.adSlots},xu=function(t){return t.BrowserStorage.crossdomain.status},Ou=au(xu,(function(t){return"initializing"!==t})),ju=au(xu,(function(t){return t===Ca.Ready})),Eu=au((function(t){return t.BrowserStorage.local.status}),(function(t){return t===Ca.Ready})),ku=au(ju,Eu,(function(t,e){return t||e})),Au=au(_u,(function(t){return t.BrowserStorage.session.pages}),(function(t){return t.BrowserStorage.history.pages}),(function(t,e,n){return r=[t].concat(e).concat(n).filter(Boolean),Te(r,(function(t){return t.time})).sort((function(t,e){return e.time-t.time}));var r})),Iu=au((function(t){return t.BrowserStorage.session.actions}),(function(t){return t.BrowserStorage.history.actions}),(function(t,e){return n=t.concat(e).filter(Boolean),lu()(n,(function(t){return t.action.time})).sort((function(t,e){return e.action.time-t.action.time}));var n})),Pu=function(t){return t.BrowserStorage.history.interactions},Tu=function(t){return t.BrowserStorage.session.interactions},Du=au(Tu,Pu,(function(t,e){return n={},[t,e].forEach((function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var o=r[e],i=o[0],a=o[1];n[i]?n[i]+=a:n[i]=a}})),n;var n})),Cu=au(Tu,Pu,(function(t,e){var n=Object.keys(t),r=Object.keys(e),o=[].concat(n,r).filter(Boolean);return tu()(o)})),Ru=au([Au],(function(t){var e={};return t.forEach((function(t){if(t.isValid){var n=t.product,r=t.productId,o=e[n]||{};o[r]=(o[r]||0)+1,e[n]=o}})),e})),Nu=au((function(t){return t.BrowserStorage.crossdomain.pagesFinished}),(function(t){return t.BrowserStorage.crossdomain.actionsFinished}),(function(t){return t.BrowserStorage.crossdomain.interactionsFinished}),(function(t,e,n){return t&&e&&n})),Lu=function(t){return t.BrowserStorage.serviceCache.activeData},Bu=au((function(t){return t.App.state===aa.Starting}),Eu,_u,(function(t,e,n){return t&&e&&!!n})),zu=hn({event:"silversurfer",category:vn("silversurfer"),isDebug:function(){for(var t=Object.values(lr),e=0;e<t.length;e++)if(dr(t[e]))return!0;return!1}()});const Fu=zu;var Mu=window.requestIdleCallback||function(t){var e=Date.now();return window.setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Uu=window.cancelIdleCallback||function(t){window.clearTimeout(t)},Vu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Wu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Hu,Gu,Ju,$u,qu=!1;function Ku(t){return Vu(this,void 0,void 0,(function(){var e,n,r;return Wu(this,(function(o){switch(o.label){case 0:return e=t||Ye(),n=(i=e,function(t){var e;return null===(e=t.BrowserStorage.serviceCache.galactusUserProfile)||void 0===e?void 0:e[i]})(Qa.getState()),n?[3,2]:[4,lo(t)];case 1:return(r=o.sent())&&(n=Eo()(En,r)),xr.debug("getGalactusUserProfile: Profile read from storage",n),[3,3];case 2:xr.debug("getGalactusUserProfile: Profile read from cache",n),o.label=3;case 3:return!qu&&Qa.getState().App.config.sendGalactusRequest&&(qu=!0,ra((function(){return function(t){return Vu(this,void 0,void 0,(function(){var e,n,r=this;return Wu(this,(function(o){return e=null,n=Mu((function(){return Vu(r,void 0,void 0,(function(){var r,o,i;return Wu(this,(function(a){switch(a.label){case 0:if(Date.now()-0<6e4)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Po(t)];case 2:return(r=a.sent())&&(null==r?void 0:r.profileId)&&(o=JSON.stringify(r))!==e&&(xr.debug("getGalactusUserProfile: Profile updated from Galactus",r),Qa.dispatch(Fa({beaconId:t,profile:r})),function(t,e){no(this,void 0,void 0,(function(){var n,r,o,i,a;return ro(this,(function(u){switch(u.label){case 0:return uo()?[4,Hr(t,e)]:[3,2];case 1:return r=u.sent(),[3,3];case 2:r=!1,u.label=3;case 3:return n=r,ao()?[4,zn(t,e)]:[3,5];case 4:return i=u.sent(),[3,6];case 5:i=!1,u.label=6;case 6:return o=i,(a=n||o)||xr.error("Failed to cache Galactus response",t,e),[2,a]}}))}))}(t,r),e=o),[3,4];case 3:return i=a.sent(),xr.error("Fail to fetch data from Galactus",i),Uu(n),[3,4];case 4:return[2]}}))}))})),[2]}))}))}(e)}))),[2,n]}var i}))}))}function Xu(){return Vu(this,void 0,void 0,(function(){var t,e;return Wu(this,(function(n){switch(n.label){case 0:return t=Ye(),e=En,t?[3,1]:(Fu.loaded({category:"galactus-user-profile-failed-loaded",label:"no-beacon"}),[3,3]);case 1:return[4,Ku(t)];case 2:e=n.sent(),Fu.loaded({category:"galactus-user-profile-loaded",label:"galactus-user-profile-loaded |  ".concat((null==e?void 0:e.profileId)?"true":"false")}),n.label=3;case 3:return[2,e]}}))}))}function Yu(t,e){var n,r,o,i;return tu()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.pform)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.pform)&&void 0!==i?i:[])).filter(Boolean))}function Qu(t){var e,n,r;return(null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.devices)||void 0===n?void 0:n.set)&&void 0!==r?r:[]).map((function(t){return{type:Zu(t),platform:tc(t),browser:ec(t)}}))}function Zu(t){return t.type.toLowerCase().replace("unknown","other")}function tc(t){var e=t.os.toLowerCase(),n=t.make.toLowerCase(),r="other";return e.includes("android")&&(r="android"),n.includes("apple")&&(r="apple"),r}function ec(t){return t.browser.toLowerCase().replace("unknown","other")}function nc(t){var e,n,r,o,i,a=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.locations)||void 0===n?void 0:n.set)&&void 0!==r?r:[],u=null===(o=null!=(i=function(t){try{var e,n=decodeURIComponent(null!=(e=Xe("Geo"))?e:"{}");return n?JSON.parse(n):void 0}catch(t){return}}())?i:{})||void 0===o?void 0:o.country;return tu()([].concat(a.map((function(t){return t.country})),[u]).filter(Boolean).map((function(t){return t.toUpperCase()})))}function rc(t){var e,n,r,o,i,a,u,c,s=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.languages)||void 0===n?void 0:n.contentLanguages)&&void 0!==r?r:[],l=null!==(a=null===(i=null===(o=null==t?void 0:t.namespaces)||void 0===o?void 0:o.languages)||void 0===i?void 0:i.acceptLanguages)&&void 0!==a?a:[],f=[null===(u=_u(Qa.getState()))||void 0===u?void 0:u.pageLanguage,null===(c=mu(Qa.getState()))||void 0===c?void 0:c.lang],p=[window.navigator.language.split("-")[0]],d=Au(Qa.getState());return tu()([].concat(s.map((function(t){return t.languageCode})),l.map((function(t){return t.languageCode})),d.map((function(t){return null==t?void 0:t.pageLanguage})),f,p).filter(Boolean).map((function(t){return t.toLowerCase()})))}function oc(t){return 1===t?$u.FIRST_TIME_VISITOR:t<=5?$u.RETURNING_VISITOR:$u.FREQUENT_VISITOR}function ic(t){var e=Au(Qa.getState()).length;if(e>0)return oc(e);var n=[];return Object.values(t).forEach((function(t){n.push(Math.max.apply(null,Object.values(t)))})),oc(Math.max.apply(null,n))}function ac(t){return[ic(t)]}function uc(t,e){var n,r,o,i;return tu()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.tv)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.tv)&&void 0!==i?i:[])).filter(Boolean))}function cc(t){if(t){var e=t.media,n=t.gnre,r=t.theme;return tu()([].concat(e?Object.keys(e):void 0,n?Object.keys(n):void 0,r?Object.keys(r):void 0).filter(Boolean))}return[]}!function(t){t.DELAYED="silver-surfer:delayed",t.READY="silver-surfer:ready"}(Hu||(Hu={})),function(t){t.LOADED="loaded",t.COLLAPSED="collapsed",t.BLOCKED="blocked"}(Gu||(Gu={})),function(t){t.WIKI_CONTENT="wiki content",t.FEATURED_VIDEO="featured video",t.DISCUSSIONS="discussions",t.ADS="ads"}(Ju||(Ju={})),function(t){t.FIRST_TIME_VISITOR="1st time visitor",t.RETURNING_VISITOR="returning visitor",t.FREQUENT_VISITOR="frequent visitor"}($u||($u={})),bo("pathfinder",pr);var sc=go("pathfinder",pr),lc=(So(sc),sc,xo(sc)),fc=function(){return fc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fc.apply(this,arguments)},pc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},dc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},hc="active-data-management-service";function vc(t){return pc(this,void 0,void 0,(function(){var e;return dc(this,(function(n){switch(n.label){case 0:if(Io())return[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),function(){var t=Date.now();try{null===window||void 0===window||window.localStorage.setItem("fandom-adms-cache",t.toString())}catch(t){}}(),[4,lc("".concat(hc,"/validate/"),fc({},t))];case 2:return 200===n.sent().status?[2,!0]:[3,4];case 3:return e=n.sent(),xr.error("Failed to post active data action",e),[3,4];case 4:return[2,!1]}}))}))}function yc(){return pc(this,void 0,void 0,(function(){var t,e,n;return dc(this,(function(r){switch(r.label){case 0:if(Io())return[2,{}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Ao()];case 2:return r.sent(),[3,4];case 3:return r.sent(),xr.debug("Consent not given, cannot contact active-data-management-system"),[2,{}];case 4:return r.trys.push([4,8,,9]),[4,Oo("".concat(hc,"/profiles?cb=").concat(Date.now()))];case 5:return 200!==(t=r.sent()).status?[3,7]:[4,t.json()];case 6:return e=r.sent(),xr.debug("active-data-management-system API response",e),[2,e];case 7:return[3,9];case 8:return n=r.sent(),xr.error("Failed to fetch active-data",n),[3,9];case 9:return[2,{}]}}))}))}var bc=n(1609),gc=n.n(bc),wc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},mc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},_c=0;function Sc(){return wc(this,void 0,void 0,(function(){var t,e;return mc(this,(function(n){switch(n.label){case 0:return t=Lu(Qa.getState()),!gc()(t)&&Date.now()-_c<6e4?[2,t]:[4,yc()];case 1:return e=n.sent(),xr.debug("getActiveData: read from ADMS",e),_c=Date.now(),Qa.dispatch(Ma({activeData:e})),[2,e]}}))}))}var xc=!1;function Oc(){return wc(this,void 0,void 0,(function(){var t,e,n;return mc(this,(function(r){switch(r.label){case 0:return t=Lu(Qa.getState()),gc()(t)?[3,1]:(n=t,[3,3]);case 1:return[4,so()];case 2:n=r.sent(),r.label=3;case 3:return e=n,xr.debug("ActiveData loaded: ",e),xc||(xc=!0,ra((function(){return function(){return wc(this,void 0,void 0,(function(){var t,e,n=this;return mc(this,(function(r){return t=null,e=Mu((function(){return wc(n,void 0,void 0,(function(){var n,r,o;return mc(this,(function(i){switch(i.label){case 0:if(Date.now()-0<6e5)return[2];i.label=1;case 1:return i.trys.push([1,5,,6]),[4,yc()];case 2:return n=i.sent(),gc()(n)||(r=JSON.stringify(n))===t?[3,4]:(xr.debug("getActiveData: updated from ADMS",n),Qa.dispatch(Ma({activeData:n})),[4,co(n)]);case 3:i.sent(),t=r,i.label=4;case 4:return[3,6];case 5:return o=i.sent(),xr.error("Fail to fetch data from active-data-management-system",o),Uu(e),[3,6];case 6:return[2]}}))}))})),[2]}))}))}()}))),[2,e]}}))}))}function jc(){var t,e;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var n,r,o,i,a;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:return[4,Xu()];case 1:return n=u.sent(),window.location.href.includes("/fancentral/home")?[4,Sc()]:[3,3];case 2:return o=u.sent(),[3,5];case 3:return[4,Oc()];case 4:o=u.sent(),u.label=5;case 5:return r=o,i=function(t){var e,n,r,o,i,a=null!==(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.adTags)&&void 0!==n?n:{};if(!uu(a)){xr.debug("getUserProfile: Galactus AdTags are empty, fallback to history");var u=null!==(r=Au(Qa.getState()).map((function(t){return t.adTags})))&&void 0!==r?r:[];o=u.filter(Boolean).map(Ke),i={},o.forEach((function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r,o=n[e],a=o[0],u=o[1],c=a,s=null!=(r=i[c])?r:{};if(u)for(var l=0,f=Object.entries(u);l<f.length;l++){var p,d=f[l],h=d[0],v=d[1];s[h]=(null!=(p=s[h])?p:0)+v}i[c]=s}})),a=i}return uu(a)&&(xr.debug("getUserProfile: History is empty, fallback to current page"),a=Ke(_u(Qa.getState()).adTags)),a}(n),a={beaconId:Ye(),gender:Object.keys(null!==(t=null==i?void 0:i.sex)&&void 0!==t?t:{}),affiliation:ac(i),interactions:Cu(Qa.getState()),ageBrackets:Object.keys(null!==(e=null==i?void 0:i.age)&&void 0!==e?e:{}),devices:Qu(n),language:rc(n),country:nc(n),interests:cc(i),consoles:Yu(i,n),streaming:uc(i,n),adTags:i,activeData:r,visitedProducts:Ru(Qa.getState())},xr.debug("getUserProfile: Profile complete",a),[2,a]}}))}))}var Ec=function(){return Ec=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ec.apply(this,arguments)},kc={channelId:"default",host:window,coordinatorHost:window.top},Ac={connect:"connect",connected:"connected"},Ic="@wikia/post-quecast";function Pc(t){return t.channelId&&t.libId===Ic&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function Tc(t){return!t.data.private}function Dc(t,e){return t.data.channelId===e}function Cc(t){return t.data.action}var Rc=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[Ic])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[Ic].callbackConnector:new Lc({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),Nc=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!Pc(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),Lc=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!Pc(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&Pc(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),Bc=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=Rc.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(Dc(n,t.channelId)&&function(t){return!!t.data.private}(n)){var r=Cc(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(r,Ac.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,r.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(Dc(e,t.channelId)&&Tc(e)){var n=Cc(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:Ac.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:Ic})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),zc=function(){function t(t){void 0===t&&(t={});var e=Ec(Ec({},kc),t);this.channelId=e.channelId,this.connector=Rc.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:Ec(Ec({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:Ic})},t}(),Fc=function(){function t(t){void 0===t&&(t={});var e=Ec(Ec({},kc),t);this.transmitter=new zc(e),this.receiver=new Bc(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),Mc=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[Ic].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:Ic})},t.prototype.createConnectedAction=function(){return{type:Ac.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:Ic})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new Lc({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),Uc=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new Nc(t),this.postMessageConnector=new Lc({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){Tc(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,Ac.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(Ac).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new Mc(t,this.coordinatorHost)),this.channels.get(t)},t}(),Vc=function(t,e){return Vc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Vc(t,e)};function Wc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Hc(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Gc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jc(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function $c(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function qc(t){return this instanceof qc?(this.v=t,this):new qc(t)}function Kc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{!function(t){t.value instanceof qc?Promise.resolve(t.value.v).then(c,s):l(i[0][2],t)}(o[t](e))}catch(t){l(i[0][3],t)}}function c(t){u("next",t)}function s(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Xc(t){return"function"==typeof t}function Yc(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create;var Qc=Yc((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function Zc(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ts=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Gc(i),u=a.next();!u.done;u=a.next())u.value.remove(this)}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}else i.remove(this);var c=this.initialTeardown;if(Xc(c))try{c()}catch(t){o=t instanceof Qc?t.errors:[t]}var s=this._teardowns;if(s){this._teardowns=null;try{for(var l=Gc(s),f=l.next();!f.done;f=l.next()){var p=f.value;try{rs(p)}catch(t){o=null!=o?o:[],t instanceof Qc?o=$c($c([],Jc(o)),Jc(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Qc(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)rs(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Zc(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&Zc(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}(),es=ts.EMPTY;function ns(t){return t instanceof ts||t&&"closed"in t&&Xc(t.remove)&&Xc(t.add)&&Xc(t.unsubscribe)}function rs(t){Xc(t)?t():t.unsubscribe()}var os=null,is=null,as=void 0,us=!1,cs=!1,ss={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ss.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,$c([],Jc(t)))},clearTimeout:function(t){var e=ss.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ls(t){ss.setTimeout((function(){if(!os)throw t;os(t)}))}function fs(){}var ps=ds("C",void 0,void 0);function ds(t,e,n){return{kind:t,value:e,error:n}}var hs=null;function vs(t){if(us){var e=!hs;if(e&&(hs={errorThrown:!1,error:null}),t(),e){var n=hs,r=n.errorThrown,o=n.error;if(hs=null,r)throw o}}else t()}function ys(t){us&&hs&&(hs.errorThrown=!0,hs.error=t)}var bs=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,ns(e)&&e.add(n)):n.destination=Ss,n}return Wc(e,t),e.create=function(t,e,n){return new gs(t,e,n)},e.prototype.next=function(t){this.isStopped?_s(function(t){return ds("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?_s(ds("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?_s(ps,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ts),gs=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(Xc(e))o=e;else if(e){var a;o=e.next,n=e.error,r=e.complete,i&&cs?(a=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:a=e,o=null==o?void 0:o.bind(a),n=null==n?void 0:n.bind(a),r=null==r?void 0:r.bind(a)}return i.destination={next:o?ws(o):fs,error:ws(null!=n?n:ms),complete:r?ws(r):fs},i}return Wc(e,t),e}(bs);function ws(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,$c([],Jc(e)))}catch(t){us?ys(t):ls(t)}}}function ms(t){throw t}function _s(t,e){var n=is;n&&ss.setTimeout((function(){return n(t,e)}))}var Ss={closed:!0,next:fs,error:ms,complete:fs},xs="function"==typeof Symbol&&Symbol.observable||"@@observable";function Os(t){return t}function js(t){return 0===t.length?Os:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Es=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof bs||function(t){return t&&Xc(t.next)&&Xc(t.error)&&Xc(t.complete)}(r)&&ns(r)?t:new gs(t,e,n);return vs((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=ks(e))((function(e,r){var o=new gs({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[xs]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return js(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=ks(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function ks(t){var e;return null!==(e=null!=t?t:as)&&void 0!==e?e:Promise}function As(t){return function(e){if(function(t){return Xc(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Is=function(t){function e(e,n,r,o,i){var a=t.call(this,e)||this;return a.onFinalize=i,a._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,a._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,a}return Wc(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(bs),Ps=Array.isArray;function Ts(t,e,n){return n?Ts(t,e).pipe(function(t){return e=function(e){return function(t,e){return Ps(e)?t.apply(void 0,$c([],Jc(e))):t(e)}(t,e)},As((function(t,n){var r=0;t.subscribe(new Is(n,(function(t){n.next(e.call(void 0,t,r++))})))}));var e}(n)):new Es((function(n){var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)},o=t(r);return Xc(e)?function(){return e(r,o)}:void 0}))}var Ds=Yc((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Cs=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Wc(e,t),e.prototype.lift=function(t){var e=new Rs(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Ds},e.prototype.next=function(t){var e=this;vs((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=Gc(o),a=i.next();!a.done;a=i.next())a.value.next(t)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;vs((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;vs((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?es:(o.push(t),new ts((function(){return Zc(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new Es;return t.source=this,t},e.create=function(t,e){return new Rs(t,e)},e}(Es),Rs=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return Wc(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:es},e}(Cs),Ns={now:function(){return(Ns.delegate||Date).now()},delegate:void 0},Ls=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=Ns);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return Wc(e,t),e.prototype.next=function(e){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;r||(o.push(e),!i&&o.push(a.now()+u)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,r=t._buffer,o=t._infiniteTimeWindow,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),u=0,c=1;c<r.length&&r[c]<=a;c+=2)u=c;u&&r.splice(0,u+1)}},e}(Cs),Bs=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function zs(t){return Xc(null==t?void 0:t.then)}function Fs(t){return Xc(t[xs])}function Ms(t){return Symbol.asyncIterator&&Xc(null==t?void 0:t[Symbol.asyncIterator])}function Us(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Vs="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ws(t){return Xc(null==t?void 0:t[Vs])}function Hs(t){return Kc(this,arguments,(function(){var e,n,r;return Hc(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,qc(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,qc(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,qc(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function Gs(t){return Xc(null==t?void 0:t.getReader)}function Js(t){if(t instanceof Es)return t;if(null!=t){if(Fs(t))return o=t,new Es((function(t){var e=o[xs]();if(Xc(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Bs(t))return r=t,new Es((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(zs(t))return n=t,new Es((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,ls)}));if(Ms(t))return $s(t);if(Ws(t))return e=t,new Es((function(t){var n,r;try{for(var o=Gc(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t.next(a),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(Gs(t))return $s(Hs(t))}var e,n,r,o;throw Us(t)}function $s(t){return new Es((function(e){(function(t,e){var n,r,o,i;return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var a,u;return Hc(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=Gc(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,o,(e=t[n](e)).done,e.value)}))}}}(t),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),o={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}var qs=new Es((function(t){return t.complete()}));function Ks(t){return t<=0?function(){return qs}:As((function(e,n){var r=0;e.subscribe(new Is(n,(function(e){++r<=t&&(n.next(e),t<=r&&n.complete())})))}))}function Xs(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new Cs}:e,r=t.resetOnError,o=void 0===r||r,i=t.resetOnComplete,a=void 0===i||i,u=t.resetOnRefCountZero,c=void 0===u||u;return function(t){var e=null,r=null,i=null,u=0,s=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=null},p=function(){f(),e=i=null,s=l=!1},d=function(){var t=e;p(),null==t||t.unsubscribe()};return As((function(t,h){u++,l||s||f();var v,y=i=null!=i?i:n();h.add((function(){0!=--u||l||s||(r=Ys(d,c))})),y.subscribe(h),e||(e=new gs({next:function(t){return y.next(t)},error:function(t){l=!0,f(),r=Ys(p,o,t),y.error(t)},complete:function(){s=!0,f(),r=Ys(p,a),y.complete()}}),(v=t,Js(v)).subscribe(e))}))(t)}}function Ys(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===e?(t(),null):!1===e?null:e.apply(void 0,$c([],Jc(n))).pipe(Ks(1)).subscribe((function(){return t()}))}function Qs(t,e){return As((function(n,r){var o=0;n.subscribe(new Is(r,(function(n){return t.call(e,n,o++)&&r.next(n)})))}))}var Zs=function(){return Zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Zs.apply(this,arguments)},tl=function(){function t(){var t=this;!function(t){if(void 0===t&&(t=window),!t[Ic]){var e=new Uc(t);e.init(),t[Ic]=e}}(),this.communicator=new Fc,this.actions=Ts((function(e){return t.communicator.addListener(e)}),(function(e){return t.communicator.removeListener(e)})).pipe(function(t,e,n){var r,o,i,a=!1;return t&&"object"==typeof t?(i=null!==(r=t.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=t.windowTime)&&void 0!==o?o:1/0,a=!!t.refCount,n=t.scheduler):i=null!=t?t:1/0,Xs({connector:function(){return new Ls(i,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}({refCount:!0}))}return t.prototype.dispatch=function(t){this.communicator.dispatch(Zs(Zs({},t),{__global:!0}))},t}(),el=null;function nl(){return null===el&&(el=new tl),el}function rl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.pipe(Qs((function(e){return t.some((function(t){return e.type===t}))})))}}function ol(t){var e;(null==t?void 0:t.name)&&(null==t?void 0:t.state)&&("collapse"===t.state&&(e=Gu.COLLAPSED),"success"===t.state&&(e=Gu.LOADED),"blocked"===t.state&&(e=Gu.BLOCKED),e&&Qa.dispatch(Ia({name:t.name,status:e})))}function il(t){Qa.dispatch(Ia({name:"uap",status:t.isLoaded?Gu.LOADED:Gu.COLLAPSED}))}function al(){Qa.dispatch(Ha(Ju.ADS))}function ul(t){Qa.dispatch(Pa(t.detected))}function cl(){var t=nl();t&&(xr.debug("Start listening for Ad events"),hr()&&t.actions.subscribe((function(t){return xr.debug("AdEngine event",t)})),t.actions.pipe(rl("[AdEngine] Ad Slot loaded")).subscribe(ol),t.actions.pipe(rl("[AdEngine] UAP Load status")).subscribe(il),t.actions.pipe(rl("[AdEngine] Ad clicked")).subscribe(al),t.actions.pipe(rl("[AdEngine] BAB detection finished")).subscribe(ul))}function sl(){var t=Ze();return!t.isUnknown&&(xr.debug("Updating user context from window",t.toTransport()),Qa.dispatch(ka(t)),t)}function ll(){!function(){var t=Ze();t.isUnknown?(xr.debug("Reading user context from window failed, trying fallback..."),function(){return qe.apply(this,arguments)}().then((function(t){sl()||t.isUnknown||(xr.debug("Reading user context from fallback",t.toTransport()),Qa.dispatch(ka(t)))})).catch((function(t){sl()||xr.error("Reading user context from fallback failed",t)}))):(xr.debug("Reading user context from window",t.toTransport()),Qa.dispatch(ka(t)));var e=Qe();xr.debug("Reading page context from window",e.toTransport()),Qa.dispatch(Aa(e))}(),ra(cl)}function fl(){var t=_u(Qa.getState());t.isValid||(t=Qe()).isValid&&(xr.debug("Updated page context from window",t.toTransport()),Qa.dispatch(Aa(t)));var e,n=mu(Qa.getState());if(n.isUnknown){var r=sl();r&&(n=r)}return{current:t,pages:Au(Qa.getState()),features:{adBlockDetected:(e=Qa.getState(),e.Context.adBlockDetected)},slots:Su(Qa.getState()),user:n}}function pl(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,n;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return function(t){return!(!t||"string"!=typeof t.name||(null==t?void 0:t.onReboot)&&"function"!=typeof t.onReboot)}(t)?(e=bu(Qa.getState()),function(t,e){var n;return null!==(n=null==e?void 0:e.findIndex((function(e){return hu(e,t)})))&&void 0!==n?n:-1}(t,e)>-1?(xr.debug("registerClient: Already registered client",t),Fu({label:"client-registration",action:"already-registered",client:t}),[2,null]):(n=pu(t),Qa.dispatch(xa(n)),xr.debug("registerClient: Client registered",n),[2,n.token])):(xr.debug("registerClient: Invalid client",t),Fu({label:"client-registration",action:"invalid",client:t}),[2,null])}))}))}var dl,hl=pr;function vl(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:hl}}!function(t){t.PageviewRequest="SilverSurfer::Pageview::Request",t.PageviewResponse="SilverSurfer::Pageview::Response",t.AddActionRequest="SilverSurfer::AddAction::Request",t.AddActionResponse="SilverSurfer::AddAction::Response",t.AddInteractionRequest="SilverSurfer::AddInteraction::Request",t.AddInteractionResponse="SilverSurfer::AddInteraction::Response",t.HistorySizeResponse="SilverSurfer::HistorySize::Response",t.HistoryPagesResponse="SilverSurfer::HistoryPages::Response",t.HistoryActionsResponse="SilverSurfer::HistoryActions::Response",t.HistoryInteractionsResponse="SilverSurfer::HistoryInteractions::Response"}(dl||(dl={}));var yl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},bl=function(){function t(t,e,n,r){this._sending=!1,this._queue=[],this._options={},this._onMessageCallback=n,this._origin=t,this._options=r,this._initialize(e)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype._log=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===(e=this._options)||void 0===e?void 0:e.debug)&&console.log.apply(console,yl(["CrossDomainSender::".concat(t)],n,!1))},t.prototype._initialize=function(t){this._log("_initialize"),this._status=Ca.Initializing;var e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e},t.prototype._onIframeLoadError=function(t){var e;this._log("_onIframeLoadError",t.error),this._status=Ca.Off,"function"==typeof(null===(e=this._options)||void 0===e?void 0:e.onIframeError)&&this._options.onIframeError(t)},t.prototype._onIframeLoad=function(){this._log("_onIframeLoad");var t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(vl(Da.Request),[t.port2])},t.prototype._onMessage=function(t){var e;(null==(e=t.data)?void 0:e.xv)===hl?(this._log("_onMessage",t),t.data.type===Da.Response&&(this._status=Ca.Ready),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data)):this._log("_onMessage - invalid message",t)},t.prototype._sendMessage=function(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)},t.prototype._flushQueue=function(){if(this._status===Ca.Ready&&!this._sending){this._sending=!0;for(var t=void 0;void 0!==(t=this._queue.shift());)this._sendMessage(t);this._sending=!1}},t.prototype.send=function(t){this._queue.push(t),this._flushQueue()},t}();const gl=bl;function wl(){return""!==window.location.port&&"80"!==window.location.port?null:"https://".concat(fa)}var ml,_l=fr()?500:1e4;function Sl(){if(!ml){if(Qa.getState().App.config.disableCrossdomain)return xr.debug("Cross domain connection disabled (on purpose)"),void Qa.dispatch(Ua({status:Ca.Off,statusErrorMessage:"disabled"}));if(!wl())return xr.debug("Cross domain connection disabled (unsupported origin)"),void Qa.dispatch(Ua({status:Ca.Off,statusErrorMessage:"incorrect-origin"}));xr.debug("Initializing cross domain connection"),ml=new gl(wl(),(t=window.location.search,gu(Qa.getState())&&(t+="".concat(t.length?"&":"?","cb=").concat(Date.now())),"".concat(wl(),"/silver-surfer.html").concat(t)),xl,{debug:gu(Qa.getState()),onIframeError:function(t){Qa.dispatch(Ua({status:Ca.Off,statusErrorMessage:"iframe-error"})),Qr(t)}}),setTimeout((function(){Qa.dispatch(Ua({status:Ca.Off,statusErrorMessage:"timeout"})),Qr("cross-domain-timeout")}),_l)}var t}function xl(t){switch(t.type){case Da.Response:return Qa.dispatch(Ua({status:Ca.Ready})),void xr.debug("Cross domain connected");case dl.HistorySizeResponse:var e=t.payload;return Qa.dispatch(Ga(e)),void xr.debug("Cross domain sent storage size",e);case dl.HistoryInteractionsResponse:var n=t.payload;return Qa.dispatch(qa(n)),void xr.debug("Cross domain sent history interactions",n);case dl.HistoryPagesResponse:var r=t.payload;return Qa.dispatch(Ja(r)),void xr.debug("Cross domain sent history pages",r);case dl.HistoryActionsResponse:var o=t.payload;return Qa.dispatch($a(o)),void xr.debug("Cross domain sent history actions",o);case dl.PageviewResponse:return void xr.debug("Cross domain pageview ack");case dl.AddActionResponse:return void xr.debug("Cross domain action ack");case dl.AddInteractionResponse:return void xr.debug("Cross domain interaction ack");default:return void xr.error("Unknown message type",t)}}function Ol(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){return xr.debug("New interaction",t),Qa.dispatch(Ha(t)),function(t){ml&&ml.status===Ca.Ready?(xr.debug("Sending cross domain interaction",t),ml.send(function(t){return vl(dl.AddInteractionRequest,t)}(t))):Qr("cross-domain-not-ready-on-interaction")}(t),[2]}))}))}var jl,El=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},kl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Al=ko({eventCheck:function(){return ku(Qa.getState())},intervalTime:100,maxWaitTime:5e3,onReject:function(){return Iu(Qa.getState())},onResolve:function(){return Iu(Qa.getState())}});function Il(){return El(this,void 0,void 0,(function(){var t;return kl(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Al()];case 1:return[2,e.sent()];case 2:return t=e.sent(),Array.isArray(t)?[2,t]:(xr.error("Error getting actions",t),[3,3]);case 3:return[2,[]]}}))}))}function Pl(t){var e=function(t){return au(bu,(function(e){return e.find((function(e){return e.token===t}))}))}(t)(Qa.getState());if(!e)throw new Error("Incorrect token");return e}function Tl(t,e){return El(this,void 0,void 0,(function(){var n,r;return kl(this,(function(o){switch(o.label){case 0:return n=Pl(t),r=vu,[4,Il()];case 1:return[2,r.apply(void 0,[o.sent(),n,e])]}}))}))}function Dl(t){return El(this,void 0,void 0,(function(){return kl(this,(function(e){switch(e.label){case 0:return fr()||Pl(t),[4,Il()];case 1:return[2,e.sent()]}}))}))}function Cl(t,e,n,r){return El(this,void 0,void 0,(function(){var o,i;return kl(this,(function(a){return o=Pl(t),i=function(t,e,n,r){return{client:du(t),action:{time:Date.now(),name:e,type:n,payload:r}}}(o,e,n,r),xr.debug("New action",i),Qa.dispatch(Wa(i)),function(t){ml&&ml.status===Ca.Ready?(xr.debug("Sending cross domain action",t),ml.send(function(t){return vl(dl.AddActionRequest,t)}(t))):Qr("cross-domain-not-ready-on-action")}(i),[2]}))}))}!function(t){t.ADD="add",t.CLICK="click",t.CLOSE="close",t.CONFIRM="confirm",t.CREATE="create",t.DISABLE="disable",t.ENABLE="enable",t.ERROR="error",t.HOVER="hover",t.IMPRESSION="impression",t.IDENTITY="identity",t.KEYPRESS="keypress",t.NO_IMPRESSION="no-impression",t.OPEN="open",t.PLAY_VIDEO="play-video",t.QUIZ="quiz",t.REACTION="reaction",t.REMOVE="remove",t.SELECT="select",t.SHARE="share",t.SUBMIT="submit",t.SUCCESS="success",t.SWIPE="swipe",t.VIEW="view",t.REACTION_COUNT="reaction-count",t.HEALTH="health",t.HIGHLIGHT="highlight",t.MYFANDOM="myfandom"}(jl||(jl={}));var Rl=function(t,e,n){var r=function(t,e){this.config=t,this.onError=e,t.enabled&&this.watch()};r.prototype={watch:function(){d.forEach(["EventTarget","Node","XMLHttpRequest"],(function(e){d.has(t,e+".prototype.addEventListener")&&d.hasOwn(t[e].prototype,"addEventListener")&&this.wrapEventTarget(t[e].prototype)}),this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(t){function e(){try{return t.apply(this,arguments)}catch(t){throw o.onError("catch",t,{bindTime:n,bindStack:r}),d.wrapError(t)}}var n,r,o=this;try{if(!d.isFunction(t)||d.hasOwn(t,"__trackjs__"))return t;if(d.hasOwn(t,"__trackjs_state__"))return t.__trackjs_state__}catch(e){return t}if(o.config.bindStack)try{throw Error()}catch(t){r=t.stack,n=d.isoNow()}for(var i in t)d.hasOwn(t,i)&&(e[i]=t[i]);return e.prototype=t.prototype,e.__trackjs__=!0,t.__trackjs_state__=e},wrapEventTarget:function(t){var e=this;d.has(t,"addEventListener.call")&&d.has(t,"removeEventListener.call")&&(d.patch(t,"addEventListener",(function(t){return function(n,r,o,i){try{d.has(r,"handleEvent")&&(r.handleEvent=e.wrap(r.handleEvent))}catch(t){}return t.call(this,n,e.wrap(r),o,i)}})),d.patch(t,"removeEventListener",(function(t){return function(e,n,r,o){try{n=n&&(n.__trackjs_state__||n)}catch(t){}return t.call(this,e,n,r,o)}})))},wrapTimer:function(e){var n=this;d.patch(t,e,(function(t){return function(e,r){var o=Array.prototype.slice.call(arguments),i=o[0];return d.isFunction(i)&&(o[0]=n.wrap(i)),d.has(t,"apply")?t.apply(this,o):t(o[0],o[1])}}))}};var o=function(t){this.initCurrent(t)||console.warn("[TrackJS] invalid config")};o.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,forwardingDomain:"",errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",usageURL:"https://usage.trackjs.com/usage.gif",onError:function(){return!0},serialize:function(t){function e(t){var e="<"+t.tagName.toLowerCase();t=t.attributes||[];for(var n=0;n<t.length;n++)e+=" "+t[n].name+'="'+t[n].value+'"';return e+">"}if(""===t)return"Empty String";if(t===n)return"undefined";if(d.isString(t)||d.isNumber(t)||d.isBoolean(t)||d.isFunction(t))return""+t;if(d.isElement(t))return e(t);if("symbol"==typeof t)return Symbol.prototype.toString.call(t);var r;try{r=JSON.stringify(t,(function(t,r){return r===n?"undefined":d.isNumber(r)&&isNaN(r)?"NaN":d.isError(r)?{name:r.name,message:r.message,stack:r.stack}:d.isElement(r)?e(r):r}))}catch(e){for(var o in r="",t)if(t.hasOwnProperty(o))try{r+=',"'+o+'":"'+t[o]+'"'}catch(t){}r=r?"{"+r.replace(",","")+"}":"Unserializable Object"}return r.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},initCurrent:function(t){return this.removeEmpty(t),this.validate(t,this.defaults,"[TrackJS] config",{})?(this.current=d.defaultsDeep({},t,this.defaults),!0):(this.current=d.defaultsDeep({},this.defaults),!1)},setCurrent:function(t){return!!this.validate(t,this.defaults,"[TrackJS] config",this.initOnly)&&(this.current=d.defaultsDeep({},t,this.current),!0)},removeEmpty:function(t){for(var e in t)t.hasOwnProperty(e)&&t[e]===n&&delete t[e]},validate:function(t,e,n,r){var o=!0;for(var i in n=n||"",r=r||{},t)if(t.hasOwnProperty(i))if(e.hasOwnProperty(i)){var a=typeof e[i];a!==typeof t[i]?(console.warn(n+"."+i+": property must be type "+a+"."),o=!1):"[object Array]"!==Object.prototype.toString.call(t[i])||this.validateArray(t[i],e[i],n+"."+i)?"[object Object]"===Object.prototype.toString.call(t[i])?o=this.validate(t[i],e[i],n+"."+i,r[i]):r.hasOwnProperty(i)&&(console.warn(n+"."+i+": property cannot be set after load."),o=!1):o=!1}else console.warn(n+"."+i+": property not supported."),o=!1;return o},validateArray:function(t,e,n){var r=!0;n=n||"";for(var o=0;o<t.length;o++)d.contains(e,t[o])||(console.warn(n+"["+o+"]: invalid value: "+t[o]+"."),r=!1);return r}};var i=function(t,e,n,r,o,i,a){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.serialize=o,a.enabled&&(i.console=this.wrapConsoleObject(i.console,a))};i.prototype={wrapConsoleObject:function(t,e){var n,r=(t=t||{}).log||function(){},o=this;for(n=0;n<e.watch.length;n++)!function(n){var i=t[n]||r;t[n]=function(){try{var r=Array.prototype.slice.call(arguments);if(o.log.add("c",{timestamp:o.util.isoNow(),severity:n,message:o.serialize(1===r.length?r[0]:r)}),e[n])if(d.isError(r[0])&&1===r.length)o.onError("console",r[0]);else try{throw Error(o.serialize(1===r.length?r[0]:r))}catch(t){o.onError("console",t)}e.display&&(o.util.hasFunction(i,"apply")?i.apply(t,r):i(r[0]))}catch(t){o.onFault(t)}}}(e.watch[n]);return t},report:function(){return this.log.all("c")}};var a=function(t,e,n,r,o){this.config=t,this.util=e,this.log=n,this.window=r,this.document=o,this.correlationId=this.token=null,this.initialize()};a.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var t=this.document.getElementsByTagName("script");return t[t.length-1].getAttribute("data-token")},getCorrelationId:function(){var t;if(!this.config.current.cookie)return this.util.uuid();try{(t=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"))||(t=this.util.uuid(),this.document.cookie="TrackJS="+t+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(e){t=this.util.uuid()}return t},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var u=function(t){this.config=t,this.loadedOn=(new Date).getTime(),this.originalUrl=d.getLocation(),this.referrer=d.isBrowser?e.referrer:""};u.prototype={discoverDependencies:function(){var e={TrackJS:"3.10.1"};for(var n in t.jQuery&&t.jQuery.fn&&t.jQuery.fn.jquery&&(e.jQuery=t.jQuery.fn.jquery),t.jQuery&&t.jQuery.ui&&t.jQuery.ui.version&&(e.jQueryUI=t.jQuery.ui.version),t.angular&&t.angular.version&&t.angular.version.full&&(e.angular=t.angular.version.full),t)if("_trackJs"!==n&&"_trackJS"!==n&&"_trackjs"!==n&&"webkitStorageInfo"!==n&&"webkitIndexedDB"!==n&&"top"!==n&&"parent"!==n&&"frameElement"!==n)try{if(t[n]){var r=t[n].version||t[n].Version||t[n].VERSION;"string"==typeof r&&(e[n]=r)}}catch(t){}return e.TrackJS&&e.trackJs&&delete e.trackJs,e},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.10.1"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:t.navigator.userAgent,viewportHeight:d.isBrowser?t.document.documentElement.clientHeight:0,viewportWidth:d.isBrowser?t.document.documentElement.clientWidth:0}}};var c=function(t){this.util=t,this.appender=[],this.maxLength=30};c.prototype={all:function(t){var e,n,r=[];for(n=0;n<this.appender.length;n++)(e=this.appender[n])&&e.category===t&&r.push(e.value);return r},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(t,e){var n=this.util.uuid();return this.appender.push({key:n,category:t,value:e}),this.truncate(),n},get:function(t,e){var n,r;for(r=0;r<this.appender.length;r++)if((n=this.appender[r]).category===t&&n.key===e)return n.value;return!1}};var s=function(t){var e={};return{addMetadata:function(t,n){e[t]=n},removeMetadata:function(t){delete e[t]},report:function(){var n,r=[];for(n in e)e.hasOwnProperty(n)&&r.push({key:n,value:t(e[n])});return r},store:e}},l=function(t,e){this.log=t,this.options=e,e.enabled&&this.watch()};l.prototype={isCompatible:function(e){return e=e||t,!d.has(e,"chrome.app.runtime")&&d.has(e,"addEventListener")&&d.has(e,"history.pushState")},record:function(t,e,n){this.log.add("h",{type:t,from:d.truncate(e,250),to:d.truncate(n,250),on:d.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var e=this,n=d.getLocationURL().relative;t.addEventListener("popstate",(function(){var t=d.getLocationURL().relative;e.record("popState",n,t),n=t}),!0),d.forEach(["pushState","replaceState"],(function(t){d.patch(history,t,(function(r){return function(){n=d.getLocationURL().relative;var o=r.apply(this,arguments),i=d.getLocationURL().relative;return e.record(t,n,i),n=i,o}}))}))}}};var f=function(t,e,n,r,o,i){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.window=o,this.options=i,i.enabled&&this.initialize(o)};f.prototype={initialize:function(t){t.XMLHttpRequest&&this.util.hasFunction(t.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XMLHttpRequest),t.XDomainRequest&&this.util.hasFunction(t.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XDomainRequest),this.options.fetch&&d.isWrappableFunction(t.fetch)&&this.watchFetch()},escapeUrl:function(t){return(""+t).replace(/ /gi,"%20").replace(/\t/gi,"%09")},watchFetch:function(){var e=this,n=this.log,r=this.options,o=this.onError;d.patch(t,"fetch",(function(i){return function(a,u){if(u&&u.__trackjs__)return i.apply(t,arguments);var c;try{throw Error()}catch(t){c=t.stack}var s=a instanceof Request?a.url:a,l=a instanceof Request?a.method:(u||{}).method||"GET",f=(s=e.escapeUrl(s),i.apply(t,arguments));return f.__trackjs_state__=n.add("n",{type:"fetch",startedOn:d.isoNow(),method:l,url:d.truncate(s,2e3)}),f.then((function(t){var e=n.get("n",f.__trackjs_state__);if(e){d.defaults(e,{completedOn:d.isoNow(),statusCode:t.status,statusText:t.statusText});var i=t.headers.get("trackjs-correlation-id");i&&(e.requestCorrelationId=i),r.error&&400<=t.status&&((e=Error(e.statusCode+" : "+e.method+" "+e.url)).stack=c,o("ajax",e))}return t})).catch((function(t){t=t||{};var e=n.get("n",f.__trackjs_state__);throw e&&(d.defaults(e,{completedOn:d.isoNow(),statusCode:0,statusText:t.toString()}),r.error&&(o("ajax",{name:t.name,message:(t.message||"Failed")+": "+e.method+" "+e.url,stack:t.stack||c}),t.__trackjs_state__=!0)),t}))}}))},watchNetworkObject:function(t){var e=this,n=t.prototype.open,r=t.prototype.send;return t.prototype.open=function(t,r){var o=(r||"").toString();return 0>o.indexOf("localhost:0")&&(o=e.escapeUrl(o),this._trackJs={method:t,url:o}),n.apply(this,arguments)},t.prototype.send=function(){if(!this._trackJs)try{return r.apply(this,arguments)}catch(t){return void e.onError("ajax",t)}try{this._trackJs.logId=e.log.add("n",{type:"xhr",startedOn:e.util.isoNow(),method:this._trackJs.method,url:d.truncate(this._trackJs.url,2e3)}),e.listenForNetworkComplete(this)}catch(t){e.onFault(t)}return r.apply(this,arguments)},t},listenForNetworkComplete:function(t){var e=this;e.window.ProgressEvent&&t.addEventListener&&t.addEventListener("readystatechange",(function(){4===t.readyState&&e.finalizeNetworkEvent(t)}),!0),t.addEventListener?t.addEventListener("load",(function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t)}),!0):setTimeout((function(){try{var n=t.onload;t.onload=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof n&&e.util.hasFunction(n,"apply")&&n.apply(t,arguments)};var r=t.onerror;t.onerror=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof oldOnError&&r.apply(t,arguments)}}catch(t){e.onFault(t)}}),0)},finalizeNetworkEvent:function(t){if(t._trackJs){var e=this.log.get("n",t._trackJs.logId);e&&(e.completedOn=this.util.isoNow(),t.getAllResponseHeaders&&t.getResponseHeader&&0<=(t.getAllResponseHeaders()||"").toLowerCase().indexOf("trackjs-correlation-id")&&(e.requestCorrelationId=t.getResponseHeader("trackjs-correlation-id")),e.statusCode=1223==t.status?204:t.status,e.statusText=1223==t.status?"No Content":t.statusText)}},checkNetworkFault:function(t){if(this.options.error&&400<=t.status&&1223!=t.status){var e=t._trackJs||{};this.onError("ajax",t.status+" : "+e.method+" "+e.url)}},report:function(){return this.log.all("n")}};var p=function(e,n){this.util=e,this.config=n,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},t.JSON&&t.JSON.stringify||(this.disabled=!0)};p.prototype={errorEndpoint:function(e){var n=this.config.current,r=n.errorURL;return d.isBrowser&&!d.testCrossdomainXhr()&&-1===t.location.protocol.indexOf("https")?r=n.errorNoSSLURL:n.forwardingDomain&&(r="https://"+n.forwardingDomain+"/capture"),r+"?token="+e+"&v=3.10.1"},usageEndpoint:function(t){var e=this.config.current,n=e.usageURL;return e.forwardingDomain&&(n="https://"+e.forwardingDomain+"/usage.gif"),this.appendObjectAsQuery(t,n)},trackerFaultEndpoint:function(t){var e=(this.config||{}).current||o.prototype.defaults,n=e.faultURL;return e.forwardingDomain&&(n="https://"+e.forwardingDomain+"/fault.gif"),this.appendObjectAsQuery(t,n)},appendObjectAsQuery:function(t,e){for(var n in e+="?",t)t.hasOwnProperty(n)&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&");return e},getCORSRequest:function(e,n){var r;return this.util.testCrossdomainXhr()?((r=new t.XMLHttpRequest).open(e,n),r.setRequestHeader("Content-Type","text/plain")):void 0!==t.XDomainRequest?(r=new t.XDomainRequest).open(e,n):r=null,r},sendTrackerFault:function(t){this.throttle(t)||(d.isBrowser?e.createElement("img").src=this.trackerFaultEndpoint(t):fetch(this.trackerFaultEndpoint(t),{mode:"no-cors",__trackjs__:!0}))},sendUsage:function(t){d.isBrowser?e.createElement("img").src=this.usageEndpoint(t):fetch(this.usageEndpoint(t),{mode:"no-cors",__trackjs__:!0})},sendError:function(e,r){var o=this;if(!this.disabled&&!this.throttle(e))try{if(d.isBrowser){var i=this.getCORSRequest("POST",this.errorEndpoint(r));i.onreadystatechange=function(){4!==i.readyState||d.contains([200,202],i.status)||(o.disabled=!0)},i._trackJs=n,i.send(t.JSON.stringify(e))}else if(d.isWorker){var a={method:"POST",mode:"cors",body:t.JSON.stringify(e),__trackjs__:1};fetch(this.errorEndpoint(r),a).then((function(t){t.ok||(o.disabled=!0)})).catch((function(t){o.disabled=!0}))}}catch(t){throw this.disabled=!0,t}},throttle:function(t){var e=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=e){if(this.throttleStats.lastAttempt=e,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else t.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=e,this.throttleStats.throttledCount=0;return!1}};var d=function(){function r(t,e,i,a){return i=i||!1,a=a||0,d.forEach(e,(function(e){d.forEach(d.keys(e),(function(u){null===e[u]||e[u]===n?t[u]=e[u]:i&&10>a&&"[object Object]"===o(e[u])?(t[u]=t[u]||{},r(t[u],[e[u]],i,a+1)):t.hasOwnProperty(u)||(t[u]=e[u])}))})),t}function o(t){return Object.prototype.toString.call(t)}return{isBrowser:void 0!==t&&void 0!==t.document,isWorker:"object"==typeof self&&self.constructor&&0<=(self.constructor.name||"").indexOf("WorkerGlobalScope"),isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,addEventListenerSafe:function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n)},afterDocumentLoad:function(t){if(d.isWorker)d.defer(t);else{var n=!1;"complete"===e.readyState?d.defer(t):(d.addEventListenerSafe(e,"readystatechange",(function(){"complete"!==e.readyState||n||(d.defer(t),n=!0)})),setTimeout((function(){n||(d.defer(t),n=!0)}),1e4))}},bind:function(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}},contains:function(t,e){return 0<=t.indexOf(e)},defaults:function(t){return r(t,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(t){return r(t,Array.prototype.slice.call(arguments,1),!0)},defer:function(t,e){setTimeout((function(){t.apply(e)}))},forEach:function(t,e,n){if(d.isArray(t)){if(t.forEach)return t.forEach(e,n);for(var r=0;r<t.length;)e.call(n,t[r],r,t),r++}},getLocation:function(){return t.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return d.parseURL(d.getLocation())},has:function(t,e){try{for(var n=e.split("."),r=t,o=0;o<n.length;o++){if(!r[n[o]])return!1;r=r[n[o]]}return!0}catch(t){return!1}},hasFunction:function(t,e){try{return!!t[e]}catch(t){return!1}},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},isArray:function(t){return"[object Array]"===o(t)},isBoolean:function(t){return"boolean"==typeof t||d.isObject(t)&&"[object Boolean]"===o(t)},isBrowserIE:function(e){var n=(e=e||t.navigator.userAgent).match(/Trident\/([\d.]+)/);return n&&"7.0"===n[1]?11:!!(e=e.match(/MSIE ([\d.]+)/))&&parseInt(e[1],10)},isBrowserSupported:function(){var t=this.isBrowserIE();return!t||8<=t},isError:function(t){if(!d.isObject(t))return!1;var e=o(t);return"[object Error]"===e||"[object DOMException]"===e||d.isString(t.name)&&d.isString(t.message)},isElement:function(t){return d.isObject(t)&&1===t.nodeType},isFunction:function(t){return!(!t||"function"!=typeof t)},isNumber:function(t){return"number"==typeof t||d.isObject(t)&&"[object Number]"===o(t)},isObject:function(t){return!(!t||"object"!=typeof t)},isString:function(t){return"string"==typeof t||!d.isArray(t)&&d.isObject(t)&&"[object String]"===o(t)},isWrappableFunction:function(t){return this.isFunction(t)&&this.hasFunction(t,"apply")},isoNow:function(){var t=new Date;return t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+this.pad(t.getUTCMonth()+1)+"-"+this.pad(t.getUTCDate())+"T"+this.pad(t.getUTCHours())+":"+this.pad(t.getUTCMinutes())+":"+this.pad(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(t){if(!d.isObject(t))return[];var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},noop:function(){},pad:function(t){return 1===(t=String(t)).length&&(t="0"+t),t},parseURL:function(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?((e={protocol:e[2],host:e[4],path:e[5],query:e[6],hash:e[8]}).origin=(e.protocol||"")+"://"+(e.host||""),e.relative=(e.path||"")+(e.query||"")+(e.hash||""),e.href=t,e):{}},patch:function(t,e,n){t[e]=n(t[e]||d.noop)},testCrossdomainXhr:function(){return d.isBrowser&&"withCredentials"in new XMLHttpRequest},truncate:function(t,e){if((t=""+t).length<=e)return t;var n=t.length-e;return t.substr(0,e)+"...{"+n+"}"},tryGet:function(t,e){try{return t[e]}catch(t){}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},wrapError:function(t){var e=t||Object.prototype.toString.call(t);if(e&&e.innerError)return t;var n=Error("TrackJS Caught: "+(e.message||e));return n.description="TrackJS Caught: "+e.description,n.file=e.file,n.line=e.line||e.lineNumber,n.column=e.column||e.columnNumber,n.stack=e.stack,n.innerError=t,n}}}(),h=function(t,e,n,r,o,i){this.util=t,this.log=e,this.onError=n,this.onFault=r,this.options=i,this.document=o,t.isBrowser&&i.enabled&&this.initialize(o)};h.prototype={initialize:function(t){var e=this.util.bind(this.onDocumentClicked,this),n=this.util.bind(this.onInputChanged,this);t.addEventListener?(t.addEventListener("click",e,!0),t.addEventListener("blur",n,!0)):t.attachEvent&&(t.attachEvent("onclick",e),t.attachEvent("onfocusout",n))},onDocumentClicked:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"a")||this.isDescribedElement(e,"button")||this.isDescribedElement(e,"input",["button","submit"])?this.writeVisitorEvent(e,"click"):this.isDescribedElement(e,"input",["checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value,e.checked))}catch(t){this.onFault(t)}},onInputChanged:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"textarea")?this.writeVisitorEvent(e,"input",e.value):this.isDescribedElement(e,"select")&&e.options&&e.options.length?this.onSelectInputChanged(e):this.isDescribedElement(e,"input")&&!this.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value))}catch(t){this.onFault(t)}},onSelectInputChanged:function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.writeVisitorEvent(t,"input",t.options[e].value);else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeVisitorEvent(t,"input",t.options[t.selectedIndex].value)},writeVisitorEvent:function(t,e,r,o){"password"===this.getElementType(t)&&(r=n);var i=this.getElementAttributes(t);t.innerText&&(i.__trackjs_element_text=this.util.truncate(t.innerText,500)),this.log.add("v",{timestamp:this.util.isoNow(),action:e,element:{tag:t.tagName.toLowerCase(),attributes:i,value:this.getMetaValue(r,o)}})},getElementFromEvent:function(t){return t.target||e.elementFromPoint(t.clientX,t.clientY)},isDescribedElement:function(t,e,n){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!n)return!0;for(t=this.getElementType(t),e=0;e<n.length;e++)if(n[e]===t)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(t){for(var e={},n=Math.min(t.attributes.length,10),r=0;r<n;r++){var o=t.attributes[r];d.contains(["data-value","value"],o.name.toLowerCase())||(e[o.name]=d.truncate(o.value,100))}return e},getMetaValue:function(t,e){return t===n?n:{length:t.length,pattern:this.matchInputPattern(t),checked:e}},matchInputPattern:function(t){return""===t?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"usphone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":/^[a-zA-Z]*$/.test(t)?"alpha":/^[a-zA-Z0-9]*$/.test(t)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var v=function(t,e,n,r,o){this.onError=t,this.onFault=e,this.serialize=n,o.enabled&&this.watchWindowErrors(r),o.promise&&this.watchPromiseErrors(r)};v.prototype={watchPromiseErrors:function(t){var e=this;t.addEventListener?t.addEventListener("unhandledrejection",(function(t){try{var r=(t=t||{}).detail?d.tryGet(t.detail,"reason"):d.tryGet(t,"reason");if(r!==n&&null!==r&&!r.__trackjs_state__){if(!d.isError(r))try{throw Error(e.serialize(r))}catch(t){r=t}e.onError("promise",r)}}catch(t){e.onFault(t)}})):d.patch(t,"onunhandledrejection",(function(t){return function(n){e.onError("promise",n),t.apply(this,arguments)}}))},watchWindowErrors:function(t){var e=this;d.patch(t,"onerror",(function(t){return function(n,r,o,i,a){try{if(d.isError(a))return e.onError("window",a),void t.apply(this,arguments);var u={message:(a=a||{}).message||e.serialize(n),name:a.name||"Error",line:a.line||parseInt(o,10)||null,column:a.column||parseInt(i,10)||null,stack:a.stack||null};"[object Event]"!==Object.prototype.toString.call(n)||r?u.file=a.file||e.serialize(r):u.file=(n.target||{}).src,e.onError("window",u)}catch(t){e.onFault(t)}t.apply(this,arguments)}}))}};var y=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=t,this.document=e,this.util=d,this.install=d.bind(this.install,this),this.onError=d.bind(this.onError,this),this.onFault=d.bind(this.onFault,this),this.serialize=d.bind(this.serialize,this),this.log=new c(d),this.metadata=new s(this.serialize);var n=t&&(t._trackJs||t._trackJS||t._trackjs);n&&this.install(n)};return y.prototype={install:function(t){try{if(d.isNode)return this.warn("monitoring disabled in node"),!1;if(!d.has(t,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new o(t),this.transmitter=new p(this.util,this.config),this.environment=new u(this.config),this.customer=new a(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new i(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new r(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new h(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new l(this.log,this.config.current.navigation),this.networkWatcher=new f(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new v(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var e=this;return d.afterDocumentLoad((function(){e.transmitter.sendUsage({token:e.customer.token,correlationId:e.customer.correlationId,application:e.config.current.application,x:e.util.uuid()})})),this.hasInstalled=!0}catch(t){return this.onFault(t),!1}},pub:function(){var t=this,e={addMetadata:this.metadata.addMetadata,attempt:function(e,n){try{var r=Array.prototype.slice.call(arguments,2);return e.apply(n||this,r)}catch(e){throw t.onError("catch",e),d.wrapError(e)}},configure:function(e){return!t.hasInstalled&&t.hasEnabled?(t.warn("agent must be installed"),!1):t.config.setCurrent(e)},hash:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",isInstalled:function(){return t.hasInstalled},install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(e){if(!t.hasInstalled&&t.hasEnabled)t.warn("agent must be installed");else{var n=d.isError(e)?e.message:t.serialize(e);if(!(e=e||{}).stack)try{throw Error(n)}catch(t){e=t}t.onError("direct",e)}},version:"3.10.1",watch:function(e,n){return function(){try{var r=Array.prototype.slice.call(arguments,0);return e.apply(n||this,r)}catch(e){throw t.onError("catch",e),d.wrapError(e)}}},watchAll:function(t){var e,n=Array.prototype.slice.call(arguments,1);for(e in t)"function"!=typeof t[e]||d.contains(n,e)||(t[e]=this.watch(t[e],t));return t}};return new i(d,t.log,t.onError,t.onFault,t.serialize,e,o.prototype.defaults.console),e},onError:function(){var e,n=!1;return function(r,o,i){if(this.hasInstalled&&this.hasEnabled&&d.isBrowserSupported())try{if(i=i||{bindStack:null,bindTime:null,force:!1},o&&d.isError(o)||(o={name:"Error",message:this.serialize(o,i.force)}),-1===o.message.indexOf("TrackJS Caught"))if(n&&-1!==o.message.indexOf("Script error"))n=!1;else{var a=d.defaultsDeep({},{agentPlatform:d.isBrowser?"browser":"worker",bindStack:i.bindStack,bindTime:i.bindTime,column:o.column||o.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:r,environment:this.environment.report(),file:o.file||o.fileName,line:o.line||o.lineNumber,message:o.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(t.location||"").toString(),stack:o.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.10.1"});if(!i.force)try{if(!this.config.current.onError(a,o))return}catch(t){a.console.push({timestamp:this.util.isoNow(),severity:"error",message:t.message});var u=this;setTimeout((function(){u.onError("catch",t,{force:!0})}),0)}if(this.config.current.dedupe){var c=(a.message+a.stack).substr(0,1e4);if(c===e)return;e=c}!function(){function t(){var t=0;return d.forEach(a.console,(function(e){t+=(e.message||"").length})),8e4<=t}for(var e=0;t()&&e<a.console.length;)a.console[e].message=d.truncate(a.console[e].message,1e3),e++}(),this.log.clear(),setTimeout((function(){n=!1})),n=!0,this.transmitter.sendError(a,this.customer.token)}}catch(t){this.onFault(t)}}}(),onFault:function(t){var e=this.transmitter||new p;t=t||{},t={token:(this.customer||{}).token,file:t.file||t.fileName,msg:t.message||"unknown",stack:(t.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.10.1",h:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",x:this.util.uuid()},e.sendTrackerFault(t)},serialize:function(t,e){if(this.hasInstalled&&this.config.current.serialize&&!e)try{return this.config.current.serialize(t)}catch(t){this.onError("catch",t,{force:!0})}return o.prototype.defaults.serialize(t)},warn:function(e){d.has(t,"console.warn")&&t.console.warn("TrackJS: "+e)}},(new y).pub()}("undefined"==typeof self?void 0:self,"undefined"==typeof document?void 0:document),Nl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Ll=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Bl(){return Nl(this,void 0,void 0,(function(){var t;return Ll(this,(function(e){return t=_u(Qa.getState()),n=La(t),ml&&ml.status===Ca.Ready?(xr.debug("Tracking cross domain page",n),ml.send((r=n,vl(dl.PageviewRequest,r)))):Qr("cross-domain-not-ready-on-pageview"),[2];var n,r}))}))}function zl(){return Nl(this,void 0,void 0,(function(){var t,e;return Ll(this,(function(n){return t=_u(Qa.getState()),e=La(t),xr.debug("Tracking local page",e),Qa.dispatch(Va(e)),[2]}))}))}var Fl=n(8446),Ml=n.n(Fl);function Ul(t,e,n){var r;function o(){var o=e(t.getState());Ml()(o,r)||n(r=o)}var i=t.subscribe(o);return o(),i}function Vl(){return document.cookie.includes("ss_galactus_enabled")}function Wl(t,e){var n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)}var Hl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))},Gl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};var Jl=null;function $l(){return Hl(this,void 0,void 0,(function(){var t,e,n;return Gl(this,(function(r){var o;return o=Qa.getState(),t=o.App.state===aa.Delayed,e=yu(Qa.getState()),t||e?function(t,e){return t instanceof He&&e instanceof He&&t.product===e.product&&t.productId===e.productId&&t.page===e.page&&t.pageId===e.pageId}(n=He.fromWindow(),Jl)?(xr.info("Page context did not change, skipping pageview"),[2,!1]):(xr.debug("Firing manual pageview"),ll(),zl().catch(xr.error),e&&(ju(Qa.getState())&&Bl().catch(xr.error),Qa.dispatch(Sa.reboot())),t&&Qa.dispatch(Sa.starting()),Jl=n,[2,!0]):(xr.error("trackPageview cannot be triggered until SilverSurfer is bootstrapped"),[2,!1])}))}))}var ql,Kl,Xl={trackPageview:$l,getContext:fl,registerClient:pl,getUserProfile:jc,addInteraction:Ol,ACTION:jl,addActiveDataAction:tf,addAction:Cl,getAllActions:Dl,getActions:Tl,getGalactusUserProfile:Ku,isCrossdomainFinished:uf,isCrossdomainDisabled:cf,isInitialized:sf,isReady:lf,getVersionHash:ff},Yl=jl;function Ql(){return $l()}function Zl(t){return pl(t)}function tf(t,e,n,r){return function(t,e,n,r){return El(this,void 0,void 0,(function(){return kl(this,(function(o){switch(o.label){case 0:return r._type=n,[4,vc({time:Date.now(),name:e,type:n,payload:r})];case 1:return o.sent()?[4,Cl(t,e,n,r)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}(t,e,n,r)}function ef(t,e,n,r){return Cl(t,e,n,r)}function nf(t,e){return Tl(t,e)}function rf(t){return Dl(t)}function of(){return jc()}function af(t){return Ol(t)}function uf(){return Nu(Qa.getState())}function cf(){return(t=Qa.getState()).App.config.disableCrossdomain||t.BrowserStorage.crossdomain.status===Ca.Off;var t}function sf(){return yu(Qa.getState())}function lf(){return sf()&&(uf()||cf())}function ff(){return pr}function pf(t){return Ku(t||Ye())}function df(){return fl()}try{(Math.random()<25e-5||hr())&&!fr()&&(Rl.install({token:"9c54fb276b8f4be1b6a43ae2a27355d1",version:"surfer-sdk@".concat(pr),onError:function(t){return(null==t?void 0:t.file)?-1!=t.file.indexOf("silversurfer"):!!(null==t?void 0:t.stack)&&-1!=t.stack.indexOf("silversurfer")},network:{enabled:!1,error:!1}}),window.TrackJS=Rl)}catch(Ro){xr.error("Failed to install TrackJS",Ro)}try{_n(Ue.SS_PRE_BOOTSTRAP),Qa.getState().App.state===aa.New&&(xr.debug("Booting",pr,Qa.getState().App.config),function(){var t=this,e=Ul(Qa,Bu,(function(n){return Hl(t,void 0,void 0,(function(){return Gl(this,(function(t){var r;return n&&(e(),xr.debug("Booted, running post-boot actions"),Ul(Qa,Au,(function(t){(function(t){return no(this,void 0,void 0,(function(){var e,n,r,o,i;return ro(this,(function(a){switch(a.label){case 0:return uo()?[4,Jr(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,ao()?[4,Vn(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?xr.debug("Local pages updated from cross domain"):(xr.error("Failed to update local pages"),Qr("error-updating-pages")),[2,i]}}))}))})(t.map(La)).then((function(){xr.debug("LocalStorage pages saved",t)}))})),Ul(Qa,Iu,(function(t){(function(t){return no(this,void 0,void 0,(function(){var e,n,r,o,i;return ro(this,(function(a){switch(a.label){case 0:return uo()?[4,Xr(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,ao()?[4,Hn(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?xr.debug("Local actions updated from cross domain"):(xr.error("Failed to update local actions"),Qr("error-updating-actions")),[2,i]}}))}))})(t).then((function(){xr.debug("LocalStorage actions saved",t)}))})),Ul(Qa,Du,(function(t){(function(t){return no(this,void 0,void 0,(function(){var e,n,r,o,i;return ro(this,(function(a){switch(a.label){case 0:return uo()?[4,$r(t)]:[3,2];case 1:return n=a.sent(),[3,3];case 2:n=!1,a.label=3;case 3:return e=n,ao()?[4,Mn(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return r=o,(i=e||r)?xr.debug("Local interactions updated from cross domain"):(xr.error("Failed to update local interactions"),Qr("error-updating-interactions")),[2,i]}}))}))})(t).then((function(){xr.debug("LocalStorage interactions saved",t)}))})),zl().catch(xr.error),jc().catch(xr.error),(Qa.getState().App.config.sendTracking||Vl())&&(Vl()||((r=new Date).setMonth(r.getMonth()+12),document.cookie="ss_galactus_enabled=true;expires="+r+";domain=.fandom.com;path=/")),Qa.dispatch(Sa.ready()),_n(Ue.SS_SDK_READY),Wl(Hu.READY),ra(Sl)),[2]}))}))}))}(),ql=Ul(Qa,Ou,(function(t){t&&(_n(Ue.SS_CROSS_DOMAIN_READY),ql(),xr.debug("Cross domain initialized:",xu(Qa.getState()),Qa.getState().BrowserStorage.crossdomain.statusErrorMessage),wu(Qa.getState())||Bl().catch(xr.error))})),Kl=Ul(Qa,Nu,(function(t){t&&(Kl(),xr.debug("Cross domain finished"))})),function(){return function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,u,c;return function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return[4,fo(t=Math.random()<.05?0==Math.floor(2*Math.random())?eo.IndexedDB:eo.LocalStorage:eo.BOTH)];case 1:return e=s.sent(),[4,po(t)];case 2:return n=s.sent(),[4,ho(t)];case 3:return r=s.sent(),o={interactions:r,actions:n,pages:e},xr.debug("Read from local domain",o),Qa.dispatch(Ka(o)),[4,vo(t)];case 4:i=s.sent(),Qa.dispatch(Xa(i)),a=cu(e)+cu(n)+cu([r]),Er("sdk-read-pages",e.length,.02,cu(e).toString()),Er("sdk-total-objects",a,.02,n.length.toString()),Er("sdk-storage-size",i.indexedDBSize,.02,i.localStorageSize.toString()),s.label=5;case 5:return s.trys.push([5,8,,9]),navigator&&navigator.storage&&navigator.storage.estimate?[4,window.navigator.storage.estimate()]:[3,7];case 6:u=s.sent(),c=u.quota,Er("sdk-navigator-estimate",u.usage,.02,c.toString()),u.usageDetails&&u.usageDetails.indexedDB&&Er("sdk-navigator-estimate-indexeddb",u.usageDetails.indexedDB,.02),s.label=7;case 7:return[3,9];case 8:return s.sent(),[3,9];case 9:return[2]}}))}))}().catch(xr.error),wu(Qa.getState())?(xr.info("Manual pageview is enabled"),Qa.dispatch(Sa.delayed()),Wl(Hu.DELAYED)):(ll(),zl().catch(xr.error),Qa.dispatch(Sa.starting())))}catch(Ro){xr.error("SilverSurfer bootstrap failed",Ro)}const hf=Xl})(),r})()}));
//# sourceMappingURL=sdk.js.map